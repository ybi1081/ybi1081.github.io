(self["webpackChunkmyapp"]=self["webpackChunkmyapp"]||[]).push([[998],{9662:function(e,t,o){var i=o(614),n=o(6330),r=TypeError;e.exports=function(e){if(i(e))return e;throw r(n(e)+" is not a function")}},6077:function(e,t,o){var i=o(614),n=String,r=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw r("Can't set "+n(e)+" as a prototype")}},5787:function(e,t,o){var i=o(7976),n=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw n("Incorrect invocation")}},9670:function(e,t,o){var i=o(111),n=String,r=TypeError;e.exports=function(e){if(i(e))return e;throw r(n(e)+" is not an object")}},1318:function(e,t,o){var i=o(5656),n=o(1400),r=o(6244),s=function(e){return function(t,o,s){var a,l=i(t),u=r(l),c=n(s,u);if(e&&o!=o){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===o)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},3658:function(e,t,o){"use strict";var i=o(9781),n=o(3157),r=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(n(e)&&!s(e,"length").writable)throw r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:function(e,t,o){var i=o(1702),n=i({}.toString),r=i("".slice);e.exports=function(e){return r(n(e),8,-1)}},648:function(e,t,o){var i=o(1694),n=o(614),r=o(4326),s=o(5112),a=s("toStringTag"),l=Object,u="Arguments"==r(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(o){}};e.exports=i?r:function(e){var t,o,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=c(t=l(e),a))?o:u?r(t):"Object"==(i=r(t))&&n(t.callee)?"Arguments":i}},9920:function(e,t,o){var i=o(2597),n=o(3887),r=o(1236),s=o(3070);e.exports=function(e,t,o){for(var a=n(t),l=s.f,u=r.f,c=0;c<a.length;c++){var d=a[c];i(e,d)||o&&i(o,d)||l(e,d,u(t,d))}}},8880:function(e,t,o){var i=o(9781),n=o(3070),r=o(9114);e.exports=i?function(e,t,o){return n.f(e,t,r(1,o))}:function(e,t,o){return e[t]=o,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,o){var i=o(614),n=o(3070),r=o(6339),s=o(3072);e.exports=function(e,t,o,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(i(o)&&r(o,u,a),a.global)l?e[t]=o:s(t,o);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=o:n.f(e,t,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},3072:function(e,t,o){var i=o(7854),n=Object.defineProperty;e.exports=function(e,t){try{n(i,e,{value:t,configurable:!0,writable:!0})}catch(o){i[e]=t}return t}},5117:function(e,t,o){"use strict";var i=o(6330),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw n("Cannot delete property "+i(t)+" of "+i(e))}},9781:function(e,t,o){var i=o(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,o="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:o}},317:function(e,t,o){var i=o(7854),n=o(111),r=i.document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},7207:function(e){var t=TypeError,o=9007199254740991;e.exports=function(e){if(e>o)throw t("Maximum allowed index exceeded");return e}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8113:function(e,t,o){var i=o(5005);e.exports=i("navigator","userAgent")||""},7392:function(e,t,o){var i,n,r=o(7854),s=o(8113),a=r.process,l=r.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=c.split("."),n=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(n=+i[1]))),e.exports=n},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(e,t,o){var i=o(1702),n=Error,r=i("".replace),s=function(e){return String(n(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=r(e,a,"");return e}},2109:function(e,t,o){var i=o(7854),n=o(1236).f,r=o(8880),s=o(8052),a=o(3072),l=o(9920),u=o(4705);e.exports=function(e,t){var o,c,d,p,h,f,g=e.target,m=e.global,v=e.stat;if(c=m?i:v?i[g]||a(g,{}):(i[g]||{}).prototype,c)for(d in t){if(h=t[d],e.dontCallGetSet?(f=n(c,d),p=f&&f.value):p=c[d],o=u(m?d:g+(v?".":"#")+d,e.forced),!o&&void 0!==p){if(typeof h==typeof p)continue;l(h,p)}(e.sham||p&&p.sham)&&r(h,"sham",!0),s(c,d,h,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4374:function(e,t,o){var i=o(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,o){var i=o(4374),n=Function.prototype.call;e.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},6530:function(e,t,o){var i=o(9781),n=o(2597),r=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=n(r,"name"),l=a&&"something"===function(){}.name,u=a&&(!i||i&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},1702:function(e,t,o){var i=o(4374),n=Function.prototype,r=n.call,s=i&&n.bind.bind(r,r);e.exports=i?s:function(e){return function(){return r.apply(e,arguments)}}},5005:function(e,t,o){var i=o(7854),n=o(614),r=function(e){return n(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},8173:function(e,t,o){var i=o(9662),n=o(8554);e.exports=function(e,t){var o=e[t];return n(o)?void 0:i(o)}},7854:function(e,t,o){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof o.g&&o.g)||function(){return this}()||Function("return this")()},2597:function(e,t,o){var i=o(1702),n=o(7908),r=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(n(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,o){var i=o(9781),n=o(7293),r=o(317);e.exports=!i&&!n((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,o){var i=o(1702),n=o(7293),r=o(4326),s=Object,a=i("".split);e.exports=n((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a(e,""):s(e)}:s},9587:function(e,t,o){var i=o(614),n=o(111),r=o(7674);e.exports=function(e,t,o){var s,a;return r&&i(s=t.constructor)&&s!==o&&n(a=s.prototype)&&a!==o.prototype&&r(e,a),e}},2788:function(e,t,o){var i=o(1702),n=o(614),r=o(5465),s=i(Function.toString);n(r.inspectSource)||(r.inspectSource=function(e){return s(e)}),e.exports=r.inspectSource},9909:function(e,t,o){var i,n,r,s=o(4811),a=o(7854),l=o(111),u=o(8880),c=o(2597),d=o(5465),p=o(6200),h=o(3501),f="Object already initialized",g=a.TypeError,m=a.WeakMap,v=function(e){return r(e)?n(e):i(e,{})},y=function(e){return function(t){var o;if(!l(t)||(o=n(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return o}};if(s||d.state){var C=d.state||(d.state=new m);C.get=C.get,C.has=C.has,C.set=C.set,i=function(e,t){if(C.has(e))throw g(f);return t.facade=e,C.set(e,t),t},n=function(e){return C.get(e)||{}},r=function(e){return C.has(e)}}else{var b=p("state");h[b]=!0,i=function(e,t){if(c(e,b))throw g(f);return t.facade=e,u(e,b,t),t},n=function(e){return c(e,b)?e[b]:{}},r=function(e){return c(e,b)}}e.exports={set:i,get:n,has:r,enforce:v,getterFor:y}},3157:function(e,t,o){var i=o(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},614:function(e,t,o){var i=o(4154),n=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===n}:function(e){return"function"==typeof e}},4705:function(e,t,o){var i=o(7293),n=o(614),r=/#|\.prototype\./,s=function(e,t){var o=l[a(e)];return o==c||o!=u&&(n(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,o){var i=o(614),n=o(4154),r=n.all;e.exports=n.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===r}:function(e){return"object"==typeof e?null!==e:i(e)}},1913:function(e){e.exports=!1},2190:function(e,t,o){var i=o(5005),n=o(614),r=o(7976),s=o(3307),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return n(t)&&r(t.prototype,a(e))}},6244:function(e,t,o){var i=o(7466);e.exports=function(e){return i(e.length)}},6339:function(e,t,o){var i=o(7293),n=o(614),r=o(2597),s=o(9781),a=o(6530).CONFIGURABLE,l=o(2788),u=o(9909),c=u.enforce,d=u.get,p=Object.defineProperty,h=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=e.exports=function(e,t,o){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(t="get "+t),o&&o.setter&&(t="set "+t),(!r(e,"name")||a&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&o&&r(o,"arity")&&e.length!==o.arity&&p(e,"length",{value:o.arity});try{o&&r(o,"constructor")&&o.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(n){}var i=c(e);return r(i,"source")||(i.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return n(this)&&d(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?o:t)(i)}},6277:function(e,t,o){var i=o(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},3070:function(e,t,o){var i=o(9781),n=o(4664),r=o(3353),s=o(9670),a=o(4948),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=i?r?function(e,t,o){if(s(e),t=a(t),s(o),"function"===typeof e&&"prototype"===t&&"value"in o&&h in o&&!o[h]){var i=c(e,t);i&&i[h]&&(e[t]=o.value,o={configurable:p in o?o[p]:i[p],enumerable:d in o?o[d]:i[d],writable:!1})}return u(e,t,o)}:u:function(e,t,o){if(s(e),t=a(t),s(o),n)try{return u(e,t,o)}catch(i){}if("get"in o||"set"in o)throw l("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},1236:function(e,t,o){var i=o(9781),n=o(6916),r=o(5296),s=o(9114),a=o(5656),l=o(4948),u=o(2597),c=o(4664),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=a(e),t=l(t),c)try{return d(e,t)}catch(o){}if(u(e,t))return s(!n(r.f,e,t),e[t])}},8006:function(e,t,o){var i=o(6324),n=o(748),r=n.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},7976:function(e,t,o){var i=o(1702);e.exports=i({}.isPrototypeOf)},6324:function(e,t,o){var i=o(1702),n=o(2597),r=o(5656),s=o(1318).indexOf,a=o(3501),l=i([].push);e.exports=function(e,t){var o,i=r(e),u=0,c=[];for(o in i)!n(a,o)&&n(i,o)&&l(c,o);while(t.length>u)n(i,o=t[u++])&&(~s(c,o)||l(c,o));return c}},5296:function(e,t){"use strict";var o={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!o.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:o},7674:function(e,t,o){var i=o(1702),n=o(9670),r=o(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,o={};try{e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(o,[]),t=o instanceof Array}catch(s){}return function(o,i){return n(o),r(i),t?e(o,i):o.__proto__=i,o}}():void 0)},2140:function(e,t,o){var i=o(6916),n=o(614),r=o(111),s=TypeError;e.exports=function(e,t){var o,a;if("string"===t&&n(o=e.toString)&&!r(a=i(o,e)))return a;if(n(o=e.valueOf)&&!r(a=i(o,e)))return a;if("string"!==t&&n(o=e.toString)&&!r(a=i(o,e)))return a;throw s("Can't convert object to primitive value")}},3887:function(e,t,o){var i=o(5005),n=o(1702),r=o(8006),s=o(5181),a=o(9670),l=n([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),o=s.f;return o?l(t,o(e)):t}},4488:function(e,t,o){var i=o(8554),n=TypeError;e.exports=function(e){if(i(e))throw n("Can't call method on "+e);return e}},6200:function(e,t,o){var i=o(2309),n=o(9711),r=i("keys");e.exports=function(e){return r[e]||(r[e]=n(e))}},5465:function(e,t,o){var i=o(7854),n=o(3072),r="__core-js_shared__",s=i[r]||n(r,{});e.exports=s},2309:function(e,t,o){var i=o(1913),n=o(5465);(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.1",mode:i?"pure":"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,o){var i=o(7392),n=o(7293);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},1400:function(e,t,o){var i=o(9303),n=Math.max,r=Math.min;e.exports=function(e,t){var o=i(e);return o<0?n(o+t,0):r(o,t)}},5656:function(e,t,o){var i=o(8361),n=o(4488);e.exports=function(e){return i(n(e))}},9303:function(e,t,o){var i=o(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},7466:function(e,t,o){var i=o(9303),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},7908:function(e,t,o){var i=o(4488),n=Object;e.exports=function(e){return n(i(e))}},7593:function(e,t,o){var i=o(6916),n=o(111),r=o(2190),s=o(8173),a=o(2140),l=o(5112),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!n(e)||r(e))return e;var o,l=s(e,c);if(l){if(void 0===t&&(t="default"),o=i(l,e,t),!n(o)||r(o))return o;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:function(e,t,o){var i=o(7593),n=o(2190);e.exports=function(e){var t=i(e,"string");return n(t)?t:t+""}},1694:function(e,t,o){var i=o(5112),n=i("toStringTag"),r={};r[n]="z",e.exports="[object z]"===String(r)},1340:function(e,t,o){var i=o(648),n=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return n(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(o){return"Object"}}},9711:function(e,t,o){var i=o(1702),n=0,r=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++n+r,36)}},3307:function(e,t,o){var i=o(6293);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,o){var i=o(9781),n=o(7293);e.exports=i&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(e,t,o){var i=o(7854),n=o(614),r=i.WeakMap;e.exports=n(r)&&/native code/.test(String(r))},5112:function(e,t,o){var i=o(7854),n=o(2309),r=o(2597),s=o(9711),a=o(6293),l=o(3307),u=n("wks"),c=i.Symbol,d=c&&c["for"],p=l?c:c&&c.withoutSetter||s;e.exports=function(e){if(!r(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&r(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):p(t)}return u[e]}},7658:function(e,t,o){"use strict";var i=o(2109),n=o(7908),r=o(6244),s=o(3658),a=o(7207),l=o(7293),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:u||c},{push:function(e){var t=n(this),o=r(t),i=arguments.length;a(o+i);for(var l=0;l<i;l++)t[o]=arguments[l],o++;return s(t,o),o}})},541:function(e,t,o){"use strict";var i=o(2109),n=o(7908),r=o(6244),s=o(3658),a=o(5117),l=o(7207),u=1!==[].unshift(0),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:u||c},{unshift:function(e){var t=n(this),o=r(t),i=arguments.length;if(i){l(o+i);var u=o;while(u--){var c=u+i;u in t?t[c]=t[u]:a(t,c)}for(var d=0;d<i;d++)t[d]=arguments[d]}return s(t,o+i)}})},2801:function(e,t,o){"use strict";var i=o(2109),n=o(7854),r=o(5005),s=o(9114),a=o(3070).f,l=o(2597),u=o(5787),c=o(9587),d=o(6277),p=o(3678),h=o(1060),f=o(9781),g=o(1913),m="DOMException",v=r("Error"),y=r(m),C=function(){u(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),o=d(e<2?void 0:arguments[1],"Error"),i=new y(t,o),n=v(t);return n.name=m,a(i,"stack",s(1,h(n.stack,1))),c(i,this,C),i},b=C.prototype=y.prototype,w="stack"in v(m),E="stack"in new y(1,2),S=y&&f&&Object.getOwnPropertyDescriptor(n,m),R=!!S&&!(S.writable&&S.configurable),O=w&&!R&&!E;i({global:!0,constructor:!0,forced:g||O},{DOMException:O?C:y});var T=r(m),_=T.prototype;if(_.constructor!==T)for(var P in g||a(_,"constructor",s(1,T)),p)if(l(p,P)){var D=p[P],A=D.s;l(T,A)||a(T,A,s(6,D.c))}},4870:function(e,t,o){"use strict";o.d(t,{BK:function(){return je},Bj:function(){return r},Fl:function(){return Ye},IU:function(){return Pe},Jd:function(){return S},PG:function(){return Re},SU:function(){return He},Um:function(){return we},WL:function(){return Be},X$:function(){return _},X3:function(){return _e},XI:function(){return Ie},Xl:function(){return De},dq:function(){return Fe},iH:function(){return Ne},j:function(){return O},lk:function(){return R},qj:function(){return be},qq:function(){return C},yT:function(){return Te}});o(7658);var i=o(7139);let n;class r{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=n,!e&&n&&(this.index=(n.scopes||(n.scopes=[])).push(this)-1)}run(e){if(this.active){const t=n;try{return n=this,e()}finally{n=t}}else 0}on(){n=this}off(){n=this.parent}stop(e){if(this.active){let t,o;for(t=0,o=this.effects.length;t<o;t++)this.effects[t].stop();for(t=0,o=this.cleanups.length;t<o;t++)this.cleanups[t]();if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function s(e,t=n){t&&t.active&&t.effects.push(e)}const a=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&f)>0,u=e=>(e.n&f)>0,c=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=f},d=e=>{const{deps:t}=e;if(t.length){let o=0;for(let i=0;i<t.length;i++){const n=t[i];l(n)&&!u(n)?n.delete(e):t[o++]=n,n.w&=~f,n.n&=~f}t.length=o}},p=new WeakMap;let h=0,f=1;const g=30;let m;const v=Symbol(""),y=Symbol("");class C{constructor(e,t=null,o){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,o)}run(){if(!this.active)return this.fn();let e=m,t=w;while(e){if(e===this)return;e=e.parent}try{return this.parent=m,m=this,w=!0,f=1<<++h,h<=g?c(this):b(this),this.fn()}finally{h<=g&&d(this),f=1<<--h,m=this.parent,w=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){m===this?this.deferStop=!0:this.active&&(b(this),this.onStop&&this.onStop(),this.active=!1)}}function b(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let w=!0;const E=[];function S(){E.push(w),w=!1}function R(){const e=E.pop();w=void 0===e||e}function O(e,t,o){if(w&&m){let t=p.get(e);t||p.set(e,t=new Map);let i=t.get(o);i||t.set(o,i=a());const n=void 0;T(i,n)}}function T(e,t){let o=!1;h<=g?u(e)||(e.n|=f,o=!l(e)):o=!e.has(m),o&&(e.add(m),m.deps.push(e))}function _(e,t,o,n,r,s){const l=p.get(e);if(!l)return;let u=[];if("clear"===t)u=[...l.values()];else if("length"===o&&(0,i.kJ)(e)){const e=(0,i.He)(n);l.forEach(((t,o)=>{("length"===o||o>=e)&&u.push(t)}))}else switch(void 0!==o&&u.push(l.get(o)),t){case"add":(0,i.kJ)(e)?(0,i.S0)(o)&&u.push(l.get("length")):(u.push(l.get(v)),(0,i._N)(e)&&u.push(l.get(y)));break;case"delete":(0,i.kJ)(e)||(u.push(l.get(v)),(0,i._N)(e)&&u.push(l.get(y)));break;case"set":(0,i._N)(e)&&u.push(l.get(v));break}if(1===u.length)u[0]&&P(u[0]);else{const e=[];for(const t of u)t&&e.push(...t);P(a(e))}}function P(e,t){const o=(0,i.kJ)(e)?e:[...e];for(const i of o)i.computed&&D(i,t);for(const i of o)i.computed||D(i,t)}function D(e,t){(e!==m||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const A=(0,i.fY)("__proto__,__v_isRef,__isVue"),M=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(i.yk)),L=k(),x=k(!1,!0),F=k(!0),N=I();function I(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const o=Pe(this);for(let t=0,n=this.length;t<n;t++)O(o,"get",t+"");const i=o[t](...e);return-1===i||!1===i?o[t](...e.map(Pe)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){S();const o=Pe(this)[t].apply(this,e);return R(),o}})),e}function k(e=!1,t=!1){return function(o,n,r){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&r===(e?t?ve:me:t?ge:fe).get(o))return o;const s=(0,i.kJ)(o);if(!e&&s&&(0,i.RI)(N,n))return Reflect.get(N,n,r);const a=Reflect.get(o,n,r);return((0,i.yk)(n)?M.has(n):A(n))?a:(e||O(o,"get",n),t?a:Fe(a)?s&&(0,i.S0)(n)?a:a.value:(0,i.Kn)(a)?e?Ee(a):be(a):a)}}const G=V(),H=V(!0);function V(e=!1){return function(t,o,n,r){let s=t[o];if(Oe(s)&&Fe(s)&&!Fe(n))return!1;if(!e&&(Te(n)||Oe(n)||(s=Pe(s),n=Pe(n)),!(0,i.kJ)(t)&&Fe(s)&&!Fe(n)))return s.value=n,!0;const a=(0,i.kJ)(t)&&(0,i.S0)(o)?Number(o)<t.length:(0,i.RI)(t,o),l=Reflect.set(t,o,n,r);return t===Pe(r)&&(a?(0,i.aU)(n,s)&&_(t,"set",o,n,s):_(t,"add",o,n)),l}}function B(e,t){const o=(0,i.RI)(e,t),n=e[t],r=Reflect.deleteProperty(e,t);return r&&o&&_(e,"delete",t,void 0,n),r}function j(e,t){const o=Reflect.has(e,t);return(0,i.yk)(t)&&M.has(t)||O(e,"has",t),o}function W(e){return O(e,"iterate",(0,i.kJ)(e)?"length":v),Reflect.ownKeys(e)}const z={get:L,set:G,deleteProperty:B,has:j,ownKeys:W},U={get:F,set(e,t){return!0},deleteProperty(e,t){return!0}},K=(0,i.l7)({},z,{get:x,set:H}),Y=e=>e,q=e=>Reflect.getPrototypeOf(e);function J(e,t,o=!1,i=!1){e=e["__v_raw"];const n=Pe(e),r=Pe(t);o||(t!==r&&O(n,"get",t),O(n,"get",r));const{has:s}=q(n),a=i?Y:o?Me:Ae;return s.call(n,t)?a(e.get(t)):s.call(n,r)?a(e.get(r)):void(e!==n&&e.get(t))}function X(e,t=!1){const o=this["__v_raw"],i=Pe(o),n=Pe(e);return t||(e!==n&&O(i,"has",e),O(i,"has",n)),e===n?o.has(e):o.has(e)||o.has(n)}function $(e,t=!1){return e=e["__v_raw"],!t&&O(Pe(e),"iterate",v),Reflect.get(e,"size",e)}function Q(e){e=Pe(e);const t=Pe(this),o=q(t),i=o.has.call(t,e);return i||(t.add(e),_(t,"add",e,e)),this}function Z(e,t){t=Pe(t);const o=Pe(this),{has:n,get:r}=q(o);let s=n.call(o,e);s||(e=Pe(e),s=n.call(o,e));const a=r.call(o,e);return o.set(e,t),s?(0,i.aU)(t,a)&&_(o,"set",e,t,a):_(o,"add",e,t),this}function ee(e){const t=Pe(this),{has:o,get:i}=q(t);let n=o.call(t,e);n||(e=Pe(e),n=o.call(t,e));const r=i?i.call(t,e):void 0,s=t.delete(e);return n&&_(t,"delete",e,void 0,r),s}function te(){const e=Pe(this),t=0!==e.size,o=void 0,i=e.clear();return t&&_(e,"clear",void 0,void 0,o),i}function oe(e,t){return function(o,i){const n=this,r=n["__v_raw"],s=Pe(r),a=t?Y:e?Me:Ae;return!e&&O(s,"iterate",v),r.forEach(((e,t)=>o.call(i,a(e),a(t),n)))}}function ie(e,t,o){return function(...n){const r=this["__v_raw"],s=Pe(r),a=(0,i._N)(s),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=r[e](...n),d=o?Y:t?Me:Ae;return!t&&O(s,"iterate",u?y:v),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function ne(e){return function(...t){return"delete"!==e&&this}}function re(){const e={get(e){return J(this,e)},get size(){return $(this)},has:X,add:Q,set:Z,delete:ee,clear:te,forEach:oe(!1,!1)},t={get(e){return J(this,e,!1,!0)},get size(){return $(this)},has:X,add:Q,set:Z,delete:ee,clear:te,forEach:oe(!1,!0)},o={get(e){return J(this,e,!0)},get size(){return $(this,!0)},has(e){return X.call(this,e,!0)},add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear"),forEach:oe(!0,!1)},i={get(e){return J(this,e,!0,!0)},get size(){return $(this,!0)},has(e){return X.call(this,e,!0)},add:ne("add"),set:ne("set"),delete:ne("delete"),clear:ne("clear"),forEach:oe(!0,!0)},n=["keys","values","entries",Symbol.iterator];return n.forEach((n=>{e[n]=ie(n,!1,!1),o[n]=ie(n,!0,!1),t[n]=ie(n,!1,!0),i[n]=ie(n,!0,!0)})),[e,o,t,i]}const[se,ae,le,ue]=re();function ce(e,t){const o=t?e?ue:le:e?ae:se;return(t,n,r)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get((0,i.RI)(o,n)&&n in t?o:t,n,r)}const de={get:ce(!1,!1)},pe={get:ce(!1,!0)},he={get:ce(!0,!1)};const fe=new WeakMap,ge=new WeakMap,me=new WeakMap,ve=new WeakMap;function ye(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ce(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ye((0,i.W7)(e))}function be(e){return Oe(e)?e:Se(e,!1,z,de,fe)}function we(e){return Se(e,!1,K,pe,ge)}function Ee(e){return Se(e,!0,U,he,me)}function Se(e,t,o,n,r){if(!(0,i.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=r.get(e);if(s)return s;const a=Ce(e);if(0===a)return e;const l=new Proxy(e,2===a?n:o);return r.set(e,l),l}function Re(e){return Oe(e)?Re(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Oe(e){return!(!e||!e["__v_isReadonly"])}function Te(e){return!(!e||!e["__v_isShallow"])}function _e(e){return Re(e)||Oe(e)}function Pe(e){const t=e&&e["__v_raw"];return t?Pe(t):e}function De(e){return(0,i.Nj)(e,"__v_skip",!0),e}const Ae=e=>(0,i.Kn)(e)?be(e):e,Me=e=>(0,i.Kn)(e)?Ee(e):e;function Le(e){w&&m&&(e=Pe(e),T(e.dep||(e.dep=a())))}function xe(e,t){e=Pe(e),e.dep&&P(e.dep)}function Fe(e){return!(!e||!0!==e.__v_isRef)}function Ne(e){return ke(e,!1)}function Ie(e){return ke(e,!0)}function ke(e,t){return Fe(e)?e:new Ge(e,t)}class Ge{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Pe(e),this._value=t?e:Ae(e)}get value(){return Le(this),this._value}set value(e){const t=this.__v_isShallow||Te(e)||Oe(e);e=t?e:Pe(e),(0,i.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Ae(e),xe(this,e))}}function He(e){return Fe(e)?e.value:e}const Ve={get:(e,t,o)=>He(Reflect.get(e,t,o)),set:(e,t,o,i)=>{const n=e[t];return Fe(n)&&!Fe(o)?(n.value=o,!0):Reflect.set(e,t,o,i)}};function Be(e){return Re(e)?e:new Proxy(e,Ve)}function je(e){const t=(0,i.kJ)(e)?new Array(e.length):{};for(const o in e)t[o]=ze(e,o);return t}class We{constructor(e,t,o){this._object=e,this._key=t,this._defaultValue=o,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function ze(e,t,o){const i=e[t];return Fe(i)?i:new We(e,t,o)}var Ue;class Ke{constructor(e,t,o,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Ue]=!1,this._dirty=!0,this.effect=new C(e,(()=>{this._dirty||(this._dirty=!0,xe(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=o}get value(){const e=Pe(this);return Le(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Ye(e,t,o=!1){let n,r;const s=(0,i.mf)(e);s?(n=e,r=i.dG):(n=e.get,r=e.set);const a=new Ke(n,r,s||!r,o);return a}Ue="__v_isReadonly"},3396:function(e,t,o){"use strict";o.d(t,{$d:function(){return s},Ah:function(){return _e},Cn:function(){return I},F4:function(){return io},FN:function(){return vo},Fl:function(){return xo},HY:function(){return It},JJ:function(){return K},Ko:function(){return Ve},LL:function(){return ke},P$:function(){return ie},Q6:function(){return ue},U2:function(){return re},Uk:function(){return ro},Us:function(){return At},WI:function(){return Be},Wm:function(){return to},Y3:function(){return y},Y8:function(){return ee},YP:function(){return J},_:function(){return eo},aZ:function(){return ce},bv:function(){return Se},dD:function(){return N},dG:function(){return co},f3:function(){return Y},h:function(){return Fo},iD:function(){return Yt},ic:function(){return Oe},j4:function(){return qt},kq:function(){return so},mx:function(){return We},nK:function(){return le},up:function(){return Ne},w5:function(){return k},wg:function(){return jt},wy:function(){return Le}});o(7658),o(541);var i=o(4870),n=o(7139);function r(e,t,o,i){let n;try{n=i?e(...i):e()}catch(r){a(r,t,o)}return n}function s(e,t,o,i){if((0,n.mf)(e)){const s=r(e,t,o,i);return s&&(0,n.tI)(s)&&s.catch((e=>{a(e,t,o)})),s}const l=[];for(let n=0;n<e.length;n++)l.push(s(e[n],t,o,i));return l}function a(e,t,o,i=!0){const n=t?t.vnode:null;if(t){let i=t.parent;const n=t.proxy,s=o;while(i){const t=i.ec;if(t)for(let o=0;o<t.length;o++)if(!1===t[o](e,n,s))return;i=i.parent}const a=t.appContext.config.errorHandler;if(a)return void r(a,null,10,[e,n,s])}l(e,o,n,i)}function l(e,t,o,i=!0){console.error(e)}let u=!1,c=!1;const d=[];let p=0;const h=[];let f=null,g=0;const m=Promise.resolve();let v=null;function y(e){const t=v||m;return e?t.then(this?e.bind(this):e):t}function C(e){let t=p+1,o=d.length;while(t<o){const i=t+o>>>1,n=T(d[i]);n<e?t=i+1:o=i}return t}function b(e){d.length&&d.includes(e,u&&e.allowRecurse?p+1:p)||(null==e.id?d.push(e):d.splice(C(e.id),0,e),w())}function w(){u||c||(c=!0,v=m.then(P))}function E(e){const t=d.indexOf(e);t>p&&d.splice(t,1)}function S(e){(0,n.kJ)(e)?h.push(...e):f&&f.includes(e,e.allowRecurse?g+1:g)||h.push(e),w()}function R(e,t=(u?p+1:0)){for(0;t<d.length;t++){const e=d[t];e&&e.pre&&(d.splice(t,1),t--,e())}}function O(e){if(h.length){const e=[...new Set(h)];if(h.length=0,f)return void f.push(...e);for(f=e,f.sort(((e,t)=>T(e)-T(t))),g=0;g<f.length;g++)f[g]();f=null,g=0}}const T=e=>null==e.id?1/0:e.id,_=(e,t)=>{const o=T(e)-T(t);if(0===o){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function P(e){c=!1,u=!0,d.sort(_);n.dG;try{for(p=0;p<d.length;p++){const e=d[p];e&&!1!==e.active&&r(e,null,14)}}finally{p=0,d.length=0,O(e),u=!1,v=null,(d.length||h.length)&&P(e)}}new Set;new Map;function D(e,t,...o){if(e.isUnmounted)return;const i=e.vnode.props||n.kT;let r=o;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in i){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:s}=i[e]||n.kT;s&&(r=o.map((e=>(0,n.HD)(e)?e.trim():e))),t&&(r=o.map(n.He))}let u;let c=i[u=(0,n.hR)(t)]||i[u=(0,n.hR)((0,n._A)(t))];!c&&a&&(c=i[u=(0,n.hR)((0,n.rs)(t))]),c&&s(c,e,6,r);const d=i[u+"Once"];if(d){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,s(d,e,6,r)}}function A(e,t,o=!1){const i=t.emitsCache,r=i.get(e);if(void 0!==r)return r;const s=e.emits;let a={},l=!1;if(!(0,n.mf)(e)){const i=e=>{const o=A(e,t,!0);o&&(l=!0,(0,n.l7)(a,o))};!o&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||l?((0,n.kJ)(s)?s.forEach((e=>a[e]=null)):(0,n.l7)(a,s),(0,n.Kn)(e)&&i.set(e,a),a):((0,n.Kn)(e)&&i.set(e,null),null)}function M(e,t){return!(!e||!(0,n.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,n.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,n.RI)(e,(0,n.rs)(t))||(0,n.RI)(e,t))}let L=null,x=null;function F(e){const t=L;return L=e,x=e&&e.type.__scopeId||null,t}function N(e){x=e}function I(){x=null}function k(e,t=L,o){if(!t)return e;if(e._n)return e;const i=(...o)=>{i._d&&Ut(-1);const n=F(t);let r;try{r=e(...o)}finally{F(n),i._d&&Ut(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function G(e){const{type:t,vnode:o,proxy:i,withProxy:r,props:s,propsOptions:[l],slots:u,attrs:c,emit:d,render:p,renderCache:h,data:f,setupState:g,ctx:m,inheritAttrs:v}=e;let y,C;const b=F(e);try{if(4&o.shapeFlag){const e=r||i;y=ao(p.call(e,e,h,s,g,f,m)),C=c}else{const e=t;0,y=ao(e.length>1?e(s,{attrs:c,slots:u,emit:d}):e(s,null)),C=t.props?c:H(c)}}catch(E){Vt.length=0,a(E,e,1),y=to(Gt)}let w=y;if(C&&!1!==v){const e=Object.keys(C),{shapeFlag:t}=w;e.length&&7&t&&(l&&e.some(n.tR)&&(C=V(C,l)),w=no(w,C))}return o.dirs&&(w=no(w),w.dirs=w.dirs?w.dirs.concat(o.dirs):o.dirs),o.transition&&(w.transition=o.transition),y=w,F(b),y}const H=e=>{let t;for(const o in e)("class"===o||"style"===o||(0,n.F7)(o))&&((t||(t={}))[o]=e[o]);return t},V=(e,t)=>{const o={};for(const i in e)(0,n.tR)(i)&&i.slice(9)in t||(o[i]=e[i]);return o};function B(e,t,o){const{props:i,children:n,component:r}=e,{props:s,children:a,patchFlag:l}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(!(o&&l>=0))return!(!n&&!a||a&&a.$stable)||i!==s&&(i?!s||j(i,s,u):!!s);if(1024&l)return!0;if(16&l)return i?j(i,s,u):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const o=e[t];if(s[o]!==i[o]&&!M(u,o))return!0}}return!1}function j(e,t,o){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==e[r]&&!M(o,r))return!0}return!1}function W({vnode:e,parent:t},o){while(t&&t.subTree===e)(e=t.vnode).el=o,t=t.parent}const z=e=>e.__isSuspense;function U(e,t){t&&t.pendingBranch?(0,n.kJ)(e)?t.effects.push(...e):t.effects.push(e):S(e)}function K(e,t){if(mo){let o=mo.provides;const i=mo.parent&&mo.parent.provides;i===o&&(o=mo.provides=Object.create(i)),o[e]=t}else 0}function Y(e,t,o=!1){const i=mo||L;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return o&&(0,n.mf)(t)?t.call(i.proxy):t}else 0}const q={};function J(e,t,o){return X(e,t,o)}function X(e,t,{immediate:o,deep:a,flush:l,onTrack:u,onTrigger:c}=n.kT){const d=mo;let p,h,f=!1,g=!1;if((0,i.dq)(e)?(p=()=>e.value,f=(0,i.yT)(e)):(0,i.PG)(e)?(p=()=>e,a=!0):(0,n.kJ)(e)?(g=!0,f=e.some((e=>(0,i.PG)(e)||(0,i.yT)(e))),p=()=>e.map((e=>(0,i.dq)(e)?e.value:(0,i.PG)(e)?Z(e):(0,n.mf)(e)?r(e,d,2):void 0))):p=(0,n.mf)(e)?t?()=>r(e,d,2):()=>{if(!d||!d.isUnmounted)return h&&h(),s(e,d,3,[v])}:n.dG,t&&a){const e=p;p=()=>Z(e())}let m,v=e=>{h=E.onStop=()=>{r(e,d,4)}};if(So){if(v=n.dG,t?o&&s(t,d,3,[p(),g?[]:void 0,v]):p(),"sync"!==l)return n.dG;{const e=Io();m=e.__watcherHandles||(e.__watcherHandles=[])}}let y=g?new Array(e.length).fill(q):q;const C=()=>{if(E.active)if(t){const e=E.run();(a||f||(g?e.some(((e,t)=>(0,n.aU)(e,y[t]))):(0,n.aU)(e,y)))&&(h&&h(),s(t,d,3,[e,y===q?void 0:g&&y[0]===q?[]:y,v]),y=e)}else E.run()};let w;C.allowRecurse=!!t,"sync"===l?w=C:"post"===l?w=()=>Dt(C,d&&d.suspense):(C.pre=!0,d&&(C.id=d.uid),w=()=>b(C));const E=new i.qq(p,w);t?o?C():y=E.run():"post"===l?Dt(E.run.bind(E),d&&d.suspense):E.run();const S=()=>{E.stop(),d&&d.scope&&(0,n.Od)(d.scope.effects,E)};return m&&m.push(S),S}function $(e,t,o){const i=this.proxy,r=(0,n.HD)(e)?e.includes(".")?Q(i,e):()=>i[e]:e.bind(i,i);let s;(0,n.mf)(t)?s=t:(s=t.handler,o=t);const a=mo;yo(this);const l=X(r,s.bind(i),o);return a?yo(a):Co(),l}function Q(e,t){const o=t.split(".");return()=>{let t=e;for(let e=0;e<o.length&&t;e++)t=t[o[e]];return t}}function Z(e,t){if(!(0,n.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,i.dq)(e))Z(e.value,t);else if((0,n.kJ)(e))for(let o=0;o<e.length;o++)Z(e[o],t);else if((0,n.DM)(e)||(0,n._N)(e))e.forEach((e=>{Z(e,t)}));else if((0,n.PO)(e))for(const o in e)Z(e[o],t);return e}function ee(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Se((()=>{e.isMounted=!0})),Te((()=>{e.isUnmounting=!0})),e}const te=[Function,Array],oe={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:te,onEnter:te,onAfterEnter:te,onEnterCancelled:te,onBeforeLeave:te,onLeave:te,onAfterLeave:te,onLeaveCancelled:te,onBeforeAppear:te,onAppear:te,onAfterAppear:te,onAppearCancelled:te},setup(e,{slots:t}){const o=vo(),n=ee();let r;return()=>{const s=t.default&&ue(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==Gt){0,a=t,e=!0;break}}const l=(0,i.IU)(e),{mode:u}=l;if(n.isLeaving)return se(a);const c=ae(a);if(!c)return se(a);const d=re(c,l,n,o);le(c,d);const p=o.subTree,h=p&&ae(p);let f=!1;const{getTransitionKey:g}=c.type;if(g){const e=g();void 0===r?r=e:e!==r&&(r=e,f=!0)}if(h&&h.type!==Gt&&(!Xt(c,h)||f)){const e=re(h,l,n,o);if(le(h,e),"out-in"===u)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,!1!==o.update.active&&o.update()},se(a);"in-out"===u&&c.type!==Gt&&(e.delayLeave=(e,t,o)=>{const i=ne(n,h);i[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=o})}return a}}},ie=oe;function ne(e,t){const{leavingVNodes:o}=e;let i=o.get(t.type);return i||(i=Object.create(null),o.set(t.type,i)),i}function re(e,t,o,i){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:C,onAppearCancelled:b}=t,w=String(e.key),E=ne(o,e),S=(e,t)=>{e&&s(e,i,9,t)},R=(e,t)=>{const o=t[1];S(e,t),(0,n.kJ)(e)?e.every((e=>e.length<=1))&&o():e.length<=1&&o()},O={mode:a,persisted:l,beforeEnter(t){let i=u;if(!o.isMounted){if(!r)return;i=v||u}t._leaveCb&&t._leaveCb(!0);const n=E[w];n&&Xt(e,n)&&n.el._leaveCb&&n.el._leaveCb(),S(i,[t])},enter(e){let t=c,i=d,n=p;if(!o.isMounted){if(!r)return;t=y||c,i=C||d,n=b||p}let s=!1;const a=e._enterCb=t=>{s||(s=!0,S(t?n:i,[e]),O.delayedLeave&&O.delayedLeave(),e._enterCb=void 0)};t?R(t,[e,a]):a()},leave(t,i){const n=String(e.key);if(t._enterCb&&t._enterCb(!0),o.isUnmounting)return i();S(h,[t]);let r=!1;const s=t._leaveCb=o=>{r||(r=!0,i(),S(o?m:g,[t]),t._leaveCb=void 0,E[n]===e&&delete E[n])};E[n]=e,f?R(f,[t,s]):s()},clone(e){return re(e,t,o,i)}};return O}function se(e){if(pe(e))return e=no(e),e.children=null,e}function ae(e){return pe(e)?e.children?e.children[0]:void 0:e}function le(e,t){6&e.shapeFlag&&e.component?le(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ue(e,t=!1,o){let i=[],n=0;for(let r=0;r<e.length;r++){let s=e[r];const a=null==o?s.key:String(o)+String(null!=s.key?s.key:r);s.type===It?(128&s.patchFlag&&n++,i=i.concat(ue(s.children,t,a))):(t||s.type!==Gt)&&i.push(null!=a?no(s,{key:a}):s)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function ce(e){return(0,n.mf)(e)?{setup:e,name:e.name}:e}const de=e=>!!e.type.__asyncLoader;const pe=e=>e.type.__isKeepAlive;RegExp,RegExp;function he(e,t){return(0,n.kJ)(e)?e.some((e=>he(e,t))):(0,n.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function fe(e,t){me(e,"a",t)}function ge(e,t){me(e,"da",t)}function me(e,t,o=mo){const i=e.__wdc||(e.__wdc=()=>{let t=o;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(be(t,i,o),o){let e=o.parent;while(e&&e.parent)pe(e.parent.vnode)&&ve(i,t,o,e),e=e.parent}}function ve(e,t,o,i){const r=be(t,e,i,!0);_e((()=>{(0,n.Od)(i[t],r)}),o)}function ye(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ce(e){return 128&e.shapeFlag?e.ssContent:e}function be(e,t,o=mo,n=!1){if(o){const r=o[e]||(o[e]=[]),a=t.__weh||(t.__weh=(...n)=>{if(o.isUnmounted)return;(0,i.Jd)(),yo(o);const r=s(t,o,e,n);return Co(),(0,i.lk)(),r});return n?r.unshift(a):r.push(a),a}}const we=e=>(t,o=mo)=>(!So||"sp"===e)&&be(e,((...e)=>t(...e)),o),Ee=we("bm"),Se=we("m"),Re=we("bu"),Oe=we("u"),Te=we("bum"),_e=we("um"),Pe=we("sp"),De=we("rtg"),Ae=we("rtc");function Me(e,t=mo){be("ec",e,t)}function Le(e,t){const o=L;if(null===o)return e;const i=Ao(o)||o.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,o,a,l=n.kT]=t[s];e&&((0,n.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&Z(o),r.push({dir:e,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function xe(e,t,o,n){const r=e.dirs,a=t&&t.dirs;for(let l=0;l<r.length;l++){const u=r[l];a&&(u.oldValue=a[l].value);let c=u.dir[n];c&&((0,i.Jd)(),s(c,o,8,[e.el,u,e,t]),(0,i.lk)())}}const Fe="components";function Ne(e,t){return Ge(Fe,e,!0,t)||e}const Ie=Symbol();function ke(e){return(0,n.HD)(e)?Ge(Fe,e,!1)||e:e||Ie}function Ge(e,t,o=!0,i=!1){const r=L||mo;if(r){const o=r.type;if(e===Fe){const e=Mo(o,!1);if(e&&(e===t||e===(0,n._A)(t)||e===(0,n.kC)((0,n._A)(t))))return o}const s=He(r[e]||o[e],t)||He(r.appContext[e],t);return!s&&i?o:s}}function He(e,t){return e&&(e[t]||e[(0,n._A)(t)]||e[(0,n.kC)((0,n._A)(t))])}function Ve(e,t,o,i){let r;const s=o&&o[i];if((0,n.kJ)(e)||(0,n.HD)(e)){r=new Array(e.length);for(let o=0,i=e.length;o<i;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if("number"===typeof e){0,r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if((0,n.Kn)(e))if(e[Symbol.iterator])r=Array.from(e,((e,o)=>t(e,o,void 0,s&&s[o])));else{const o=Object.keys(e);r=new Array(o.length);for(let i=0,n=o.length;i<n;i++){const n=o[i];r[i]=t(e[n],n,i,s&&s[i])}}else r=[];return o&&(o[i]=r),r}function Be(e,t,o={},i,n){if(L.isCE||L.parent&&de(L.parent)&&L.parent.isCE)return"default"!==t&&(o.name=t),to("slot",o,i&&i());let r=e[t];r&&r._c&&(r._d=!1),jt();const s=r&&je(r(o)),a=qt(It,{key:o.key||s&&s.key||`_${t}`},s||(i?i():[]),s&&1===e._?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function je(e){return e.some((e=>!Jt(e)||e.type!==Gt&&!(e.type===It&&!je(e.children))))?e:null}function We(e,t){const o={};for(const i in e)o[t&&/[A-Z]/.test(i)?`on:${i}`:(0,n.hR)(i)]=e[i];return o}const ze=e=>e?bo(e)?Ao(e)||e.proxy:ze(e.parent):null,Ue=(0,n.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ze(e.parent),$root:e=>ze(e.root),$emit:e=>e.emit,$options:e=>Ze(e),$forceUpdate:e=>e.f||(e.f=()=>b(e.update)),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>$.bind(e)}),Ke=(e,t)=>e!==n.kT&&!e.__isScriptSetup&&(0,n.RI)(e,t),Ye={get({_:e},t){const{ctx:o,setupState:r,data:s,props:a,accessCache:l,type:u,appContext:c}=e;let d;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return r[t];case 2:return s[t];case 4:return o[t];case 3:return a[t]}else{if(Ke(r,t))return l[t]=1,r[t];if(s!==n.kT&&(0,n.RI)(s,t))return l[t]=2,s[t];if((d=e.propsOptions[0])&&(0,n.RI)(d,t))return l[t]=3,a[t];if(o!==n.kT&&(0,n.RI)(o,t))return l[t]=4,o[t];qe&&(l[t]=0)}}const p=Ue[t];let h,f;return p?("$attrs"===t&&(0,i.j)(e,"get",t),p(e)):(h=u.__cssModules)&&(h=h[t])?h:o!==n.kT&&(0,n.RI)(o,t)?(l[t]=4,o[t]):(f=c.config.globalProperties,(0,n.RI)(f,t)?f[t]:void 0)},set({_:e},t,o){const{data:i,setupState:r,ctx:s}=e;return Ke(r,t)?(r[t]=o,!0):i!==n.kT&&(0,n.RI)(i,t)?(i[t]=o,!0):!(0,n.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=o,!0))},has({_:{data:e,setupState:t,accessCache:o,ctx:i,appContext:r,propsOptions:s}},a){let l;return!!o[a]||e!==n.kT&&(0,n.RI)(e,a)||Ke(t,a)||(l=s[0])&&(0,n.RI)(l,a)||(0,n.RI)(i,a)||(0,n.RI)(Ue,a)||(0,n.RI)(r.config.globalProperties,a)},defineProperty(e,t,o){return null!=o.get?e._.accessCache[t]=0:(0,n.RI)(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let qe=!0;function Je(e){const t=Ze(e),o=e.proxy,r=e.ctx;qe=!1,t.beforeCreate&&$e(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:u,provide:c,inject:d,created:p,beforeMount:h,mounted:f,beforeUpdate:g,updated:m,activated:v,deactivated:y,beforeDestroy:C,beforeUnmount:b,destroyed:w,unmounted:E,render:S,renderTracked:R,renderTriggered:O,errorCaptured:T,serverPrefetch:_,expose:P,inheritAttrs:D,components:A,directives:M,filters:L}=t,x=null;if(d&&Xe(d,r,x,e.appContext.config.unwrapInjectedRef),l)for(const i in l){const e=l[i];(0,n.mf)(e)&&(r[i]=e.bind(o))}if(s){0;const t=s.call(o,o);0,(0,n.Kn)(t)&&(e.data=(0,i.qj)(t))}if(qe=!0,a)for(const i in a){const e=a[i],t=(0,n.mf)(e)?e.bind(o,o):(0,n.mf)(e.get)?e.get.bind(o,o):n.dG;0;const s=!(0,n.mf)(e)&&(0,n.mf)(e.set)?e.set.bind(o):n.dG,l=xo({get:t,set:s});Object.defineProperty(r,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const i in u)Qe(u[i],r,o,i);if(c){const e=(0,n.mf)(c)?c.call(o):c;Reflect.ownKeys(e).forEach((t=>{K(t,e[t])}))}function F(e,t){(0,n.kJ)(t)?t.forEach((t=>e(t.bind(o)))):t&&e(t.bind(o))}if(p&&$e(p,e,"c"),F(Ee,h),F(Se,f),F(Re,g),F(Oe,m),F(fe,v),F(ge,y),F(Me,T),F(Ae,R),F(De,O),F(Te,b),F(_e,E),F(Pe,_),(0,n.kJ)(P))if(P.length){const t=e.exposed||(e.exposed={});P.forEach((e=>{Object.defineProperty(t,e,{get:()=>o[e],set:t=>o[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===n.dG&&(e.render=S),null!=D&&(e.inheritAttrs=D),A&&(e.components=A),M&&(e.directives=M)}function Xe(e,t,o=n.dG,r=!1){(0,n.kJ)(e)&&(e=nt(e));for(const s in e){const o=e[s];let a;a=(0,n.Kn)(o)?"default"in o?Y(o.from||s,o.default,!0):Y(o.from||s):Y(o),(0,i.dq)(a)&&r?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[s]=a}}function $e(e,t,o){s((0,n.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,o)}function Qe(e,t,o,i){const r=i.includes(".")?Q(o,i):()=>o[i];if((0,n.HD)(e)){const o=t[e];(0,n.mf)(o)&&J(r,o)}else if((0,n.mf)(e))J(r,e.bind(o));else if((0,n.Kn)(e))if((0,n.kJ)(e))e.forEach((e=>Qe(e,t,o,i)));else{const i=(0,n.mf)(e.handler)?e.handler.bind(o):t[e.handler];(0,n.mf)(i)&&J(r,i,e)}else 0}function Ze(e){const t=e.type,{mixins:o,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let u;return l?u=l:r.length||o||i?(u={},r.length&&r.forEach((e=>et(u,e,a,!0))),et(u,t,a)):u=t,(0,n.Kn)(t)&&s.set(t,u),u}function et(e,t,o,i=!1){const{mixins:n,extends:r}=t;r&&et(e,r,o,!0),n&&n.forEach((t=>et(e,t,o,!0)));for(const s in t)if(i&&"expose"===s);else{const i=tt[s]||o&&o[s];e[s]=i?i(e[s],t[s]):t[s]}return e}const tt={data:ot,props:st,emits:st,methods:st,computed:st,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:st,directives:st,watch:at,provide:ot,inject:it};function ot(e,t){return t?e?function(){return(0,n.l7)((0,n.mf)(e)?e.call(this,this):e,(0,n.mf)(t)?t.call(this,this):t)}:t:e}function it(e,t){return st(nt(e),nt(t))}function nt(e){if((0,n.kJ)(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function rt(e,t){return e?[...new Set([].concat(e,t))]:t}function st(e,t){return e?(0,n.l7)((0,n.l7)(Object.create(null),e),t):t}function at(e,t){if(!e)return t;if(!t)return e;const o=(0,n.l7)(Object.create(null),e);for(const i in t)o[i]=rt(e[i],t[i]);return o}function lt(e,t,o,r=!1){const s={},a={};(0,n.Nj)(a,$t,1),e.propsDefaults=Object.create(null),ct(e,t,s,a);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);o?e.props=r?s:(0,i.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function ut(e,t,o,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,u=(0,i.IU)(s),[c]=e.propsOptions;let d=!1;if(!(r||l>0)||16&l){let i;ct(e,t,s,a)&&(d=!0);for(const r in u)t&&((0,n.RI)(t,r)||(i=(0,n.rs)(r))!==r&&(0,n.RI)(t,i))||(c?!o||void 0===o[r]&&void 0===o[i]||(s[r]=dt(c,u,r,void 0,e,!0)):delete s[r]);if(a!==u)for(const e in a)t&&(0,n.RI)(t,e)||(delete a[e],d=!0)}else if(8&l){const o=e.vnode.dynamicProps;for(let i=0;i<o.length;i++){let r=o[i];if(M(e.emitsOptions,r))continue;const l=t[r];if(c)if((0,n.RI)(a,r))l!==a[r]&&(a[r]=l,d=!0);else{const t=(0,n._A)(r);s[t]=dt(c,u,t,l,e,!1)}else l!==a[r]&&(a[r]=l,d=!0)}}d&&(0,i.X$)(e,"set","$attrs")}function ct(e,t,o,r){const[s,a]=e.propsOptions;let l,u=!1;if(t)for(let i in t){if((0,n.Gg)(i))continue;const c=t[i];let d;s&&(0,n.RI)(s,d=(0,n._A)(i))?a&&a.includes(d)?(l||(l={}))[d]=c:o[d]=c:M(e.emitsOptions,i)||i in r&&c===r[i]||(r[i]=c,u=!0)}if(a){const t=(0,i.IU)(o),r=l||n.kT;for(let i=0;i<a.length;i++){const l=a[i];o[l]=dt(s,t,l,r[l],e,!(0,n.RI)(r,l))}}return u}function dt(e,t,o,i,r,s){const a=e[o];if(null!=a){const e=(0,n.RI)(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&(0,n.mf)(e)){const{propsDefaults:n}=r;o in n?i=n[o]:(yo(r),i=n[o]=e.call(null,t),Co())}else i=e}a[0]&&(s&&!e?i=!1:!a[1]||""!==i&&i!==(0,n.rs)(o)||(i=!0))}return i}function pt(e,t,o=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,a={},l=[];let u=!1;if(!(0,n.mf)(e)){const i=e=>{u=!0;const[o,i]=pt(e,t,!0);(0,n.l7)(a,o),i&&l.push(...i)};!o&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!u)return(0,n.Kn)(e)&&i.set(e,n.Z6),n.Z6;if((0,n.kJ)(s))for(let d=0;d<s.length;d++){0;const e=(0,n._A)(s[d]);ht(e)&&(a[e]=n.kT)}else if(s){0;for(const e in s){const t=(0,n._A)(e);if(ht(t)){const o=s[e],i=a[t]=(0,n.kJ)(o)||(0,n.mf)(o)?{type:o}:Object.assign({},o);if(i){const e=mt(Boolean,i.type),o=mt(String,i.type);i[0]=e>-1,i[1]=o<0||e<o,(e>-1||(0,n.RI)(i,"default"))&&l.push(t)}}}}const c=[a,l];return(0,n.Kn)(e)&&i.set(e,c),c}function ht(e){return"$"!==e[0]}function ft(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function gt(e,t){return ft(e)===ft(t)}function mt(e,t){return(0,n.kJ)(t)?t.findIndex((t=>gt(t,e))):(0,n.mf)(t)&&gt(t,e)?0:-1}const vt=e=>"_"===e[0]||"$stable"===e,yt=e=>(0,n.kJ)(e)?e.map(ao):[ao(e)],Ct=(e,t,o)=>{if(t._n)return t;const i=k(((...e)=>yt(t(...e))),o);return i._c=!1,i},bt=(e,t,o)=>{const i=e._ctx;for(const r in e){if(vt(r))continue;const o=e[r];if((0,n.mf)(o))t[r]=Ct(r,o,i);else if(null!=o){0;const e=yt(o);t[r]=()=>e}}},wt=(e,t)=>{const o=yt(t);e.slots.default=()=>o},Et=(e,t)=>{if(32&e.vnode.shapeFlag){const o=t._;o?(e.slots=(0,i.IU)(t),(0,n.Nj)(t,"_",o)):bt(t,e.slots={})}else e.slots={},t&&wt(e,t);(0,n.Nj)(e.slots,$t,1)},St=(e,t,o)=>{const{vnode:i,slots:r}=e;let s=!0,a=n.kT;if(32&i.shapeFlag){const e=t._;e?o&&1===e?s=!1:((0,n.l7)(r,t),o||1!==e||delete r._):(s=!t.$stable,bt(t,r)),a=t}else t&&(wt(e,t),a={default:1});if(s)for(const n in r)vt(n)||n in a||delete r[n]};function Rt(){return{app:null,config:{isNativeTag:n.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ot=0;function Tt(e,t){return function(o,i=null){(0,n.mf)(o)||(o=Object.assign({},o)),null==i||(0,n.Kn)(i)||(i=null);const r=Rt(),s=new Set;let a=!1;const l=r.app={_uid:Ot++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:ko,get config(){return r.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,n.mf)(e.install)?(s.add(e),e.install(l,...t)):(0,n.mf)(e)&&(s.add(e),e(l,...t))),l},mixin(e){return r.mixins.includes(e)||r.mixins.push(e),l},component(e,t){return t?(r.components[e]=t,l):r.components[e]},directive(e,t){return t?(r.directives[e]=t,l):r.directives[e]},mount(n,s,u){if(!a){0;const c=to(o,i);return c.appContext=r,s&&t?t(c,n):e(c,n,u),a=!0,l._container=n,n.__vue_app__=l,Ao(c.component)||c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return r.provides[e]=t,l}};return l}}function _t(e,t,o,s,a=!1){if((0,n.kJ)(e))return void e.forEach(((e,i)=>_t(e,t&&((0,n.kJ)(t)?t[i]:t),o,s,a)));if(de(s)&&!a)return;const l=4&s.shapeFlag?Ao(s.component)||s.component.proxy:s.el,u=a?null:l,{i:c,r:d}=e;const p=t&&t.r,h=c.refs===n.kT?c.refs={}:c.refs,f=c.setupState;if(null!=p&&p!==d&&((0,n.HD)(p)?(h[p]=null,(0,n.RI)(f,p)&&(f[p]=null)):(0,i.dq)(p)&&(p.value=null)),(0,n.mf)(d))r(d,c,12,[u,h]);else{const t=(0,n.HD)(d),r=(0,i.dq)(d);if(t||r){const i=()=>{if(e.f){const o=t?(0,n.RI)(f,d)?f[d]:h[d]:d.value;a?(0,n.kJ)(o)&&(0,n.Od)(o,l):(0,n.kJ)(o)?o.includes(l)||o.push(l):t?(h[d]=[l],(0,n.RI)(f,d)&&(f[d]=h[d])):(d.value=[l],e.k&&(h[e.k]=d.value))}else t?(h[d]=u,(0,n.RI)(f,d)&&(f[d]=u)):r&&(d.value=u,e.k&&(h[e.k]=u))};u?(i.id=-1,Dt(i,o)):i()}else 0}}function Pt(){}const Dt=U;function At(e){return Mt(e)}function Mt(e,t){Pt();const o=(0,n.E9)();o.__VUE__=!0;const{insert:r,remove:s,patchProp:a,createElement:l,createText:u,createComment:c,setText:d,setElementText:p,parentNode:h,nextSibling:f,setScopeId:g=n.dG,insertStaticContent:m}=e,v=(e,t,o,i=null,n=null,r=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Xt(e,t)&&(i=Q(e),Y(e,n,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case kt:y(e,t,o,i);break;case Gt:C(e,t,o,i);break;case Ht:null==e&&w(t,o,i,s);break;case It:F(e,t,o,i,n,r,s,a,l);break;default:1&d?_(e,t,o,i,n,r,s,a,l):6&d?N(e,t,o,i,n,r,s,a,l):(64&d||128&d)&&u.process(e,t,o,i,n,r,s,a,l,ee)}null!=c&&n&&_t(c,e&&e.ref,r,t||e,!t)},y=(e,t,o,i)=>{if(null==e)r(t.el=u(t.children),o,i);else{const o=t.el=e.el;t.children!==e.children&&d(o,t.children)}},C=(e,t,o,i)=>{null==e?r(t.el=c(t.children||""),o,i):t.el=e.el},w=(e,t,o,i)=>{[e.el,e.anchor]=m(e.children,t,o,i,e.el,e.anchor)},S=({el:e,anchor:t},o,i)=>{let n;while(e&&e!==t)n=f(e),r(e,o,i),e=n;r(t,o,i)},T=({el:e,anchor:t})=>{let o;while(e&&e!==t)o=f(e),s(e),e=o;s(t)},_=(e,t,o,i,n,r,s,a,l)=>{s=s||"svg"===t.type,null==e?P(t,o,i,n,r,s,a,l):M(e,t,n,r,s,a,l)},P=(e,t,o,i,s,u,c,d)=>{let h,f;const{type:g,props:m,shapeFlag:v,transition:y,dirs:C}=e;if(h=e.el=l(e.type,u,m&&m.is,m),8&v?p(h,e.children):16&v&&A(e.children,h,null,i,s,u&&"foreignObject"!==g,c,d),C&&xe(e,null,i,"created"),m){for(const t in m)"value"===t||(0,n.Gg)(t)||a(h,t,null,m[t],u,e.children,i,s,$);"value"in m&&a(h,"value",null,m.value),(f=m.onVnodeBeforeMount)&&po(f,i,e)}D(h,e,e.scopeId,c,i),C&&xe(e,null,i,"beforeMount");const b=(!s||s&&!s.pendingBranch)&&y&&!y.persisted;b&&y.beforeEnter(h),r(h,t,o),((f=m&&m.onVnodeMounted)||b||C)&&Dt((()=>{f&&po(f,i,e),b&&y.enter(h),C&&xe(e,null,i,"mounted")}),s)},D=(e,t,o,i,n)=>{if(o&&g(e,o),i)for(let r=0;r<i.length;r++)g(e,i[r]);if(n){let o=n.subTree;if(t===o){const t=n.vnode;D(e,t,t.scopeId,t.slotScopeIds,n.parent)}}},A=(e,t,o,i,n,r,s,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?lo(e[u]):ao(e[u]);v(null,l,t,o,i,n,r,s,a)}},M=(e,t,o,i,r,s,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:d,dirs:h}=t;c|=16&e.patchFlag;const f=e.props||n.kT,g=t.props||n.kT;let m;o&&Lt(o,!1),(m=g.onVnodeBeforeUpdate)&&po(m,o,t,e),h&&xe(t,e,o,"beforeUpdate"),o&&Lt(o,!0);const v=r&&"foreignObject"!==t.type;if(d?L(e.dynamicChildren,d,u,o,i,v,s):l||j(e,t,u,null,o,i,v,s,!1),c>0){if(16&c)x(u,t,f,g,o,i,r);else if(2&c&&f.class!==g.class&&a(u,"class",null,g.class,r),4&c&&a(u,"style",f.style,g.style,r),8&c){const n=t.dynamicProps;for(let t=0;t<n.length;t++){const s=n[t],l=f[s],c=g[s];c===l&&"value"!==s||a(u,s,l,c,r,e.children,o,i,$)}}1&c&&e.children!==t.children&&p(u,t.children)}else l||null!=d||x(u,t,f,g,o,i,r);((m=g.onVnodeUpdated)||h)&&Dt((()=>{m&&po(m,o,t,e),h&&xe(t,e,o,"updated")}),i)},L=(e,t,o,i,n,r,s)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===It||!Xt(l,u)||70&l.shapeFlag)?h(l.el):o;v(l,u,c,null,i,n,r,s,!0)}},x=(e,t,o,i,r,s,l)=>{if(o!==i){if(o!==n.kT)for(const u in o)(0,n.Gg)(u)||u in i||a(e,u,o[u],null,l,t.children,r,s,$);for(const u in i){if((0,n.Gg)(u))continue;const c=i[u],d=o[u];c!==d&&"value"!==u&&a(e,u,d,c,l,t.children,r,s,$)}"value"in i&&a(e,"value",o.value,i.value)}},F=(e,t,o,i,n,s,a,l,c)=>{const d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(r(d,o,i),r(p,o,i),A(t.children,o,p,n,s,a,l,c)):h>0&&64&h&&f&&e.dynamicChildren?(L(e.dynamicChildren,f,o,n,s,a,l),(null!=t.key||n&&t===n.subTree)&&xt(e,t,!0)):j(e,t,o,p,n,s,a,l,c)},N=(e,t,o,i,n,r,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?n.ctx.activate(t,o,i,s,l):I(t,o,i,n,r,s,l):k(e,t,l)},I=(e,t,o,i,n,r,s)=>{const a=e.component=go(e,i,n);if(pe(e)&&(a.ctx.renderer=ee),Ro(a),a.asyncDep){if(n&&n.registerDep(a,H),!e.el){const e=a.subTree=to(Gt);C(null,e,t,o)}}else H(a,e,t,o,n,r,s)},k=(e,t,o)=>{const i=t.component=e.component;if(B(e,t,o)){if(i.asyncDep&&!i.asyncResolved)return void V(i,t,o);i.next=t,E(i.update),i.update()}else t.el=e.el,i.vnode=t},H=(e,t,o,r,s,a,l)=>{const u=()=>{if(e.isMounted){let t,{next:o,bu:i,u:r,parent:u,vnode:c}=e,d=o;0,Lt(e,!1),o?(o.el=c.el,V(e,o,l)):o=c,i&&(0,n.ir)(i),(t=o.props&&o.props.onVnodeBeforeUpdate)&&po(t,u,o,c),Lt(e,!0);const p=G(e);0;const f=e.subTree;e.subTree=p,v(f,p,h(f.el),Q(f),e,s,a),o.el=p.el,null===d&&W(e,p.el),r&&Dt(r,s),(t=o.props&&o.props.onVnodeUpdated)&&Dt((()=>po(t,u,o,c)),s)}else{let i;const{el:l,props:u}=t,{bm:c,m:d,parent:p}=e,h=de(t);if(Lt(e,!1),c&&(0,n.ir)(c),!h&&(i=u&&u.onVnodeBeforeMount)&&po(i,p,t),Lt(e,!0),l&&oe){const o=()=>{e.subTree=G(e),oe(l,e.subTree,e,s,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&o())):o()}else{0;const i=e.subTree=G(e);0,v(null,i,o,r,e,s,a),t.el=i.el}if(d&&Dt(d,s),!h&&(i=u&&u.onVnodeMounted)){const e=t;Dt((()=>po(i,p,e)),s)}(256&t.shapeFlag||p&&de(p.vnode)&&256&p.vnode.shapeFlag)&&e.a&&Dt(e.a,s),e.isMounted=!0,t=o=r=null}},c=e.effect=new i.qq(u,(()=>b(d)),e.scope),d=e.update=()=>c.run();d.id=e.uid,Lt(e,!0),d()},V=(e,t,o)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,ut(e,t.props,n,o),St(e,t.children,o),(0,i.Jd)(),R(),(0,i.lk)()},j=(e,t,o,i,n,r,s,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void U(u,d,o,i,n,r,s,a,l);if(256&h)return void z(u,d,o,i,n,r,s,a,l)}8&f?(16&c&&$(u,n,r),d!==u&&p(o,d)):16&c?16&f?U(u,d,o,i,n,r,s,a,l):$(u,n,r,!0):(8&c&&p(o,""),16&f&&A(d,o,i,n,r,s,a,l))},z=(e,t,o,i,r,s,a,l,u)=>{e=e||n.Z6,t=t||n.Z6;const c=e.length,d=t.length,p=Math.min(c,d);let h;for(h=0;h<p;h++){const i=t[h]=u?lo(t[h]):ao(t[h]);v(e[h],i,o,null,r,s,a,l,u)}c>d?$(e,r,s,!0,!1,p):A(t,o,i,r,s,a,l,u,p)},U=(e,t,o,i,r,s,a,l,u)=>{let c=0;const d=t.length;let p=e.length-1,h=d-1;while(c<=p&&c<=h){const i=e[c],n=t[c]=u?lo(t[c]):ao(t[c]);if(!Xt(i,n))break;v(i,n,o,null,r,s,a,l,u),c++}while(c<=p&&c<=h){const i=e[p],n=t[h]=u?lo(t[h]):ao(t[h]);if(!Xt(i,n))break;v(i,n,o,null,r,s,a,l,u),p--,h--}if(c>p){if(c<=h){const e=h+1,n=e<d?t[e].el:i;while(c<=h)v(null,t[c]=u?lo(t[c]):ao(t[c]),o,n,r,s,a,l,u),c++}}else if(c>h)while(c<=p)Y(e[c],r,s,!0),c++;else{const f=c,g=c,m=new Map;for(c=g;c<=h;c++){const e=t[c]=u?lo(t[c]):ao(t[c]);null!=e.key&&m.set(e.key,c)}let y,C=0;const b=h-g+1;let w=!1,E=0;const S=new Array(b);for(c=0;c<b;c++)S[c]=0;for(c=f;c<=p;c++){const i=e[c];if(C>=b){Y(i,r,s,!0);continue}let n;if(null!=i.key)n=m.get(i.key);else for(y=g;y<=h;y++)if(0===S[y-g]&&Xt(i,t[y])){n=y;break}void 0===n?Y(i,r,s,!0):(S[n-g]=c+1,n>=E?E=n:w=!0,v(i,t[n],o,null,r,s,a,l,u),C++)}const R=w?Ft(S):n.Z6;for(y=R.length-1,c=b-1;c>=0;c--){const e=g+c,n=t[e],p=e+1<d?t[e+1].el:i;0===S[c]?v(null,n,o,p,r,s,a,l,u):w&&(y<0||c!==R[y]?K(n,o,p,2):y--)}}},K=(e,t,o,i,n=null)=>{const{el:s,type:a,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void K(e.component.subTree,t,o,i);if(128&c)return void e.suspense.move(t,o,i);if(64&c)return void a.move(e,t,o,ee);if(a===It){r(s,t,o);for(let e=0;e<u.length;e++)K(u[e],t,o,i);return void r(e.anchor,t,o)}if(a===Ht)return void S(e,t,o);const d=2!==i&&1&c&&l;if(d)if(0===i)l.beforeEnter(s),r(s,t,o),Dt((()=>l.enter(s)),n);else{const{leave:e,delayLeave:i,afterLeave:n}=l,a=()=>r(s,t,o),u=()=>{e(s,(()=>{a(),n&&n()}))};i?i(s,a,u):u()}else r(s,t,o)},Y=(e,t,o,i=!1,n=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:p}=e;if(null!=a&&_t(a,null,o,e,!0),256&c)return void t.ctx.deactivate(e);const h=1&c&&p,f=!de(e);let g;if(f&&(g=s&&s.onVnodeBeforeUnmount)&&po(g,t,e),6&c)X(e.component,o,i);else{if(128&c)return void e.suspense.unmount(o,i);h&&xe(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,o,n,ee,i):u&&(r!==It||d>0&&64&d)?$(u,t,o,!1,!0):(r===It&&384&d||!n&&16&c)&&$(l,t,o),i&&q(e)}(f&&(g=s&&s.onVnodeUnmounted)||h)&&Dt((()=>{g&&po(g,t,e),h&&xe(e,null,t,"unmounted")}),o)},q=e=>{const{type:t,el:o,anchor:i,transition:n}=e;if(t===It)return void J(o,i);if(t===Ht)return void T(e);const r=()=>{s(o),n&&!n.persisted&&n.afterLeave&&n.afterLeave()};if(1&e.shapeFlag&&n&&!n.persisted){const{leave:t,delayLeave:i}=n,s=()=>t(o,r);i?i(e.el,r,s):s()}else r()},J=(e,t)=>{let o;while(e!==t)o=f(e),s(e),e=o;s(t)},X=(e,t,o)=>{const{bum:i,scope:r,update:s,subTree:a,um:l}=e;i&&(0,n.ir)(i),r.stop(),s&&(s.active=!1,Y(a,e,t,o)),l&&Dt(l,t),Dt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},$=(e,t,o,i=!1,n=!1,r=0)=>{for(let s=r;s<e.length;s++)Y(e[s],t,o,i,n)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),Z=(e,t,o)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,o),R(),O(),t._vnode=e},ee={p:v,um:Y,m:K,r:q,mt:I,mc:A,pc:j,pbc:L,n:Q,o:e};let te,oe;return t&&([te,oe]=t(ee)),{render:Z,hydrate:te,createApp:Tt(Z,te)}}function Lt({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function xt(e,t,o=!1){const i=e.children,r=t.children;if((0,n.kJ)(i)&&(0,n.kJ)(r))for(let n=0;n<i.length;n++){const e=i[n];let t=r[n];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[n]=lo(r[n]),t.el=e.el),o||xt(e,t)),t.type===kt&&(t.el=e.el)}}function Ft(e){const t=e.slice(),o=[0];let i,n,r,s,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(n=o[o.length-1],e[n]<l){t[i]=n,o.push(i);continue}r=0,s=o.length-1;while(r<s)a=r+s>>1,e[o[a]]<l?r=a+1:s=a;l<e[o[r]]&&(r>0&&(t[i]=o[r-1]),o[r]=i)}}r=o.length,s=o[r-1];while(r-- >0)o[r]=s,s=t[s];return o}const Nt=e=>e.__isTeleport;const It=Symbol(void 0),kt=Symbol(void 0),Gt=Symbol(void 0),Ht=Symbol(void 0),Vt=[];let Bt=null;function jt(e=!1){Vt.push(Bt=e?null:[])}function Wt(){Vt.pop(),Bt=Vt[Vt.length-1]||null}let zt=1;function Ut(e){zt+=e}function Kt(e){return e.dynamicChildren=zt>0?Bt||n.Z6:null,Wt(),zt>0&&Bt&&Bt.push(e),e}function Yt(e,t,o,i,n,r){return Kt(eo(e,t,o,i,n,r,!0))}function qt(e,t,o,i,n){return Kt(to(e,t,o,i,n,!0))}function Jt(e){return!!e&&!0===e.__v_isVNode}function Xt(e,t){return e.type===t.type&&e.key===t.key}const $t="__vInternal",Qt=({key:e})=>null!=e?e:null,Zt=({ref:e,ref_key:t,ref_for:o})=>null!=e?(0,n.HD)(e)||(0,i.dq)(e)||(0,n.mf)(e)?{i:L,r:e,k:t,f:!!o}:e:null;function eo(e,t=null,o=null,i=0,r=null,s=(e===It?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Qt(t),ref:t&&Zt(t),scopeId:x,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:L};return l?(uo(u,o),128&s&&e.normalize(u)):o&&(u.shapeFlag|=(0,n.HD)(o)?8:16),zt>0&&!a&&Bt&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&Bt.push(u),u}const to=oo;function oo(e,t=null,o=null,r=0,s=null,a=!1){if(e&&e!==Ie||(e=Gt),Jt(e)){const i=no(e,t,!0);return o&&uo(i,o),zt>0&&!a&&Bt&&(6&i.shapeFlag?Bt[Bt.indexOf(e)]=i:Bt.push(i)),i.patchFlag|=-2,i}if(Lo(e)&&(e=e.__vccOpts),t){t=io(t);let{class:e,style:o}=t;e&&!(0,n.HD)(e)&&(t.class=(0,n.C_)(e)),(0,n.Kn)(o)&&((0,i.X3)(o)&&!(0,n.kJ)(o)&&(o=(0,n.l7)({},o)),t.style=(0,n.j5)(o))}const l=(0,n.HD)(e)?1:z(e)?128:Nt(e)?64:(0,n.Kn)(e)?4:(0,n.mf)(e)?2:0;return eo(e,t,o,r,s,l,a,!0)}function io(e){return e?(0,i.X3)(e)||$t in e?(0,n.l7)({},e):e:null}function no(e,t,o=!1){const{props:i,ref:r,patchFlag:s,children:a}=e,l=t?co(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Qt(l),ref:t&&t.ref?o&&r?(0,n.kJ)(r)?r.concat(Zt(t)):[r,Zt(t)]:Zt(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==It?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&no(e.ssContent),ssFallback:e.ssFallback&&no(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx};return u}function ro(e=" ",t=0){return to(kt,null,e,t)}function so(e="",t=!1){return t?(jt(),qt(Gt,null,e)):to(Gt,null,e)}function ao(e){return null==e||"boolean"===typeof e?to(Gt):(0,n.kJ)(e)?to(It,null,e.slice()):"object"===typeof e?lo(e):to(kt,null,String(e))}function lo(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:no(e)}function uo(e,t){let o=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,n.kJ)(t))o=16;else if("object"===typeof t){if(65&i){const o=t.default;return void(o&&(o._c&&(o._d=!1),uo(e,o()),o._c&&(o._d=!0)))}{o=32;const i=t._;i||$t in t?3===i&&L&&(1===L.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=L}}else(0,n.mf)(t)?(t={default:t,_ctx:L},o=32):(t=String(t),64&i?(o=16,t=[ro(t)]):o=8);e.children=t,e.shapeFlag|=o}function co(...e){const t={};for(let o=0;o<e.length;o++){const i=e[o];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,n.C_)([t.class,i.class]));else if("style"===e)t.style=(0,n.j5)([t.style,i.style]);else if((0,n.F7)(e)){const o=t[e],r=i[e];!r||o===r||(0,n.kJ)(o)&&o.includes(r)||(t[e]=o?[].concat(o,r):r)}else""!==e&&(t[e]=i[e])}return t}function po(e,t,o,i=null){s(e,t,7,[o,i])}const ho=Rt();let fo=0;function go(e,t,o){const r=e.type,s=(t?t.appContext:e.appContext)||ho,a={uid:fo++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pt(r,s),emitsOptions:A(r,s),emit:null,emitted:null,propsDefaults:n.kT,inheritAttrs:r.inheritAttrs,ctx:n.kT,data:n.kT,props:n.kT,attrs:n.kT,slots:n.kT,refs:n.kT,setupState:n.kT,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=D.bind(null,a),e.ce&&e.ce(a),a}let mo=null;const vo=()=>mo||L,yo=e=>{mo=e,e.scope.on()},Co=()=>{mo&&mo.scope.off(),mo=null};function bo(e){return 4&e.vnode.shapeFlag}let wo,Eo,So=!1;function Ro(e,t=!1){So=t;const{props:o,children:i}=e.vnode,n=bo(e);lt(e,o,n,t),Et(e,i);const r=n?Oo(e,t):void 0;return So=!1,r}function Oo(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.Xl)(new Proxy(e.ctx,Ye));const{setup:s}=o;if(s){const o=e.setupContext=s.length>1?Do(e):null;yo(e),(0,i.Jd)();const l=r(s,e,0,[e.props,o]);if((0,i.lk)(),Co(),(0,n.tI)(l)){if(l.then(Co,Co),t)return l.then((o=>{To(e,o,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=l}else To(e,l,t)}else _o(e,t)}function To(e,t,o){(0,n.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,n.Kn)(t)&&(e.setupState=(0,i.WL)(t)),_o(e,o)}function _o(e,t,o){const r=e.type;if(!e.render){if(!t&&wo&&!r.render){const t=r.template||Ze(e).template;if(t){0;const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:s,compilerOptions:a}=r,l=(0,n.l7)((0,n.l7)({isCustomElement:o,delimiters:s},i),a);r.render=wo(t,l)}}e.render=r.render||n.dG,Eo&&Eo(e)}yo(e),(0,i.Jd)(),Je(e),(0,i.lk)(),Co()}function Po(e){return new Proxy(e.attrs,{get(t,o){return(0,i.j)(e,"get","$attrs"),t[o]}})}function Do(e){const t=t=>{e.exposed=t||{}};let o;return{get attrs(){return o||(o=Po(e))},slots:e.slots,emit:e.emit,expose:t}}function Ao(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(e.exposed)),{get(t,o){return o in t?t[o]:o in Ue?Ue[o](e):void 0},has(e,t){return t in e||t in Ue}}))}function Mo(e,t=!0){return(0,n.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Lo(e){return(0,n.mf)(e)&&"__vccOpts"in e}const xo=(e,t)=>(0,i.Fl)(e,t,So);function Fo(e,t,o){const i=arguments.length;return 2===i?(0,n.Kn)(t)&&!(0,n.kJ)(t)?Jt(t)?to(e,null,[t]):to(e,t):to(e,null,t):(i>3?o=Array.prototype.slice.call(arguments,2):3===i&&Jt(o)&&(o=[o]),to(e,t,o))}const No=Symbol(""),Io=()=>{{const e=Y(No);return e}};const ko="3.2.45"},9242:function(e,t,o){"use strict";o.d(t,{G2:function(){return oe},bM:function(){return ie},e8:function(){return ee},nr:function(){return Z},ri:function(){return de},sY:function(){return ce},uT:function(){return F}});o(7658);var i=o(7139),n=o(3396);o(4870);const r="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,a=s&&s.createElement("template"),l={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,i)=>{const n=t?s.createElementNS(r,e):s.createElement(e,o?{is:o}:void 0);return"select"===e&&i&&null!=i.multiple&&n.setAttribute("multiple",i.multiple),n},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,i,n,r){const s=o?o.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling)){while(1)if(t.insertBefore(n.cloneNode(!0),o),n===r||!(n=n.nextSibling))break}else{a.innerHTML=i?`<svg>${e}</svg>`:e;const n=a.content;if(i){const e=n.firstChild;while(e.firstChild)n.appendChild(e.firstChild);n.removeChild(e)}t.insertBefore(n,o)}return[s?s.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function u(e,t,o){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function c(e,t,o){const n=e.style,r=(0,i.HD)(o);if(o&&!r){for(const e in o)p(n,e,o[e]);if(t&&!(0,i.HD)(t))for(const e in t)null==o[e]&&p(n,e,"")}else{const i=n.display;r?t!==o&&(n.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const d=/\s*!important$/;function p(e,t,o){if((0,i.kJ)(o))o.forEach((o=>p(e,t,o)));else if(null==o&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const n=g(e,t);d.test(o)?e.setProperty((0,i.rs)(n),o.replace(d,""),"important"):e[n]=o}}const h=["Webkit","Moz","ms"],f={};function g(e,t){const o=f[t];if(o)return o;let n=(0,i._A)(t);if("filter"!==n&&n in e)return f[t]=n;n=(0,i.kC)(n);for(let i=0;i<h.length;i++){const o=h[i]+n;if(o in e)return f[t]=o}return t}const m="http://www.w3.org/1999/xlink";function v(e,t,o,n,r){if(n&&t.startsWith("xlink:"))null==o?e.removeAttributeNS(m,t.slice(6,t.length)):e.setAttributeNS(m,t,o);else{const n=(0,i.Pq)(t);null==o||n&&!(0,i.yA)(o)?e.removeAttribute(t):e.setAttribute(t,n?"":o)}}function y(e,t,o,n,r,s,a){if("innerHTML"===t||"textContent"===t)return n&&a(n,r,s),void(e[t]=null==o?"":o);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=o;const i=null==o?"":o;return e.value===i&&"OPTION"!==e.tagName||(e.value=i),void(null==o&&e.removeAttribute(t))}let l=!1;if(""===o||null==o){const n=typeof e[t];"boolean"===n?o=(0,i.yA)(o):null==o&&"string"===n?(o="",l=!0):"number"===n&&(o=0,l=!0)}try{e[t]=o}catch(u){0}l&&e.removeAttribute(t)}function C(e,t,o,i){e.addEventListener(t,o,i)}function b(e,t,o,i){e.removeEventListener(t,o,i)}function w(e,t,o,i,n=null){const r=e._vei||(e._vei={}),s=r[t];if(i&&s)s.value=i;else{const[o,a]=S(t);if(i){const s=r[t]=_(i,n);C(e,o,s,a)}else s&&(b(e,o,s,a),r[t]=void 0)}}const E=/(?:Once|Passive|Capture)$/;function S(e){let t;if(E.test(e)){let o;t={};while(o=e.match(E))e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}const o=":"===e[2]?e.slice(3):(0,i.rs)(e.slice(2));return[o,t]}let R=0;const O=Promise.resolve(),T=()=>R||(O.then((()=>R=0)),R=Date.now());function _(e,t){const o=e=>{if(e._vts){if(e._vts<=o.attached)return}else e._vts=Date.now();(0,n.$d)(P(e,o.value),t,5,[e])};return o.value=e,o.attached=T(),o}function P(e,t){if((0,i.kJ)(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const D=/^on[a-z]/,A=(e,t,o,n,r=!1,s,a,l,d)=>{"class"===t?u(e,n,r):"style"===t?c(e,o,n):(0,i.F7)(t)?(0,i.tR)(t)||w(e,t,o,n,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):M(e,t,n,r))?y(e,t,n,s,a,l,d):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),v(e,t,n,r))};function M(e,t,o,n){return n?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,i.mf)(o)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,i.HD)(o))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const L="transition",x="animation",F=(e,{slots:t})=>(0,n.h)(n.P$,G(e),t);F.displayName="Transition";const N={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},I=(F.props=(0,i.l7)({},n.P$.props,N),(e,t=[])=>{(0,i.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),k=e=>!!e&&((0,i.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function G(e){const t={};for(const i in e)i in N||(t[i]=e[i]);if(!1===e.css)return t;const{name:o="v",type:n,duration:r,enterFromClass:s=`${o}-enter-from`,enterActiveClass:a=`${o}-enter-active`,enterToClass:l=`${o}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:d=l,leaveFromClass:p=`${o}-leave-from`,leaveActiveClass:h=`${o}-leave-active`,leaveToClass:f=`${o}-leave-to`}=e,g=H(r),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:C,onEnterCancelled:b,onLeave:w,onLeaveCancelled:E,onBeforeAppear:S=y,onAppear:R=C,onAppearCancelled:O=b}=t,T=(e,t,o)=>{j(e,t?d:l),j(e,t?c:a),o&&o()},_=(e,t)=>{e._isLeaving=!1,j(e,p),j(e,f),j(e,h),t&&t()},P=e=>(t,o)=>{const i=e?R:C,r=()=>T(t,e,o);I(i,[t,r]),W((()=>{j(t,e?u:s),B(t,e?d:l),k(i)||U(t,n,m,r)}))};return(0,i.l7)(t,{onBeforeEnter(e){I(y,[e]),B(e,s),B(e,a)},onBeforeAppear(e){I(S,[e]),B(e,u),B(e,c)},onEnter:P(!1),onAppear:P(!0),onLeave(e,t){e._isLeaving=!0;const o=()=>_(e,t);B(e,p),J(),B(e,h),W((()=>{e._isLeaving&&(j(e,p),B(e,f),k(w)||U(e,n,v,o))})),I(w,[e,o])},onEnterCancelled(e){T(e,!1),I(b,[e])},onAppearCancelled(e){T(e,!0),I(O,[e])},onLeaveCancelled(e){_(e),I(E,[e])}})}function H(e){if(null==e)return null;if((0,i.Kn)(e))return[V(e.enter),V(e.leave)];{const t=V(e);return[t,t]}}function V(e){const t=(0,i.He)(e);return t}function B(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function j(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:o}=e;o&&(o.delete(t),o.size||(e._vtc=void 0))}function W(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let z=0;function U(e,t,o,i){const n=e._endId=++z,r=()=>{n===e._endId&&i()};if(o)return setTimeout(r,o);const{type:s,timeout:a,propCount:l}=K(e,t);if(!s)return i();const u=s+"end";let c=0;const d=()=>{e.removeEventListener(u,p),r()},p=t=>{t.target===e&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),a+1),e.addEventListener(u,p)}function K(e,t){const o=window.getComputedStyle(e),i=e=>(o[e]||"").split(", "),n=i(`${L}Delay`),r=i(`${L}Duration`),s=Y(n,r),a=i(`${x}Delay`),l=i(`${x}Duration`),u=Y(a,l);let c=null,d=0,p=0;t===L?s>0&&(c=L,d=s,p=r.length):t===x?u>0&&(c=x,d=u,p=l.length):(d=Math.max(s,u),c=d>0?s>u?L:x:null,p=c?c===L?r.length:l.length:0);const h=c===L&&/\b(transform|all)(,|$)/.test(i(`${L}Property`).toString());return{type:c,timeout:d,propCount:p,hasTransform:h}}function Y(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,o)=>q(t)+q(e[o]))))}function q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function J(){return document.body.offsetHeight}new WeakMap,new WeakMap;const X=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,i.kJ)(t)?e=>(0,i.ir)(t,e):t};function $(e){e.target.composing=!0}function Q(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Z={created(e,{modifiers:{lazy:t,trim:o,number:n}},r){e._assign=X(r);const s=n||r.props&&"number"===r.props.type;C(e,t?"change":"input",(t=>{if(t.target.composing)return;let n=e.value;o&&(n=n.trim()),s&&(n=(0,i.He)(n)),e._assign(n)})),o&&C(e,"change",(()=>{e.value=e.value.trim()})),t||(C(e,"compositionstart",$),C(e,"compositionend",Q),C(e,"change",Q))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:n,number:r}},s){if(e._assign=X(s),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(o)return;if(n&&e.value.trim()===t)return;if((r||"number"===e.type)&&(0,i.He)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},ee={deep:!0,created(e,t,o){e._assign=X(o),C(e,"change",(()=>{const t=e._modelValue,o=re(e),n=e.checked,r=e._assign;if((0,i.kJ)(t)){const e=(0,i.hq)(t,o),s=-1!==e;if(n&&!s)r(t.concat(o));else if(!n&&s){const o=[...t];o.splice(e,1),r(o)}}else if((0,i.DM)(t)){const e=new Set(t);n?e.add(o):e.delete(o),r(e)}else r(se(e,n))}))},mounted:te,beforeUpdate(e,t,o){e._assign=X(o),te(e,t,o)}};function te(e,{value:t,oldValue:o},n){e._modelValue=t,(0,i.kJ)(t)?e.checked=(0,i.hq)(t,n.props.value)>-1:(0,i.DM)(t)?e.checked=t.has(n.props.value):t!==o&&(e.checked=(0,i.WV)(t,se(e,!0)))}const oe={created(e,{value:t},o){e.checked=(0,i.WV)(t,o.props.value),e._assign=X(o),C(e,"change",(()=>{e._assign(re(e))}))},beforeUpdate(e,{value:t,oldValue:o},n){e._assign=X(n),t!==o&&(e.checked=(0,i.WV)(t,n.props.value))}},ie={deep:!0,created(e,{value:t,modifiers:{number:o}},n){const r=(0,i.DM)(t);C(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>o?(0,i.He)(re(e)):re(e)));e._assign(e.multiple?r?new Set(t):t:t[0])})),e._assign=X(n)},mounted(e,{value:t}){ne(e,t)},beforeUpdate(e,t,o){e._assign=X(o)},updated(e,{value:t}){ne(e,t)}};function ne(e,t){const o=e.multiple;if(!o||(0,i.kJ)(t)||(0,i.DM)(t)){for(let n=0,r=e.options.length;n<r;n++){const r=e.options[n],s=re(r);if(o)(0,i.kJ)(t)?r.selected=(0,i.hq)(t,s)>-1:r.selected=t.has(s);else if((0,i.WV)(re(r),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}o||-1===e.selectedIndex||(e.selectedIndex=-1)}}function re(e){return"_value"in e?e._value:e.value}function se(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const ae=(0,i.l7)({patchProp:A},l);let le;function ue(){return le||(le=(0,n.Us)(ae))}const ce=(...e)=>{ue().render(...e)},de=(...e)=>{const t=ue().createApp(...e);const{mount:o}=t;return t.mount=e=>{const n=pe(e);if(!n)return;const r=t._component;(0,i.mf)(r)||r.render||r.template||(r.template=n.innerHTML),n.innerHTML="";const s=o(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function pe(e){if((0,i.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,o){"use strict";o.d(t,{C_:function(){return d},DM:function(){return F},E9:function(){return re},F7:function(){return T},Gg:function(){return K},HD:function(){return k},He:function(){return ie},Kn:function(){return H},NO:function(){return R},Nj:function(){return oe},Od:function(){return D},PO:function(){return z},Pq:function(){return f},RI:function(){return M},S0:function(){return U},W7:function(){return W},WV:function(){return v},Z6:function(){return E},_A:function(){return J},_N:function(){return x},aU:function(){return ee},dG:function(){return S},e1:function(){return r},fY:function(){return i},hR:function(){return Z},hq:function(){return y},ir:function(){return te},j5:function(){return s},kC:function(){return Q},kJ:function(){return L},kT:function(){return w},l7:function(){return P},mf:function(){return I},rs:function(){return $},tI:function(){return V},tR:function(){return _},vs:function(){return p},yA:function(){return g},yk:function(){return G},zw:function(){return C}});o(7658);function i(e,t){const o=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)o[i[n]]=!0;return t?e=>!!o[e.toLowerCase()]:e=>!!o[e]}const n="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",r=i(n);function s(e){if(L(e)){const t={};for(let o=0;o<e.length;o++){const i=e[o],n=k(i)?c(i):s(i);if(n)for(const e in n)t[e]=n[e]}return t}return k(e)||H(e)?e:void 0}const a=/;(?![^(]*\))/g,l=/:([^]+)/,u=/\/\*.*?\*\//gs;function c(e){const t={};return e.replace(u,"").split(a).forEach((e=>{if(e){const o=e.split(l);o.length>1&&(t[o[0].trim()]=o[1].trim())}})),t}function d(e){let t="";if(k(e))t=e;else if(L(e))for(let o=0;o<e.length;o++){const i=d(e[o]);i&&(t+=i+" ")}else if(H(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}function p(e){if(!e)return null;let{class:t,style:o}=e;return t&&!k(t)&&(e.class=d(t)),o&&(e.style=s(o)),e}const h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",f=i(h);function g(e){return!!e||""===e}function m(e,t){if(e.length!==t.length)return!1;let o=!0;for(let i=0;o&&i<e.length;i++)o=v(e[i],t[i]);return o}function v(e,t){if(e===t)return!0;let o=N(e),i=N(t);if(o||i)return!(!o||!i)&&e.getTime()===t.getTime();if(o=G(e),i=G(t),o||i)return e===t;if(o=L(e),i=L(t),o||i)return!(!o||!i)&&m(e,t);if(o=H(e),i=H(t),o||i){if(!o||!i)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const o in e){const i=e.hasOwnProperty(o),n=t.hasOwnProperty(o);if(i&&!n||!i&&n||!v(e[o],t[o]))return!1}}return String(e)===String(t)}function y(e,t){return e.findIndex((e=>v(e,t)))}const C=e=>k(e)?e:null==e?"":L(e)||H(e)&&(e.toString===B||!I(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):x(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,o])=>(e[`${t} =>`]=o,e)),{})}:F(t)?{[`Set(${t.size})`]:[...t.values()]}:!H(t)||L(t)||z(t)?t:String(t),w={},E=[],S=()=>{},R=()=>!1,O=/^on[^a-z]/,T=e=>O.test(e),_=e=>e.startsWith("onUpdate:"),P=Object.assign,D=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},A=Object.prototype.hasOwnProperty,M=(e,t)=>A.call(e,t),L=Array.isArray,x=e=>"[object Map]"===j(e),F=e=>"[object Set]"===j(e),N=e=>"[object Date]"===j(e),I=e=>"function"===typeof e,k=e=>"string"===typeof e,G=e=>"symbol"===typeof e,H=e=>null!==e&&"object"===typeof e,V=e=>H(e)&&I(e.then)&&I(e.catch),B=Object.prototype.toString,j=e=>B.call(e),W=e=>j(e).slice(8,-1),z=e=>"[object Object]"===j(e),U=e=>k(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,K=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=e=>{const t=Object.create(null);return o=>{const i=t[o];return i||(t[o]=e(o))}},q=/-(\w)/g,J=Y((e=>e.replace(q,((e,t)=>t?t.toUpperCase():"")))),X=/\B([A-Z])/g,$=Y((e=>e.replace(X,"-$1").toLowerCase())),Q=Y((e=>e.charAt(0).toUpperCase()+e.slice(1))),Z=Y((e=>e?`on${Q(e)}`:"")),ee=(e,t)=>!Object.is(e,t),te=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},oe=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},ie=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ne;const re=()=>ne||(ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof o.g?o.g:{})},6732:function(e,t,o){"use strict";o.d(t,{n:function(){return Ay}});o(7658);var i=o(3396),n=o(4870);o(2801);
/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v29.1.0
          * @link https://www.ag-grid.com/
          * @license MIT
          */
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
function r(e){return null==e||""===e?null:e}function s(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)}function a(e){return!s(e)}function l(e){return null==e||0===e.length}function u(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function c(e){if(void 0!==e){if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;var t=parseInt(e,10);return isNaN(t)?void 0:t}}function d(e){if(void 0!==e)return null!==e&&""!==e&&("boolean"===typeof e?e:/true/i.test(e))}function p(e){if(null!=e&&""!==e)return e}function h(e,t){return null==e&&null==t||(null!=e||null==t)&&((null==e||null!=t)&&e===t)}function f(e,t){var o=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return o===i}function g(e,t,o){void 0===o&&(o=!1);var i=null==e,n=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return r(e,t);if(!o)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}function m(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Object.values(e)}var v=Object.freeze({__proto__:null,makeNull:r,exists:s,missing:a,missingOrEmpty:l,toStringOrNull:u,attrToNumber:c,attrToBoolean:d,attrToString:p,referenceCompare:h,jsonEquals:f,defaultComparator:g,values:m}),y=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=u(e);var o=0;while(1){var i=void 0;if(e?(i=e,0!==o&&(i+="_"+o)):t?(i=t,0!==o&&(i+="_"+o)):i=""+o,!this.existingKeys[i])return this.existingKeys[i]=!0,i;o++}},e}();
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
function C(e,t){null!=e&&(Array.isArray(e)?e.forEach((function(e,o){return t(""+o,e)})):Object.keys(e).forEach((function(o){return t(o,e[o])})))}function b(e){for(var t={},o=Object.keys(e),i=0;i<o.length;i++){var n=o[i],r=e[n];t[n]=r}return t}function w(e){return JSON.parse(JSON.stringify(e))}function E(e,t){if(e){var o=e,i={};return Object.keys(o).forEach((function(e){if(!(t&&t.indexOf(e)>=0)){var n=o[e],r=N(n)&&n.constructor===Object;i[e]=r?E(n):n}})),i}}function S(e,t){return e[t]}function R(e,t,o){e[t]=o}function O(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];o.forEach((function(o){return T(e,t,o)}))}function T(e,t,o,i){var n=S(e,o);void 0!==n&&R(t,o,i?i(n):n)}function _(e){var t={};return e.filter((function(e){return null!=e})).forEach((function(e){Object.keys(e).forEach((function(e){return t[e]=null}))})),Object.keys(t)}function P(e){if(!e)return[];var t=Object;if("function"===typeof t.values)return t.values(e);var o=[];for(var i in e)e.hasOwnProperty(i)&&e.propertyIsEnumerable(i)&&o.push(e[i]);return o}function D(e,t,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1),s(t)&&C(t,(function(t,n){var r=e[t];if(r!==n){if(i){var s=null==r&&null!=n;if(s){var a="object"===typeof n&&n.constructor===Object,l=a;l&&(r={},e[t]=r)}}N(n)&&N(r)&&!Array.isArray(r)?D(r,n,o,i):(o||void 0!==n)&&(e[t]=n)}}))}function A(e){return a(e)||0===Object.keys(e).length}function M(e,t,o){if(null==e)return o;var i=t.split("."),n=e;while(i.length>1)if(n=n[i.shift()],null==n)return o;var r=n[i[0]];return null!=r?r:o}function L(e,t,o){if(null!=e){var i=t.split("."),n=e;i.forEach((function(e,t){n[e]||(n[e]={}),t<i.length-1&&(n=n[e])})),n[i[i.length-1]]=o}}function x(e,t,o){if(t&&e){if(!o)return e[t];for(var i=t.split("."),n=e,r=0;r<i.length;r++){if(null==n)return;n=n[i[r]]}return n}}function F(e,t){Object.keys(e).forEach((function(t){var o=e[t];"object"===typeof o&&(e[t]=void 0)}));var o=Object.getPrototypeOf(e),i={};Object.keys(o).forEach((function(e){var n=o[e];if("function"===typeof n){var r=function(){console.warn("AG Grid: "+t+" function "+e+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")};i[e]={value:r,writable:!0}}})),Object.defineProperties(e,i)}function N(e){return"object"===typeof e&&null!==e}var I=Object.freeze({__proto__:null,iterateObject:C,cloneObject:b,deepCloneObject:w,deepCloneDefinition:E,getProperty:S,setProperty:R,copyPropertiesIfPresent:O,copyPropertyIfPresent:T,getAllKeysInObjects:_,getAllValuesInObject:P,mergeDeep:D,missingOrEmptyObject:A,get:M,set:L,getValueUsingField:x,removeAllReferences:F,isNonNullObject:N}),k={};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function G(e,t){k[t]||(e(),k[t]=!0)}function H(e){if(e.name)return e.name;var t=/function\s+([^\(]+)/.exec(e.toString());return t&&2===t.length?t[1].trim():null}function V(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e){U(e,400)}var j=[],W=!1;function z(e){j.push(e),W||(W=!0,window.setTimeout((function(){var e=j.slice();j.length=0,W=!1,e.forEach((function(e){return e()}))}),0))}function U(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout((function(){return e.forEach((function(e){return e()}))}),t)}function K(e,t){var o;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=this;window.clearTimeout(o),o=window.setTimeout((function(){e.apply(r,i)}),t)}}function Y(e,t){var o=0;return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r=this,s=(new Date).getTime();s-o<t||(o=s,e.apply(r,i))}}function q(e,t,o,i){void 0===o&&(o=100);var n=(new Date).getTime(),r=null,s=!1,a=function(){var a=(new Date).getTime()-n>o;(e()||a)&&(t(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&i&&console.warn(i))};a(),s||(r=window.setInterval(a,10))}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}}function X(e){e&&e()}var $=function(){},Q=Object.freeze({__proto__:null,doOnce:G,getFunctionName:H,isFunction:V,executeInAWhile:B,executeNextVMTurn:z,executeAfter:U,debounce:K,throttle:Y,waitUntil:q,compose:J,callIfPresent:X,noop:$}),Z=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},ee=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z(arguments[t]));return e},te=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return m(this.beanWrappers).map((function(e){return e.beanInstance}))},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),s(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),C(this.beanWrappers,(function(t,o){var i;o.bean.__agBeanMetaData&&o.bean.__agBeanMetaData.autowireMethods&&o.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=o.bean.__agBeanMetaData.autowireMethods.agConstructor);var n=e.getBeansForParameters(i,o.bean.name),r=new(o.bean.bind.apply(o.bean,ee([null],n)));o.beanInstance=r}));var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var o=void 0;return o=e.prototype.constructor?H(e.prototype.constructor):""+e,void console.error("Context item "+o+" is not a bean")}var i={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=i},e.prototype.autoWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(o,i){var n=o.agClassAttributes;n&&n.forEach((function(o){var n=t.lookupBeanInstance(i,o.beanName,o.optional);e[o.attributeName]=n}))}))}))},e.prototype.methodWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(o,i){C(o.autowireMethods,(function(o,n){if("agConstructor"!==o){var r=t.getBeansForParameters(n,i);e[o].apply(e,r)}}))}))}))},e.prototype.forEachMetaDataInHierarchy=function(e,t){var o=Object.getPrototypeOf(e);while(null!=o){var i=o.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var n=i.__agBeanMetaData,r=this.getBeanName(i);t(n,r)}o=Object.getPrototypeOf(o)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString(),o=t.substring(9,t.indexOf("("));return o},e.prototype.getBeansForParameters=function(e,t){var o=this,i=[];return e&&C(e,(function(e,n){var r=o.lookupBeanInstance(t,n);i[Number(e)]=r})),i},e.prototype.lookupBeanInstance=function(e,t,o){if(void 0===o&&(o=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var i=this.beanWrappers[t];return i?i.beanInstance:(o||console.error("AG Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var o=this;e.forEach((function(e){return o.callLifeCycleMethodsOnBean(e,t)}))},e.prototype.callLifeCycleMethodsOnBean=function(e,t,o){var i={};this.forEachMetaDataInHierarchy(e,(function(e){var n=e[t];n&&n.forEach((function(e){e!=o&&(i[e]=!0)}))}));var n=Object.keys(i);n.forEach((function(t){return e[t]()}))},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach((function(e){t.callLifeCycleMethodsOnBean(e,"preDestroyMethods","destroy");var o=e;"function"===typeof o.destroy&&o.destroy()})),[]):[]},e}();function oe(e,t,o){var i=ce(e.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function ie(e,t,o){var i=ce(e.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function ne(e,t,o){var i=ce(e.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function re(e){return function(t){var o=ce(t);o.beanName=e}}function se(e){return function(t,o,i){le(t,e,!1,t,o,null)}}function ae(e){return function(t,o,i){le(t,e,!0,t,o,null)}}function le(e,t,o,i,n,r){if(null!==t)if("number"!==typeof r){var s=ce(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:n,beanName:t,optional:o})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function ue(e){return function(t,o,i){var n,r="function"==typeof t?t:t.constructor;if("number"===typeof i){var s=void 0;o?(n=ce(r),s=o):(n=ce(r),s="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[s]||(n.autowireMethods[s]={}),n.autowireMethods[s][i]=e}}}function ce(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var de,pe=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},he=function(e,t){return function(o,i){t(o,i,e)}},fe=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,o,i){if(void 0===i&&(i=null),this.frameworkOverrides=o,this.gridOptionsService=t,i){var n=t.useAsyncEvents();this.addGlobalListener(i,n)}},e.prototype.getListeners=function(e,t,o){var i=t?this.allAsyncListeners:this.allSyncListeners,n=i.get(e);return!n&&o&&(n=new Set,i.set(e,n)),n},e.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},e.prototype.addEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o,!0).add(t)},e.prototype.removeEventListener=function(e,t,o){void 0===o&&(o=!1);var i=this.getListeners(e,o,!1);if(i&&(i.delete(t),0===i.size)){var n=o?this.allAsyncListeners:this.allSyncListeners;n.delete(e)}},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){var t=e;if(this.gridOptionsService){var o=this.gridOptionsService,i=o.api,n=o.columnApi,r=o.context;t.api=i,t.columnApi=n,t.context=r}this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var o=this,i=e.type;if(t&&"event"in e){var n=e.event;n instanceof Event&&(e.eventPath=n.composedPath())}var r=function(i){return i.forEach((function(i){t?o.dispatchAsync((function(){return i(e)})):i(e)}))},s=this.getListeners(i,t,!1);s&&r(s);var a=t?this.globalAsyncListeners:this.globalSyncListeners;a.forEach((function(n){t?o.dispatchAsync((function(){return o.frameworkOverrides.dispatchEvent(i,(function(){return n(i,e)}),!0)})):o.frameworkOverrides.dispatchEvent(i,(function(){return n(i,e)}),!0)}))},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))},pe([he(0,ue("loggerFactory")),he(1,ue("gridOptionsService")),he(2,ue("frameworkOverrides")),he(3,ue("globalEventListener"))],e.prototype,"setBeans",null),e=pe([re("eventService")],e),e}();(function(e){e["CommunityCoreModule"]="@ag-grid-community/core",e["CommunityAllModules"]="@ag-grid-community/all",e["InfiniteRowModelModule"]="@ag-grid-community/infinite-row-model",e["ClientSideRowModelModule"]="@ag-grid-community/client-side-row-model",e["CsvExportModule"]="@ag-grid-community/csv-export",e["EnterpriseCoreModule"]="@ag-grid-enterprise/core",e["EnterpriseAllModules"]="@ag-grid-enterprise/all",e["RowGroupingModule"]="@ag-grid-enterprise/row-grouping",e["ColumnToolPanelModule"]="@ag-grid-enterprise/column-tool-panel",e["FiltersToolPanelModule"]="@ag-grid-enterprise/filter-tool-panel",e["MenuModule"]="@ag-grid-enterprise/menu",e["SetFilterModule"]="@ag-grid-enterprise/set-filter",e["MultiFilterModule"]="@ag-grid-enterprise/multi-filter",e["StatusBarModule"]="@ag-grid-enterprise/status-bar",e["SideBarModule"]="@ag-grid-enterprise/side-bar",e["RangeSelectionModule"]="@ag-grid-enterprise/range-selection",e["MasterDetailModule"]="@ag-grid-enterprise/master-detail",e["RichSelectModule"]="@ag-grid-enterprise/rich-select",e["GridChartsModule"]="@ag-grid-enterprise/charts",e["ViewportRowModelModule"]="@ag-grid-enterprise/viewport-row-model",e["ServerSideRowModelModule"]="@ag-grid-enterprise/server-side-row-model",e["ExcelExportModule"]="@ag-grid-enterprise/excel-export",e["ClipboardModule"]="@ag-grid-enterprise/clipboard",e["SparklinesModule"]="@ag-grid-enterprise/sparklines",e["AngularModule"]="@ag-grid-community/angular",e["ReactModule"]="@ag-grid-community/react",e["VueModule"]="@ag-grid-community/vue",e["PolymerModule"]="@ag-grid-community/polymer"})(de||(de={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var ge=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},me=function(){function e(){}return e.register=function(t,o){void 0===o&&(o=!0),e.runVersionChecks(t),e.modulesMap[t.moduleName]=t,e.setModuleBased(o)},e.runVersionChecks=function(t){if(e.currentModuleVersion||(e.currentModuleVersion=t.version),t.version?t.version!==e.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is version "+t.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is incompatible. Please update all modules to the same version."),t.validate){var o=t.validate();if(!o.isValid){var i=o;console.error("AG Grid: "+i.message)}}},e.setModuleBased=function(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&G((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},e.setIsBundled=function(){e.isBundled=!0},e.registerModules=function(t,o){void 0===o&&(o=!0),e.setModuleBased(o),t&&t.forEach((function(t){return e.register(t,o)}))},e.assertRegistered=function(t,o){var i;if(this.isRegistered(t))return!0;var n,r=o+t;if(e.isBundled)n="AG Grid: unable to use "+o+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(e.moduleBased||void 0===e.moduleBased){var s=null===(i=Object.entries(de).find((function(e){var o=ge(e,2);o[0];var i=o[1];return i===t})))||void 0===i?void 0:i[0];n="AG Grid: unable to use "+o+" as the "+s+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+s+" } from '"+t+"';\n    \n    ModuleRegistry.registerModules([ "+s+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else n="AG Grid: unable to use "+o+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return G((function(){console.warn(n)}),r),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return m(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),ve=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ye=0;function Ce(){return ye++}var be=function(){function e(e,t,o,i){this.instanceId=Ce(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new fe,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=o,this.primary=i,this.setState(e)}return e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setState=function(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);var t=c(e.sortIndex),o=c(e.initialSortIndex);void 0!==t?null!==t&&(this.sortIndex=t):null!==o&&(this.sortIndex=o);var i=d(e.hide),n=d(e.initialHide);this.visible=void 0!==i?!i:!n,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);var r=c(e.flex),s=c(e.initialFlex);void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)},e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},e.prototype.initDotNotation=function(){var e=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=s(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=s(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e},e.prototype.initMinAndMaxWidths=function(){var e=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(e),this.maxWidth=this.columnUtils.calculateColMaxWidth(e)},e.prototype.resetActualWidth=function(e){void 0===e&&(e="api");var t=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){if(a(this.colDef)||a(this.colDef.showRowGroup))return!1;var t=!0===this.colDef.showRowGroup,o=this.colDef.showRowGroup===e;return t||o},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter||!!this.colDef.filterFramework;return e},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function t(e,t,o){G((function(){o?console.warn(e,o):G((function(){return console.warn(e)}),t)}),t)}var o=this.gridOptionsService.isRowModelType("clientSide");if(o&&!me.isRegistered(de.RowGroupingModule)){var i=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"],n=i.filter((function(t){return s(e[t])}));n.length>0&&me.assertRegistered(de.RowGroupingModule,n.map((function(e){return"colDef."+e})).join(", "))}if("agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||me.assertRegistered(de.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData()){var r=["rowGroup","rowGroupIndex","pivot","pivotIndex"];n=r.filter((function(t){return s(e[t])}));n.length>0&&t("AG Grid: "+n.join()+" is not possible when doing tree data, your column definition should not have "+n.join(),"TreeDataCannotRowGroup")}s(e["menuTabs"])&&me.assertRegistered(de.MenuModule,"menuTabs"),s(e["columnsMenuParams"])&&me.assertRegistered(de.MenuModule,"columnsMenuParams"),s(e["columnsMenuParams"])&&me.assertRegistered(de.ColumnToolPanelModule,"columnsMenuParams"),s(this.colDef.width)&&"number"!==typeof this.colDef.width&&t("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(e.pinnedRowCellRenderer||e.pinnedRowCellRendererParams||e.pinnedRowCellRendererFramework)&&t("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),s(e.columnGroupShow)&&"closed"!==e.columnGroupShow&&"open"!==e.columnGroupShow&&t("AG Grid: '"+e.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed'","columnGroupShow_invalid")},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createColumnFunctionCallbackParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},e.prototype.isSuppressNavigable=function(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var t=this.createColumnFunctionCallbackParams(e),o=this.colDef.suppressNavigable;return o(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isSuppressFillHandle=function(){return!!d(this.colDef.suppressFillHandle)},e.prototype.isAutoHeight=function(){return!!d(this.colDef.autoHeight)},e.prototype.isAutoHeaderHeight=function(){return!!d(this.colDef.autoHeaderHeight)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!!d(this.colDef.resizable)},e.prototype.isColumnFunc=function(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){var o=this.createColumnFunctionCallbackParams(e),i=t;return i(o)}return!1},e.prototype.setMoving=function(e,t){void 0===t&&(t="api"),this.moving=e,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",t))},e.prototype.createColumnEvent=function(e,t){return{type:e,column:this,columns:[this],source:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(e,t){void 0===t&&(t="api"),this.sort!==e&&(this.sort=e,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",t)))},e.prototype.setMenuVisible=function(e,t){void 0===t&&(t="api"),this.menuVisible!==e&&(this.menuVisible=e,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return"asc"===this.sort},e.prototype.isSortDescending=function(){return"desc"===this.sort},e.prototype.isSortNone=function(){return a(this.sort)},e.prototype.isSorting=function(){return s(this.sort)},e.prototype.getSortIndex=function(){return this.sortIndex},e.prototype.setSortIndex=function(e){this.sortIndex=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(e,t){void 0===t&&(t="api"),this.oldLeft=this.left,this.left!==e&&(this.left=e,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(e,t,o){void 0===t&&(t="api"),this.filterActive!==e&&(this.filterActive=e,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));var i=this.createColumnEvent("filterChanged",t);o&&D(i,o),this.eventService.dispatchEvent(i)},e.prototype.setPinned=function(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null},e.prototype.setFirstRightPinned=function(e,t){void 0===t&&(t="api"),this.firstRightPinned!==e&&(this.firstRightPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))},e.prototype.setLastLeftPinned=function(e,t){void 0===t&&(t="api"),this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},e.prototype.isPinnedLeft=function(){return"left"===this.pinned},e.prototype.isPinnedRight=function(){return"right"===this.pinned},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(e,t){void 0===t&&(t="api");var o=!0===e;this.visible!==o&&(this.visible=o,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",t)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},e.prototype.setAutoHeaderHeight=function(e){var t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t},e.prototype.createBaseColDefParams=function(e){var t={node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return t},e.prototype.getColSpan=function(e){if(a(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)},e.prototype.getRowSpan=function(e){if(a(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)},e.prototype.setActualWidth=function(e,t,o){void 0===t&&(t="api"),void 0===o&&(o=!1),null!=this.minWidth&&(e=Math.max(e,this.minWidth)),null!=this.maxWidth&&(e=Math.min(e,this.maxWidth)),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),o||this.fireColumnWidthChangedEvent(t))},e.prototype.fireColumnWidthChangedEvent=function(e){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",e))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),s(this.minWidth)&&this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(e,t){void 0===t&&(t="api"),this.rowGroupActive!==e&&(this.rowGroupActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(e,t){void 0===t&&(t="api"),this.pivotActive!==e&&(this.pivotActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(e,t){void 0===t&&(t="api"),this.aggregationActive!==e&&(this.aggregationActive=e,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_COL_DEF_CHANGED="colDefChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",ve([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),ve([se("columnUtils")],e.prototype,"columnUtils",void 0),ve([ie],e.prototype,"initialise",null),e}(),we=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ee=function(){function e(e,t,o,i){this.localEventService=new fe,this.expandable=!1,this.instanceId=Ce(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=o,this.level=i}return e.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},e.prototype.reset=function(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t;var o={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(o)},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach((function(o){o instanceof be?t.push(o):o instanceof e&&o.addLeafColumns(t)}))},e.prototype.getColumnGroupShow=function(){var e=this.colGroupDef;if(e)return e.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(e){return e.addEventListener("visibleChanged",t)})),this.expandableListenerRemoveCallback=function(){e.getLeafColumns().forEach((function(e){return e.removeEventListener("visibleChanged",t)})),e.expandableListenerRemoveCallback=null}},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,o=!1,i=!1,n=this.findChildrenRemovingPadding(),r=0,s=n.length;r<s;r++){var a=n[r];if(a.isVisible()){var l=a.getColumnGroupShow();"open"===l?(t=!0,i=!0):"closed"===l?(o=!0,i=!0):(t=!0,o=!0)}}var u=t&&o&&i;if(this.expandable!==u){this.expandable=u;var c={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},e.prototype.findChildrenRemovingPadding=function(){var t=[],o=function(i){i.forEach((function(i){var n=i instanceof e&&i.isPadding();n?o(i.children):t.push(i)}))};return o(this.children),t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",we([ne],e.prototype,"destroy",null),e}(),Se={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;o++){var i=e[o];if(s(i))return i}return null}function Oe(e){return null!=e&&e.length>0}function Te(e){if(e&&e.length)return e[e.length-1]}function _e(e,t,o){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every((function(e,i){return o?o(e,t[i]):t[i]===e}))}function Pe(e,t){return _e(e,t)}function De(e){return e.sort((function(e,t){return e-t}))}function Ae(e,t){if(e)for(var o=e.length-2;o>=0;o--){var i=e[o]===t,n=e[o+1]===t;i&&n&&e.splice(o+1,1)}}function Me(e,t){var o=e.indexOf(t);o>=0&&e.splice(o,1)}function Le(e,t){t.forEach((function(t){return Me(e,t)}))}function xe(e,t,o){e.splice(o,0,t)}function Fe(e,t,o){if(null!=e&&null!=t)for(var i=t.length-1;i>=0;i--){var n=t[i];xe(e,n,o)}}function Ne(e,t,o){Le(e,t),t.slice().reverse().forEach((function(t){return xe(e,t,o)}))}function Ie(e,t){return e.indexOf(t)>-1}function ke(e){return[].concat.apply([],e)}function Ge(e,t){null!=t&&null!=e&&t.forEach((function(t){return e.push(t)}))}function He(e){return e.map(u)}function Ve(e,t){if(null!=e)for(var o=e.length-1;o>=0;o--)t(e[o],o)}var Be=Object.freeze({__proto__:null,firstExistingValue:Re,existsAndNotEmpty:Oe,last:Te,areEqual:_e,shallowCompare:Pe,sortNumerically:De,removeRepeatsFromArray:Ae,removeFromArray:Me,removeAllFromArray:Le,insertIntoArray:xe,insertArrayIntoArray:Fe,moveInArray:Ne,includes:Ie,flatten:ke,pushAll:Ge,toStrings:He,forEachReverse:Ve}),je="__ag_Grid_Stop_Propagation",We=["touchstart","touchend","touchmove","touchcancel","scroll"],ze={};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Ue(e){e[je]=!0}function Ke(e){return!0===e[je]}var Ye=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(t){if("boolean"===typeof ze[t])return ze[t];var o=document.createElement(e[t]||"div");return t="on"+t,ze[t]=t in o};return t}();function qe(e,t,o){var i=t.target;while(i){var n=e.getDomData(i,o);if(n)return n;i=i.parentElement}return null}function Je(e,t){return!(!t||!e)&&$e(t).indexOf(e)>=0}function Xe(e){var t=[],o=e.target;while(o)t.push(o),o=o.parentElement;return t}function $e(e){var t=e;return t.path?t.path:t.composedPath?t.composedPath():Xe(t)}function Qe(e,t,o,i){var n=Ie(We,o),r=n?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,o,i,r)}var Ze=Object.freeze({__proto__:null,stopPropagationForAgGrid:Ue,isStopPropagationForAgGrid:Ke,isEventSupported:Ye,getCtrlForEvent:qe,isElementInEventPath:Je,createEventPath:Xe,getEventPath:$e,addSafePassiveEventListener:Qe}),et=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},tt=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.getContext=function(){return this.context},e.prototype.destroy=function(){this.destroyFunctions.forEach((function(e){return e()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new fe),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout((function(){return t.dispatchEvent(e)}),0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,o){var i=this;if(!this.destroyed){e instanceof HTMLElement?Qe(this.getFrameworkOverrides(),e,t,o):e.addEventListener(t,o);var n=function(){return e.removeEventListener(t,o),i.destroyFunctions=i.destroyFunctions.filter((function(e){return e!==n})),null};return this.destroyFunctions.push(n),n}},e.prototype.addManagedPropertyListener=function(e,t){var o=this;if(!this.destroyed){this.gridOptionsService.addEventListener(e,t);var i=function(){return o.gridOptionsService.removeEventListener(e,t),o.destroyFunctions=o.destroyFunctions.filter((function(e){return e!==i})),null};return this.destroyFunctions.push(i),i}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o},e.prototype.createBean=function(e,t,o){return(t||this.getContext()).createBean(e,o)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var o=this;return e&&e.forEach((function(e){return o.destroyBean(e,t)})),[]},e.EVENT_DESTROYED="destroyed",et([se("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),et([se("context")],e.prototype,"context",void 0),et([se("eventService")],e.prototype,"eventService",void 0),et([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),et([se("localeService")],e.prototype,"localeService",void 0),et([se("environment")],e.prototype,"environment",void 0),et([ne],e.prototype,"destroy",null),e}(),ot=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),it=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nt=function(e,t){return function(o,i){t(o,i,e)}},rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ot(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,o){var i=new y,n=this.extractExistingTreeData(o),r=n.existingCols,s=n.existingGroups,a=n.existingColKeys;i.addExistingKeys(a);var l=this.recursivelyCreateColumns(e,0,t,r,i,s),u=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+u);var c=this.balanceColumnTree(l,0,u,i),d=function(e,t){e instanceof Ee&&e.setupExpandable(),e.setOriginalParent(t)};return this.columnUtils.depthFirstOriginalTreeSearch(null,c,d),{columnTree:c,treeDept:u}},t.prototype.extractExistingTreeData=function(e){var t=[],o=[],i=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(e){if(e instanceof Ee){var n=e;o.push(n)}else{var r=e;i.push(r.getId()),t.push(r)}})),{existingCols:t,existingGroups:o,existingColKeys:i}},t.prototype.createForAutoGroups=function(e,t){var o=this;return e.map((function(e){return o.createAutoGroupTreeItem(t,e)}))},t.prototype.createAutoGroupTreeItem=function(e,t){for(var o=this.findDepth(e),i=t,n=o-1;n>=0;n--){var r=new Ee(null,"FAKE_PATH_"+t.getId()+"}_"+n,!0,n);this.createBean(r),r.setChildren([i]),i.setOriginalParent(r),i=r}return i},t.prototype.findDepth=function(e){var t=0,o=e;while(o&&o[0]&&o[0]instanceof Ee)t++,o=o[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,o,i){for(var n=[],r=0;r<e.length;r++){var s=e[r];if(s instanceof Ee){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,o,i);a.setChildren(l),n.push(a)}else{for(var u=void 0,c=void 0,d=o-1;d>=t;d--){var p=i.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),f=new Ee(h,p,!0,t);this.createBean(f),c&&c.setChildren([f]),c=f,u||(u=c)}if(u&&c){n.push(u);var g=e.some((function(e){return e instanceof Ee}));if(g){c.setChildren([s]);continue}c.setChildren(e);break}n.push(s)}}return n},t.prototype.findMaxDept=function(e,t){for(var o=t,i=0;i<e.length;i++){var n=e[i];if(n instanceof Ee){var r=n,s=this.findMaxDept(r.getChildren(),t+1);o<s&&(o=s)}}return o},t.prototype.recursivelyCreateColumns=function(e,t,o,i,n,r){var s=this;return(e||[]).map((function(e){return s.isColumnGroup(e)?s.createColumnGroup(o,e,t,i,n,r):s.createColumn(o,e,i,n)}))},t.prototype.createColumnGroup=function(e,t,o,i,n,r){var s,a=this.createMergedColGroupDef(t),l=n.getUniqueKey(a.groupId||null,null),u=this.findExistingGroup(t,r);u?(s=u,s.reset(a,o),Me(r,u)):(s=new Ee(a,l,!1,o),this.createBean(s));var c=this.recursivelyCreateColumns(a.children,o+1,e,i,n,r);return s.setChildren(c),s},t.prototype.createMergedColGroupDef=function(e){var t={};return Object.assign(t,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(t,e),t},t.prototype.createColumn=function(e,t,o,i){var n=this.mergeColDefs(t),r=this.findExistingColumn(t,o);if(o&&r&&Me(o,r),r)r.setColDef(n,t),this.applyColumnState(r,n);else{var s=i.getUniqueKey(n.colId,n.field);r=new be(n,t,s,e),this.context.createBean(r)}return r},t.prototype.applyColumnState=function(e,t){var o=c(t.flex);void 0!==o&&e.setFlex(o);var i=e.getFlex()<=0;if(i){var n=c(t.width);if(null!=n)e.setActualWidth(n);else{var r=e.getActualWidth();e.setActualWidth(r)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort):e.setSort(void 0));var s=c(t.sortIndex);void 0!==s&&e.setSortIndex(s);var a=d(t.hide);void 0!==a&&e.setVisible(!a),void 0!==t.pinned&&e.setPinned(t.pinned)},t.prototype.findExistingColumn=function(e,t){return(t||[]).find((function(t){var o=t.getUserProvidedColDef();if(!o)return!1;var i=null!=e.colId,n=null!=e.field;return i?t.getId()===e.colId:n?o.field===e.field:o===e}))},t.prototype.findExistingGroup=function(e,t){return t.find((function(t){var o=t.getColGroupDef();if(!o)return!1;var i=null!=e.groupId;return!!i&&t.getId()===e.groupId}))},t.prototype.mergeColDefs=function(e){var t={},o=this.gridOptionsService.get("defaultColDef");D(t,o,!1,!0);var i=e.type;i||(i=o&&o.type),i&&this.assignColumnTypes(i,t),D(t,e,!1,!0);var n=this.gridOptionsService.get("autoGroupColumnDef"),r=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&n&&r&&D(t,{sort:n.sort,initialSort:n.initialSort},!1,!0),t},t.prototype.assignColumnTypes=function(e,t){var o=[];if(e instanceof Array){var i=e.some((function(e){return"string"!==typeof e}));i?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):o=e}else{if("string"!==typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");o=e.split(",")}var n=Object.assign({},Se),r=this.gridOptionsService.get("columnTypes")||{};C(r,(function(e,t){e in n?console.warn("AG Grid: the column type '"+e+"' is a default column type and cannot be overridden."):n[e]=t})),o.forEach((function(e){var o=n[e.trim()];o?D(t,o,!1,!0):console.warn("AG Grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))},t.prototype.isColumnGroup=function(e){return void 0!==e.children},it([se("columnUtils")],t.prototype,"columnUtils",void 0),it([nt(0,ue("loggerFactory"))],t.prototype,"setBeans",null),t=it([re("columnFactory")],t),t}(tt),st=function(){function e(){}return e.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0},e.ALL_PROPERTIES=Object.keys(e.ColDefPropertyMap),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),at=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",e.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",e.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",e.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_UNDO_STARTED="undoStarted",e.EVENT_UNDO_ENDED="undoEnded",e.EVENT_REDO_STARTED="redoStarted",e.EVENT_REDO_ENDED="redoEnded",e.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",e.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_CELL_EDIT_REQUEST="cellEditRequest",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",e.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_BODY_SCROLL_END="bodyScrollEnd",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",e.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",e.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",e.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",e.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",e.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",e.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e.EVENT_STORE_UPDATED="storeUpdated",e}(),lt=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},ut=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lt(arguments[t]));return e},ct=function(){function e(){}return e.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],e.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],e.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter"],e.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],e.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],e.FUNCTION_PROPERTIES=ut(e.FUNCTIONAL_PROPERTIES,e.CALLBACK_PROPERTIES),e.ALL_PROPERTIES=ut(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),dt=function(){return dt=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},dt.apply(this,arguments)},pt=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},ht=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pt(arguments[t]));return e},ft=function(){function e(){}return e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.getCoercionLookup=function(){var t={};return ht(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.FUNCTION_PROPERTIES,e.EVENT_CALLBACKS).forEach((function(e){return t[e]="none"})),e.BOOLEAN_PROPERTIES.forEach((function(e){return t[e]="boolean"})),e.NUMBER_PROPERTIES.forEach((function(e){return t[e]="number"})),t},e.getValue=function(t,o){var i=e.coercionLookup[t];if(i){var n=o;switch(i){case"number":n=e.toNumber(o);break;case"boolean":n=e.toBoolean(o);break;case"none":"groupAggFiltering"===t&&"function"!==typeof o&&(n=e.toBoolean(o));break}return n}},e.getGridOptionKeys=function(t,o){return o?Object.keys(e.coercionLookup):Object.keys(t)},e.copyAttributesToGridOptions=function(t,o,i){void 0===i&&(i=!1),"object"!==typeof t&&(t={});var n=t,r=e.getGridOptionKeys(o,i);return r.forEach((function(t){var i=o[t];if("undefined"!==typeof i){var r=e.getValue(t,i);void 0!==r&&(n[t]=r)}})),t},e.processOnChange=function(t,o){if(t&&0!==Object.keys(t).length){var i=dt({},t);i.columnTypes&&(o.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(o.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(o.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(o.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach((function(t){var n=t,r=e.getValue(n,i[n].currentValue);o.__setProperty(n,r)}));var n={type:at.EVENT_COMPONENT_STATE_CHANGED};C(t,(function(e,t){n[e]=t})),o.dispatchEvent(n)}},e.toBoolean=function(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"===typeof e?e:"string"===typeof e?Number(e):void 0},e.EVENTS=m(at),e.EXCLUDED_INTERNAL_EVENTS=[at.EVENT_SCROLLBAR_WIDTH_CHANGED,at.EVENT_CHECKBOX_CHANGED,at.EVENT_HEIGHT_SCALE_CHANGED,at.EVENT_BODY_HEIGHT_CHANGED,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,at.EVENT_SCROLL_VISIBILITY_CHANGED,at.EVENT_COLUMN_HOVER_CHANGED,at.EVENT_FLASH_CELLS,at.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,at.EVENT_DISPLAYED_ROWS_CHANGED,at.EVENT_LEFT_PINNED_WIDTH_CHANGED,at.EVENT_RIGHT_PINNED_WIDTH_CHANGED,at.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,at.EVENT_POPUP_TO_FRONT,at.EVENT_KEYBOARD_FOCUS,at.EVENT_MOUSE_FOCUS,at.EVENT_STORE_UPDATED,at.EVENT_COLUMN_PANEL_ITEM_DRAG_START,at.EVENT_COLUMN_PANEL_ITEM_DRAG_END,at.EVENT_FILL_START,at.EVENT_FILL_END,at.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,at.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,at.EVENT_FULL_WIDTH_ROW_FOCUSED,at.EVENT_HEADER_HEIGHT_CHANGED,at.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,at.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,at.EVENT_CELL_FOCUS_CLEARED,at.EVENT_GRID_STYLES_CHANGED],e.PUBLIC_EVENTS=e.EVENTS.filter((function(t){return!Ie(e.EXCLUDED_INTERNAL_EVENTS,t)})),e.EVENT_CALLBACKS=e.EVENTS.map((function(t){return e.getCallbackForEvent(t)})),e.STRING_PROPERTIES=ct.STRING_PROPERTIES,e.OBJECT_PROPERTIES=ct.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=ct.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=ct.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=ct.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=ct.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=ct.ALL_PROPERTIES,e.ALL_PROPERTIES_SET=new Set(ct.ALL_PROPERTIES),e.coercionLookup=e.getCoercionLookup(),e}();
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
function gt(e,t,o){var i={},n=e.filter((function(e){return!t.some((function(t){return t===e}))}));return n.length>0&&n.forEach((function(e){return i[e]=mt(e,o)})),i}function mt(e,t,o){var i=t.map((function(t){return{value:t,relevance:vt(e.toLowerCase(),t.toLocaleLowerCase())}}));return i.sort((function(e,t){return t.relevance-e.relevance})),o&&(i=i.filter((function(e){return 0!==e.relevance}))),i.map((function(e){return e.value}))}function vt(e,t){for(var o=e.replace(/\s/g,""),i=t.replace(/\s/g,""),n=0,r=-1,s=0;s<o.length;s++){var a=i.indexOf(o[s],r+1);-1!==a&&(r=a,n+=100-100*r/1e4*100)}return n}var yt=Object.freeze({__proto__:null,fuzzyCheckStrings:gt,fuzzySuggestions:mt}),Ct=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},bt=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},wt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bt(arguments[t]));return e};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Et(e,t,o,i){var n=o?"Please use '"+o+"' instead. ":"";G((function(){return console.warn("AG Grid: since v"+e+", '"+t+"' is deprecated. "+n+(null!==i&&void 0!==i?i:""))}),"Deprecated_"+t)}var St=function(){function e(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."}}}return e.prototype.pickOneWarning=function(e,t){console.warn("AG Grid: "+e+" and "+t+" do not work with each other, you need to pick one.")},e.prototype.init=function(){var e=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&("multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.isRowModelType("serverSide")&&console.warn("AG Grid: group selects children is NOT supported for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var t=function(e,t){return"AG Grid: '"+e+"' is not supported on the Server-Side Row Model."+(t?" Please use "+t+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(t("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(t("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(t("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?me.assertRegistered(de.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var o=function(t,o){return e.gridOptionsService.exists(t)&&me.assertRegistered(o,t)};o("sideBar",de.SideBarModule),o("statusBar",de.StatusBarModule),o("enableCharts",de.GridChartsModule),o("getMainMenuItems",de.MenuModule),o("getContextMenuItems",de.MenuModule),o("allowContextMenuWithControlKey",de.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){var o=Object.getOwnPropertyNames(t),i=wt(st.ALL_PROPERTIES,st.FRAMEWORK_PROPERTIES);e.checkProperties(o,i,i,"colDef","https://www.ag-grid.com/javascript-data-grid/column-properties/")}))},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=wt(ct.ALL_PROPERTIES,ct.FRAMEWORK_PROPERTIES,ft.EVENT_CALLBACKS),o=wt(t,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(e,o,t,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},e.prototype.checkProperties=function(e,t,o,i,n){var r=gt(e,t,o);C(r,(function(e,t){console.warn("AG Grid: invalid "+i+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))})),Object.keys(r).length>0&&console.warn("AG Grid: to see all the valid "+i+" properties please check: "+n)},e.prototype.checkForDeprecated=function(){var e=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach((function(t){var o,i=bt(t,2),n=i[0],r=i[1],s=e[n];s&&(Et(r.version,n,r.newProp,r.message),r.copyToNewProp&&r.newProp&&null==e[r.newProp]&&(e[r.newProp]=null!==(o=r.newPropValue)&&void 0!==o?o:s))})),e.groupSuppressAutoColumn){var t=e.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+t+" = 'custom'`"),e[t]="custom"}e.immutableData&&(e.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),e.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),e.suppressServerSideInfiniteScroll="partial"!==e.serverSideStoreType)},e.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},Ct([se("gridOptions")],e.prototype,"gridOptions",void 0),Ct([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Ct([ie],e.prototype,"init",null),e=Ct([re("gridOptionsValidator")],e),e}();function Rt(e,t){var o=["groupRows","multipleColumns","custom","singleColumn"];return o.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+o.join("', '")+"'"),!1):t===e}function Ot(e,t){var o=["auto","custom"];return o.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+o.join("', '")+"'"),!1):t===e}
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var Tt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_t=function(){function e(e,t,o,i){this.displayedChildren=[],this.localEventService=new fe,this.groupId=t,this.partId=o,this.providedColumnGroup=e,this.pinned=i}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.partId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((function(e){return e.isMoving()}))},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(t){t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var t=Te(this.displayedChildren),o=t.getLeft();this.setLeft(o)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getPartId=function(){return this.partId},e.prototype.isChildInThisGroupDeepSearch=function(t){var o=!1;return this.children.forEach((function(i){t===i&&(o=!0),i instanceof e&&i.isChildInThisGroupDeepSearch(t)&&(o=!0)})),o},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()||0})),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.providedColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach((function(o){o instanceof be?t.push(o):o instanceof e&&o.addDisplayedLeafColumns(t)}))},e.prototype.addLeafColumns=function(t){this.children.forEach((function(o){o instanceof be?t.push(o):o instanceof e&&o.addLeafColumns(t)}))},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},e.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},e.prototype.getOriginalColumnGroup=function(){return Et("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var o=this;while(null!=o&&o.isPadding())o=o.getParent();var i=!!o&&o.providedColumnGroup.isExpandable();if(!i)return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(i){var n=i instanceof e&&(!i.displayedChildren||!i.displayedChildren.length);if(!n){var r=i.getColumnGroupShow();switch(r){case"open":o.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":o.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i);break}}})),this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",Tt([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),e}(),Pt=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,o=this.existingIds[e];return t="number"!==typeof o?0:o+1,this.existingIds[e]=t,t},e}(),Dt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),At=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mt="ag-Grid-AutoColumn",Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dt(t,e),t.prototype.createAutoGroupColumns=function(e,t){var o=this,i=[],n=this.gridOptionsService.isTreeData(),r=this.gridOptionsService.isGroupMultiAutoColumn();return n&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?t.forEach((function(t,n){i.push(o.createOneAutoGroupColumn(e,t,n))})):i.push(this.createOneAutoGroupColumn(e)),i},t.prototype.createOneAutoGroupColumn=function(e,t,o){var i,n=this.generateDefaultColDef(t);i=t?Mt+"-"+t.getId():Mt;var r=this.gridOptionsService.get("autoGroupColumnDef");if(D(n,r),n=this.columnFactory.mergeColDefs(n),n.colId=i,!this.gridOptionsService.isTreeData()){var s=a(n.field)&&a(n.valueGetter)&&a(n.filterValueGetter)&&"agGroupColumnFilter"!==n.filter;s&&(n.filter=!1)}o&&o>0&&(n.headerCheckboxSelection=!1);var l=e.find((function(e){return e.getId()==i}));if(l)return l.setColDef(n,null),this.columnFactory.applyColumnState(l,n),l;var u=this.gridOptionsService.isColumnsSortingCoupledToGroup();u&&(n.sort||n.initialSort)&&!n.field&&D(n,{sort:null,initialSort:null},!0,!0);var c=new be(n,null,i,!0);return this.context.createBean(c),c},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsService.get("autoGroupColumnDef"),o=this.localeService.getLocaleTextFunc(),i={headerName:o("group","Group")},n=t&&(t.cellRenderer||t.cellRendererFramework||t.cellRendererSelector);if(n||(i.cellRenderer="agGroupCellRenderer"),e){var r=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:r.headerValueGetter}),(r.cellRenderer||r.cellRendererFramework)&&Object.assign(i,{cellRendererParams:{innerRenderer:r.cellRenderer,innerRendererFramework:r.cellRendererFramework,innerRendererParams:r.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i},At([se("columnModel")],t.prototype,"columnModel",void 0),At([se("columnFactory")],t.prototype,"columnFactory",void 0),t=At([re("autoGroupColService")],t),t}(tt),xt=/[&<>"']/g,Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nt(e){var t=String.fromCharCode;function o(e){var t=[];if(!e)return[];var o,i,n=e.length,r=0;while(r<n)o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<n?(i=e.charCodeAt(r++),56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)):t.push(o);return t}function i(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function n(e,o){return t(e>>o&63|128)}function r(e){if(e>=0&&e<=31&&10!==e){var o=e.toString(16).toUpperCase(),r=o.padStart(4,"0");return"_x"+r+"_"}if(0==(4294967168&e))return t(e);var s="";return 0==(4294965248&e)?s=t(e>>6&31|192):0==(4294901760&e)?(i(e),s=t(e>>12&15|224),s+=n(e,6)):0==(4292870144&e)&&(s=t(e>>18&7|240),s+=n(e,12),s+=n(e,6)),s+=t(63&e|128),s}var s,a=o(e),l=a.length,u=-1,c="";while(++u<l)s=a[u],c+=r(s);return c}function It(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}function kt(e,t){if(null==e)return null;var o=e.toString().toString();return t?o:o.replace(xt,(function(e){return Ft[e]}))}function Gt(e){if(!e||null==e)return null;var t=/([a-z])([A-Z])/g,o=/([A-Z]+)([A-Z])([a-z])/g,i=e.replace(t,"$1 $2").replace(o,"$1 $2$3").replace(/\./g," ").split(" ");return i.map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" ")}var Ht=Object.freeze({__proto__:null,utf8_encode:Nt,capitalise:It,escapeString:kt,camelCaseToHumanText:Gt});
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Vt(e){var t=new Map;return e.forEach((function(e){return t.set(e[0],e[1])})),t}function Bt(e,t){var o=new Map;return e.forEach((function(e){return o.set(t(e),e)})),o}function jt(e){var t=[];return e.forEach((function(e,o){return t.push(o)})),t}var Wt=Object.freeze({__proto__:null,convertToMap:Vt,mapById:Bt,keys:jt}),zt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ut=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kt=function(e,t){return function(o,i){t(o,i,e)}},Yt=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]])}return o},qt=function(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jt=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Xt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jt(arguments[t]));return e},$t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.gridHeaderRowCount=0,t.displayedColumnsLeft=[],t.displayedColumnsRight=[],t.displayedColumnsCenter=[],t.displayedColumns=[],t.displayedColumnsAndGroupsMap={},t.viewportColumns=[],t.viewportColumnsHash="",t.headerViewportColumns=[],t.viewportColumnsCenter=[],t.headerViewportColumnsCenter=[],t.autoHeightActiveAtLeastOnce=!1,t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.flexColsCalculatedAtLestOnce=!1,t}return zt(t,e),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var t=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",(function(){return e.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return e.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("defaultColDef",(function(t){return e.onSharedColDefChanged(t.source)})),this.addManagedPropertyListener("columnTypes",(function(t){return e.onSharedColDefChanged(t.source)}))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onSharedColDefChanged=function(e){void 0===e&&(e="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,e)},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var o=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(o,t)},t.prototype.destroyOldColumns=function(e,t){var o={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(e){o[e.getInstanceId()]=e})),t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(e){o[e.getInstanceId()]=null}));var i=Object.values(o).filter((function(e){return null!=e}));this.destroyBeans(i)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,t){var o=this;void 0===t&&(t="api");var i=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var n=this.primaryColumns,r=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,r);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(e){return o.primaryColumnsMap[e.getId()]=e})),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.extractValueColumns(t,n),this.ready=!0;var a=void 0===this.gridColsArePrimary,l=this.gridColsArePrimary||a;l&&(this.updateGridColumns(),e&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),i&&i(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){var e={type:at.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(e)},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api");var t={type:at.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,t=this.primaryColumns;t&&(this.gridColumns.sort((function(o,i){var n=t.indexOf(o),r=t.indexOf(i),s=n>=0,a=r>=0;if(s&&a)return n-r;if(s)return 1;if(a)return-1;var l=e.gridColumns.indexOf(o),u=e.gridColumns.indexOf(i);return l-u})),this.gridColumns=this.placeLockedColumns(this.gridColumns))},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){var t=e,o=[];while(null!=t)o.push(t),t=this.getDisplayedColAfter(t);return o},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.extractViewport();if(e){var t={type:at.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}}},t.prototype.setViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){if(void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);var o={type:at.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(o)}},t.prototype.getSecondaryPivotColumn=function(e,t){if(a(this.secondaryColumns))return null;var o=this.getPrimaryColumn(t),i=null;return this.secondaryColumns.forEach((function(t){var n=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn,s=_e(n,e),a=r===o;s&&a&&(i=t)})),i},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,o;this.gridOptionsService.is("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,o=this.displayedColumnsRight?Te(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Te(this.displayedColumnsLeft):null,o=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(i){i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===o,e)}))},t.prototype.autoSizeColumns=function(e){var t=this,o=e.columns,i=e.skipHeader,n=e.skipHeaderGroups,r=e.stopAtGroup,s=e.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();var l=[],u=-1,c=null!=i?i:this.gridOptionsService.is("skipHeaderOnAutoSize"),d=null!=n?n:c;while(0!==u)u=0,this.actionOnGridColumns(o,(function(e){if(l.indexOf(e)>=0)return!1;var o=t.autoWidthCalculator.getPreferredWidthForColumn(e,c);if(o>0){var i=t.normaliseColumnWidth(e,o);e.setActualWidth(i,a),l.push(e),u++}return!0}),a);d||this.autoSizeColumnGroupsByColumns(o,r),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,t,o,i){if(void 0===i&&(i=null),e&&e.length){var n={type:at.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:i,finished:t,source:o};this.eventService.dispatchEvent(n)}},t.prototype.dispatchColumnChangedEvent=function(e,t,o){var i={type:e,columns:t,column:t&&1==t.length?t[0]:null,source:o};this.eventService.dispatchEvent(i)},t.prototype.dispatchColumnMovedEvent=function(e){var t=e.movedColumns,o=e.source,i=e.toIndex,n=e.finished,r={type:at.EVENT_COLUMN_MOVED,columns:t,column:t&&1===t.length?t[0]:null,toIndex:i,finished:n,source:o};this.eventService.dispatchEvent(r)},t.prototype.dispatchColumnPinnedEvent=function(e,t){if(e.length){var o=1===e.length?e[0]:null,i=this.getCommonValue(e,(function(e){return e.getPinned()})),n={type:at.EVENT_COLUMN_PINNED,pinned:null!=i?i:null,columns:e,column:o,source:t};this.eventService.dispatchEvent(n)}},t.prototype.dispatchColumnVisibleEvent=function(e,t){if(e.length){var o=1===e.length?e[0]:null,i=this.getCommonValue(e,(function(e){return e.isVisible()})),n={type:at.EVENT_COLUMN_VISIBLE,visible:i,columns:e,column:o,source:t};this.eventService.dispatchEvent(n)}},t.prototype.autoSizeColumn=function(e,t,o){void 0===o&&(o="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:t,skipHeaderGroups:!0,source:o})},t.prototype.autoSizeColumnGroupsByColumns=function(e,t){var o,i,n,r,s,a=new Set,l=this.getGridColumns(e);l.forEach((function(e){var o=e.getParent();while(o&&o!=t)o.isPadding()||a.add(o),o=o.getParent()}));var u=[];try{for(var c=qt(a),d=c.next();!d.done;d=c.next()){var p=d.value;try{for(var h=(n=void 0,qt(this.ctrlsService.getHeaderRowContainerCtrls())),f=h.next();!f.done;f=h.next()){var g=f.value;if(s=g.getHeaderCtrlForColumn(p),s)break}}catch(m){n={error:m}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}s&&s.resizeLeafColumnsToFit()}}catch(v){o={error:v}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return u},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:t})},t.prototype.getColumnsFromTree=function(e){var t=[],o=function(e){for(var i=0;i<e.length;i++){var n=e[i];n instanceof be?t.push(n):n instanceof Ee&&o(n.getChildren())}};return o(e),t},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,t,o,i){for(var n,r=[],s=null,a=function(a){var l,u=t[a],c=t.length-a,d=Math.min(u.getColSpan(e),c),p=[u];if(d>1){for(var h=d-1,f=1;f<=h;f++)p.push(t[a+f]);a+=h}if(o?(l=!1,p.forEach((function(e){o(e)&&(l=!0)}))):l=!0,l){if(0===r.length&&s){var g=!!i&&i(u);g&&r.push(s)}r.push(u)}s=u,n=a},l=0;l<t.length;l++)a(l),l=n;return r},t.prototype.getViewportCenterColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=function(e){var o=e.getLeft();return s(o)&&o>t.viewportLeft},i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,o)},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var t=e.getLeft()||0,o=t+e.getActualWidth(),i=this.viewportLeft-200,n=this.viewportRight+200,r=t<i&&o<i,s=t>n&&o>n;return!r&&!s},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,t,o,i,n,r){var s=this;if(void 0===r&&(r="api"),e&&!l(e)){var a=!1;if(e.forEach((function(e){var n=s.getPrimaryColumn(e);if(n){if(o){if(t.indexOf(n)>=0)return;t.push(n)}else{if(t.indexOf(n)<0)return;Me(t,n)}i(n),a=!0}})),a){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);var u={type:n,columns:t,column:1===t.length?t[0]:null,source:r};this.eventService.dispatchEvent(u)}}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,at.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,o){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,o),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(t,!1,o),e||this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(t,!0,o))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),at.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),at.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,(function(e){return e.setPivotActive(!0,t)}),at.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,at.EVENT_COLUMN_PIVOT_CHANGED,(function(e,o){o.setPivotActive(e,t)}),t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,(function(e){return e.setPivotActive(!1,t)}),at.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,o,i,n){var r=this;t.length=0,s(e)&&e.forEach((function(e){var o=r.getPrimaryColumn(e);o&&t.push(o)})),(this.primaryColumns||[]).forEach((function(e){var o=t.indexOf(e)>=0;i(o,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n),this.dispatchColumnChangedEvent(o,t,n)},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,at.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,o){if(e!==t.isValueActive()&&(t.setValueActive(e,o),e&&!t.getAggFunc())){var i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),at.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),at.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){var o=e.getMinWidth();s(o)&&t<o&&(t=o);var i=e.getMaxWidth();return s(i)&&e.isGreaterThanMax(t)&&(t=i),t},t.prototype.getPrimaryOrGridColumn=function(e){var t=this.getPrimaryColumn(e);return t||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,o,i){var n=this;void 0===i&&(i="api");var r=[];e.forEach((function(e){var o=n.getPrimaryOrGridColumn(e.key);if(o){r.push({width:e.newWidth,ratios:[1],columns:[o]});var i="shift"===n.gridOptionsService.get("colResizeDefault");if(i&&(t=!t),t){var s=n.getDisplayedColAfter(o);if(!s)return;var a=o.getActualWidth()-e.newWidth,l=s.getActualWidth()+a;r.push({width:l,ratios:[1],columns:[s]})}}})),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:o,source:i})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.columns,o=e.width,i=0,n=0,r=!0;t.forEach((function(e){var t=e.getMinWidth();i+=t||0;var o=e.getMaxWidth();s(o)&&o>0?n+=o:r=!1}));var a=o>=i,l=!r||o<=n;return a&&l},t.prototype.resizeColumnSets=function(e){var t=this,o=e.resizeSets,i=e.finished,n=e.source,r=!o||o.every((function(e){return t.checkMinAndMaxWidthsForSet(e)}));if(r){var a=[],l=[];o.forEach((function(e){var t=e.width,o=e.columns,i=e.ratios,r={},u={};o.forEach((function(e){return l.push(e)}));var c=!0,d=0,p=function(){if(d++,d>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";c=!1;var e=[],n=0,a=t;o.forEach((function(t,o){var s=u[t.getId()];if(s)a-=r[t.getId()];else{e.push(t);var l=i[o];n+=l}}));var l=1/n;e.forEach((function(o,n){var d,p=n===e.length-1;p?d=a:(d=Math.round(i[n]*t*l),a-=d);var h=o.getMinWidth(),f=o.getMaxWidth();s(h)&&d<h?(d=h,u[o.getId()]=!0,c=!0):s(f)&&f>0&&d>f&&(d=f,u[o.getId()]=!0,c=!0),r[o.getId()]=d}))};while(c){var h=p();if("break"===h)break}o.forEach((function(e){var t=r[e.getId()],o=e.getActualWidth();o!==t&&(e.setActualWidth(t,n),a.push(e))}))}));var u=a.length>0,c=[];u&&(c=this.refreshFlexedColumns({resizingCols:l,skipSetLeft:!0}),this.setLeftValues(n),this.updateBodyWidths(),this.checkViewportColumns());var d=l.concat(c);(u||i)&&this.dispatchColumnResizedEvent(d,i,n,c)}else if(i){var p=o&&o.length>0?o[0].columns:null;this.dispatchColumnResizedEvent(p,i,n)}},t.prototype.setColumnAggFunc=function(e,t,o){if(void 0===o&&(o="api"),e){var i=this.getPrimaryColumn(e);i&&(i.setAggFunc(t),this.dispatchColumnChangedEvent(at.EVENT_COLUMN_VALUE_CHANGED,[i],o))}},t.prototype.moveRowGroupColumn=function(e,t,o){void 0===o&&(o="api");var i=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i);var n={type:at.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:o};this.eventService.dispatchEvent(n)},t.prototype.moveColumns=function(e,t,o,i){if(void 0===o&&(o="api"),void 0===i&&(i=!0),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(e),r=!this.doesMovePassRules(n,t);r||(Ne(this.gridColumns,n,t),this.updateDisplayedColumns(o),this.dispatchColumnMovedEvent({movedColumns:n,source:o,toIndex:t,finished:i}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,t){var o=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(o)},t.prototype.doesOrderPassRules=function(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)},t.prototype.getProposedColumnOrder=function(e,t){var o=this.gridColumns.slice();return Ne(o,e,t),o},t.prototype.sortColumnsLikeGridColumns=function(e){var t=this;if(e&&!(e.length<=1)){var o=e.filter((function(e){return t.gridColumns.indexOf(e)<0})).length>0;o||e.sort((function(e,o){var i=t.gridColumns.indexOf(e),n=t.gridColumns.indexOf(o);return i-n}))}},t.prototype.doesMovePassLockedPositions=function(e){var t=0,o=!0,i=function(e){return e?!0===e||"left"===e?0:2:1};return e.forEach((function(e){var n=i(e.getColDef().lockPosition);n<t&&(o=!1),t=n})),o},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(o){if(o instanceof Ee){var i=o,n=i.getColGroupDef(),r=n&&n.marryChildren;if(r){var s=[];i.getLeafColumns().forEach((function(t){var o=e.indexOf(t);s.push(o)}));var a=Math.max.apply(Math,s),l=Math.min.apply(Math,s),u=a-l,c=i.getLeafColumns().length-1;u>c&&(t=!1)}}})),t},t.prototype.moveColumn=function(e,t,o){void 0===o&&(o="api"),this.moveColumns([e],t,o)},t.prototype.moveColumnByIndex=function(e,t,o){void 0===o&&(o="api");var i=this.gridColumns[e];this.moveColumn(i,t,o)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var t=this.primaryColumns.slice();return this.gridColsArePrimary?t.sort((function(t,o){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(o)})):this.lastPrimaryOrder&&t.sort((function(t,o){return e.lastPrimaryOrder.indexOf(t)-e.lastPrimaryOrder.indexOf(o)})),this.columnDefFactory.buildColumnDefs(t,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),o=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var i=this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o;if(i){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o;var n={type:at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(n)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return l(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return l(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,o){void 0===o&&(o="api"),this.setColumnsVisible([e],t,o)},t.prototype.setColumnsVisible=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o="api"),this.applyColumnState({state:e.map((function(e){return{colId:"string"===typeof e?e:e.getColId(),hide:!t}}))},o)},t.prototype.setColumnPinned=function(e,t,o){void 0===o&&(o="api"),e&&this.setColumnsPinned([e],t,o)},t.prototype.setColumnsPinned=function(e,t,o){var i;(void 0===o&&(o="api"),this.gridOptionsService.isDomLayout("print"))?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),i=!0===t||"left"===t?"left":"right"===t?"right":null,this.actionOnGridColumns(e,(function(e){return e.getPinned()!==i&&(e.setPinned(i),!0)}),o,(function(){var e={type:at.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:o};return e})),this.columnAnimationService.finish())},t.prototype.actionOnGridColumns=function(e,t,o,i){var n=this;if(!l(e)){var r=[];if(e.forEach((function(e){var o=n.getGridColumn(e);if(o){var i=t(o);!1!==i&&r.push(o)}})),r.length&&(this.updateDisplayedColumns(o),s(i)&&i)){var a=i();a.columns=r,a.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(a)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o>0?t[o-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o<t.length-1?t[o+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){var o=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),n="After"===t?Te(i):i[0],r="getDisplayedCol"+t;while(1){var s=this[r](n);if(!s)return null;var a=this.getColumnGroupAtLevel(s,o);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){var o,i,n=e.getParent();while(1){var r=n.getProvidedColumnGroup();if(o=r.getLevel(),i=n.getPaddingLevel(),o+i<=t)break;n=n.getParent()}return n},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,Xt([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,o=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,n=null!=e.getSort()?e.getSort():null,r=null!=e.getSortIndex()?e.getSortIndex():null,s=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null,a={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:n,sortIndex:r,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:o,flex:s};return a},t.prototype.getColumnState=function(){if(a(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),t=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=Vt(this.gridColumns.map((function(e,t){return[e.getColId(),t]})));e.sort((function(e,o){var i=t.has(e.colId)?t.get(e.colId):-1,n=t.has(o.colId)?t.get(o.colId):-1;return i-n}))},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var t=this.getColumnsFromTree(this.primaryColumnTree),o=[],i=1e3,n=1e3,r=[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),t&&(r=r.concat(t)),r.forEach((function(e){var t=function(e,t){return null!=e?e:null!=t?t:null},r=e.getColDef(),s=t(r.sort,r.initialSort),l=t(r.sortIndex,r.initialSortIndex),u=t(r.hide,r.initialHide),c=t(r.pinned,r.initialPinned),d=t(r.width,r.initialWidth),p=t(r.flex,r.initialFlex),h=t(r.rowGroupIndex,r.initialRowGroupIndex),f=t(r.rowGroup,r.initialRowGroup);null!=h||null!=f&&0!=f||(h=null,f=null);var g=t(r.pivotIndex,r.initialPivotIndex),m=t(r.pivot,r.initialPivot);null!=g||null!=m&&0!=m||(g=null,m=null);var v=t(r.aggFunc,r.initialAggFunc),y={colId:e.getColId(),sort:s,sortIndex:l,hide:u,pinned:c,width:d,flex:p,rowGroup:f,rowGroupIndex:h,pivot:m,pivotIndex:g,aggFunc:v};a(h)&&f&&(y.rowGroupIndex=i++),a(g)&&m&&(y.pivotIndex=n++),o.push(y)})),this.applyColumnState({state:o,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,t){var o=this;if(l(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var i=function(i,n,r){var s=o.compareColumnStatesAndDispatchEvents(t);o.autoGroupsNeedBuilding=!0;var a=n.slice(),l={},u={},c=[],d=[],p=0,h=o.rowGroupColumns.slice(),f=o.pivotColumns.slice();i.forEach((function(i){var n=i.colId||"",s=n.startsWith(Mt);if(s)return c.push(i),void d.push(i);var h=r(n);h?(o.syncColumnWithStateItem(h,i,e.defaultState,l,u,!1,t),Me(a,h)):(d.push(i),p+=1)}));var g=function(i){return o.syncColumnWithStateItem(i,null,e.defaultState,l,u,!1,t)};a.forEach(g);var m=function(e,t,o,i){var n=e[o.getId()],r=e[i.getId()],s=null!=n,a=null!=r;if(s&&a)return n-r;if(s)return-1;if(a)return 1;var l=t.indexOf(o),u=t.indexOf(i),c=l>=0,d=u>=0;return c&&d?l-u:c?-1:1};o.rowGroupColumns.sort(m.bind(o,l,h)),o.pivotColumns.sort(m.bind(o,u,f)),o.updateGridColumns();var v=o.groupAutoColumns?o.groupAutoColumns.slice():[];return c.forEach((function(i){var n=o.getAutoColumn(i.colId);Me(v,n),o.syncColumnWithStateItem(n,i,e.defaultState,null,null,!0,t)})),v.forEach(g),o.applyOrderAfterApplyState(e),o.updateDisplayedColumns(t),o.dispatchEverythingChanged(t),s(),{unmatchedAndAutoStates:d,unmatchedCount:p}};this.columnAnimationService.start();var n=i(e.state||[],this.primaryColumns||[],(function(e){return o.getPrimaryColumn(e)})),r=n.unmatchedAndAutoStates,a=n.unmatchedCount;return(r.length>0||s(e.defaultState))&&(a=i(r,this.secondaryColumns||[],(function(e){return o.getSecondaryColumn(e)})).unmatchedCount),this.columnAnimationService.finish(),0===a},t.prototype.applyOrderAfterApplyState=function(e){var t=this;if(e.applyOrder&&e.state){var o=[],i={};e.state.forEach((function(e){if(e.colId&&!i[e.colId]){var n=t.gridColumnsMap[e.colId];n&&(o.push(n),i[e.colId]=!0)}}));var n=0;this.gridColumns.forEach((function(e){var t=e.getColId(),r=null!=i[t];if(!r){var s=t.startsWith(Mt);s?xe(o,e,n++):o.push(e)}})),o=this.placeLockedColumns(o),this.doesMovePassMarryChildren(o)?this.gridColumns=o:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var t=this,o={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),n={};return i.forEach((function(e){n[e.colId]=e})),function(){var r=t.getPrimaryAndSecondaryAndAutoColumns(),s=function(o,i,n,r){var s=i.map(r),a=n.map(r),l=_e(s,a);if(!l){var u={type:o,columns:n,column:1===n.length?n[0]:null,source:e};t.eventService.dispatchEvent(u)}},a=function(e){var t=[];return r.forEach((function(o){var i=n[o.getColId()];i&&e(i,o)&&t.push(o)})),t},l=function(e){return e.getColId()};s(at.EVENT_COLUMN_ROW_GROUP_CHANGED,o.rowGroupColumns,t.rowGroupColumns,l),s(at.EVENT_COLUMN_PIVOT_CHANGED,o.pivotColumns,t.pivotColumns,l);var u=function(e,t){var o=null!=e.aggFunc,i=o!=t.isValueActive(),n=o&&e.aggFunc!=t.getAggFunc();return i||n},c=a(u);c.length>0&&t.dispatchColumnChangedEvent(at.EVENT_COLUMN_VALUE_CHANGED,t.valueColumns,e);var d=function(e,t){return e.width!=t.getActualWidth()};t.dispatchColumnResizedEvent(a(d),!0,e);var p=function(e,t){return e.pinned!=t.getPinned()};t.dispatchColumnPinnedEvent(a(p),e);var h=function(e,t){return e.hide==t.isVisible()};t.dispatchColumnVisibleEvent(a(h),e);var f=function(e,t){return e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()};a(f).length>0&&t.sortController.dispatchSortChangedEvents(e),t.normaliseColumnMovedEventForColumnState(i,e)}},t.prototype.getCommonValue=function(e,t){if(e&&0!=e.length){for(var o=t(e[0]),i=1;i<e.length;i++)if(o!==t(e[i]))return;return o}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,t){var o=this,i=this.getColumnState(),n={};i.forEach((function(e){return n[e.colId]=e}));var r={};e.forEach((function(e){n[e.colId]&&(r[e.colId]=!0)}));var s=e.filter((function(e){return r[e.colId]})),a=i.filter((function(e){return r[e.colId]})),l=[];a.forEach((function(e,t){var i=s&&s[t];if(i&&i.colId!==e.colId){var n=o.getGridColumn(i.colId);n&&l.push(n)}})),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:t,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,t,o,i,n,r,a){if(e){var l=function(e,i){var n={value1:void 0,value2:void 0},r=!1;return t&&(void 0!==t[e]&&(n.value1=t[e],r=!0),s(i)&&void 0!==t[i]&&(n.value2=t[i],r=!0)),!r&&o&&(void 0!==o[e]&&(n.value1=o[e]),s(i)&&void 0!==o[i]&&(n.value2=o[i])),n},u=l("hide").value1;void 0!==u&&e.setVisible(!u,a);var c=l("pinned").value1;void 0!==c&&e.setPinned(c);var d=this.columnUtils.calculateColMinWidth(e.getColDef()),p=l("flex").value1;void 0!==p&&e.setFlex(p);var h=e.getFlex()<=0;if(h){var f=l("width").value1;null!=f&&null!=d&&f>=d&&e.setActualWidth(f,a)}var g=l("sort").value1;void 0!==g&&("desc"===g||"asc"===g?e.setSort(g,a):e.setSort(void 0,a));var m=l("sortIndex").value1;if(void 0!==m&&e.setSortIndex(m),!r&&e.isPrimary()){var v=l("aggFunc").value1;void 0!==v&&("string"===typeof v?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,a),this.valueColumns.push(e))):(s(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),Me(this.valueColumns,e))));var y=l("rowGroup","rowGroupIndex"),C=y.value1,b=y.value2;void 0===C&&void 0===b||("number"===typeof b||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),this.rowGroupColumns.push(e)),i&&"number"===typeof b&&(i[e.getId()]=b)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),Me(this.rowGroupColumns,e)));var w=l("pivot","pivotIndex"),E=w.value1,S=w.value2;void 0===E&&void 0===S||("number"===typeof S||E?(e.isPivotActive()||(e.setPivotActive(!0,a),this.pivotColumns.push(e)),n&&"number"===typeof S&&(n[e.getId()]=S)):e.isPivotActive()&&(e.setPivotActive(!1,a),Me(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var o=[];return e&&e.forEach((function(e){var i=t(e);i&&o.push(i)})),o},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,t,o){if(!e)return null;if("string"==typeof e&&o[e])return o[e];for(var i=0;i<t.length;i++)if(this.columnsMatch(t[i],e))return t[i];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupColumns.slice(0);var o=this.getPrimaryColumn(t);return o?[o]:null},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&s(this.groupAutoColumns)&&!a(this.groupAutoColumns)&&this.groupAutoColumns.find((function(o){return t.columnsMatch(o,e)}))||null},t.prototype.columnsMatch=function(e,t){var o=e===t,i=e.getColDef()===t,n=e.getColId()==t;return o||i||n},t.prototype.getDisplayNameForColumn=function(e,t,o){if(void 0===o&&(o=!1),!e)return null;var i=this.getHeaderName(e.getColDef(),e,null,null,t);return o?this.wrapHeaderNameWithAggFunc(e,i):i},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,t,o){var i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,o):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,o,i,n){var r=e.headerValueGetter;if(r){var s={colDef:e,column:t,columnGroup:o,providedColumnGroup:i,location:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"===typeof r?r(s):"string"===typeof r?this.expressionService.evaluate(r,s):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?Gt(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return t;var o,i=e.getColDef().pivotValueColumn,n=s(i),r=null;if(n){var a=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,l=void 0!==e.getColDef().pivotTotalColumnIds;if(a&&!l)return t;r=i?i.getAggFunc():null,o=!0}else{var u=e.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();u&&c?(r=e.getAggFunc(),o=!0):o=!1}if(o){var d="string"===typeof r?r:"func",p=this.localeService.getLocaleTextFunc(),h=p(d,d);return h+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof _t)return e;var o=this.getAllDisplayedTrees(),i="number"===typeof t,n=null;return this.columnUtils.depthFirstAllColumnTreeSearch(o,(function(o){if(o instanceof _t){var r=o,s=void 0;s=i?e===r.getGroupId()&&t===r.getPartId():e===r.getGroupId(),s&&(n=r)}})),n},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(function(t,o){return t.setValueActive(o,e)}),(function(){}),(function(){}),(function(e){var t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(function(e){return null!=e.initialAggFunc&&""!=e.initialAggFunc})),this.valueColumns.forEach((function(e){var t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(function(t,o){return t.setRowGroupActive(o,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.initialRowGroupIndex}),(function(e){return e.rowGroup}),(function(e){return e.initialRowGroup}))},t.prototype.extractColumns=function(e,t,o,i,n,r,s){void 0===e&&(e=[]),void 0===t&&(t=[]);var a=[],l=[];(this.primaryColumns||[]).forEach((function(o){var u,p=e.indexOf(o)<0,h=o.getColDef(),f=d(r(h)),g=d(s(h)),m=c(i(h)),v=c(n(h)),y=void 0!==f,C=void 0!==m,b=void 0!==g,w=void 0!==v;if(u=y?f:C?null!==m&&m>=0:p?b?g:!!w&&(null!=v&&v>=0):t.indexOf(o)>=0,u){var E=p?null!=m||null!=v:null!=m;E?a.push(o):l.push(o)}}));var u=function(e){var t=i(e.getColDef()),o=n(e.getColDef());return null!=t?t:o};a.sort((function(e,t){var o=u(e),i=u(t);return o===i?0:o<i?-1:1}));var p=[].concat(a);return t.forEach((function(e){l.indexOf(e)>=0&&p.push(e)})),l.forEach((function(e){p.indexOf(e)<0&&p.push(e)})),t.forEach((function(e){p.indexOf(e)<0&&o(e,!1)})),p.forEach((function(e){t.indexOf(e)<0&&o(e,!0)})),p},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(function(t,o){return t.setPivotActive(o,e)}),(function(e){return e.pivotIndex}),(function(e){return e.initialPivotIndex}),(function(e){return e.pivot}),(function(e){return e.initialPivot}))},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(e){if(e instanceof Ee){var o=e.getColGroupDef(),i={groupId:e.getGroupId(),open:o?o.openByDefault:void 0};t.push(i)}})),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(t){t instanceof Ee&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e},t.prototype.setColumnGroupState=function(e,t){var o=this;void 0===t&&(t="api"),this.columnAnimationService.start();var i=[];e.forEach((function(e){var t=e.groupId,n=e.open,r=o.getProvidedColumnGroup(t);r&&r.isExpanded()!==n&&(o.logger.log("columnGroupOpened("+r.getGroupId()+","+n+")"),r.setExpanded(n),i.push(r))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),i.forEach((function(e){var t={type:at.EVENT_COLUMN_GROUP_OPENED,columnGroup:e};o.eventService.dispatchEvent(t)})),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,o){var i;void 0===o&&(o="api"),i=e instanceof Ee?e.getId():e||"",this.setColumnGroupState([{groupId:i,open:t}],o)},t.prototype.getProvidedColumnGroup=function(e){"string"!==typeof e&&console.error("AG Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(o){o instanceof Ee&&o.getId()===e&&(t=o)})),t},t.prototype.calculateColumnsForDisplay=function(){var e,t=this;return e=this.pivotMode&&a(this.secondaryColumns)?this.gridColumns.filter((function(e){var o=t.groupAutoColumns&&Ie(t.groupAutoColumns,e),i=t.valueColumns&&Ie(t.valueColumns,e);return o||i})):this.gridColumns.filter((function(e){var o=t.groupAutoColumns&&Ie(t.groupAutoColumns,e);return o||e.isVisible()})),e},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach((function(e){s(e.getColDef().colSpan)&&(t=!0)})),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var t=function(t){var o=t.getColDef(),i=o.showRowGroup;o&&s(i)&&(e.groupDisplayColumns.push(t),"string"===typeof i?e.groupDisplayColumnsMap[i]=t:!0===i&&e.getRowGroupColumns().forEach((function(o){e.groupDisplayColumnsMap[o.getId()]=t})))};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return s(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,t){var o=this;void 0===t&&(t="api");var i=e&&e.length>0;if(i||!a(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);var n=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(e){return o.secondaryColumnsMap[e.getId()]=e})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),o=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(t||o){var i=function(e){e.forEach((function(e){var n=s(e.children);if(n){var r=e;o&&o(r),i(r.children)}else{var a=e;t&&t(a)}}))};e&&i(e)}},t.prototype.updateGridColumns=function(){var e=this,t=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var o=void 0;if(this.secondaryColumns&&this.secondaryBalancedTree){var i=this.secondaryColumns.every((function(t){return void 0!==e.gridColumnsMap[t.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(o=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,o=this.lastPrimaryOrder);var n=this.createGroupAutoColumnsIfNeeded();if(n&&o){var r=Vt(this.groupAutoColumns.map((function(e){return[e,!0]})));o=o.filter((function(e){return!r.has(e)})),o=Xt(this.groupAutoColumns,o)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(o),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t})),this.setAutoHeightActive(),!_e(t,this.gridBalancedTree)){var s={type:at.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(s)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter((function(e){return e.isAutoHeight()})).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType(),t="clientSide"===e||"serverSide"===e;if(!t){var o="AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.";G((function(){return console.warn(o)}),"autoHeightActive.wrongRowModel")}}},t.prototype.orderGridColsLike=function(e){if(!a(e)){var t=Vt(e.map((function(e,t){return[e,t]}))),o=!0;if(this.gridColumns.forEach((function(e){t.has(e)&&(o=!1)})),!o){var i=Vt(this.gridColumns.map((function(e){return[e,!0]}))),n=e.filter((function(e){return i.has(e)})),r=Vt(n.map((function(e){return[e,!0]}))),s=this.gridColumns.filter((function(e){return!r.has(e)})),l=n.slice();s.forEach((function(e){var t=e.getOriginalParent();if(t){var o=[];while(!o.length&&t){var i=t.getLeafColumns();i.forEach((function(e){var t=l.indexOf(e)>=0,i=o.indexOf(e)<0;t&&i&&o.push(e)})),t=t.getOriginalParent()}if(o.length){var n=o.map((function(e){return l.indexOf(e)})),r=Math.max.apply(Math,Xt(n));xe(l,e,r+1)}else l.push(e)}else l.push(e)})),this.gridColumns=l}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,t;this.groupAutoColumns?t=(null!==(e=this.primaryColumns)&&void 0!==e?e:[]).concat(this.groupAutoColumns):this.primaryColumns&&(t=this.primaryColumns),t=null!==t&&void 0!==t?t:[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?t.filter((function(e){return e.isVisible()})):t},t.prototype.placeLockedColumns=function(e){var t=[],o=[],i=[];return e.forEach((function(e){var n=e.getColDef().lockPosition;"right"===n?i.push(e):"left"===n||!0===n?t.push(e):o.push(e)})),Xt(t,o,i)},t.prototype.addAutoGroupToGridColumns=function(){if(a(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var t={type:at.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter((function(e){return e.isAutoHeight()}))},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this;if(this.primaryColumns){var o=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(n){if(i){var r=t.getWidthOfColsInList(n);n.forEach((function(t){r-=t.getActualWidth(),t.setLeft(r,e)}))}else{var s=0;n.forEach((function(t){t.setLeft(s,e),s+=t.getActualWidth()}))}Le(o,n)})),o.forEach((function(t){t.setLeft(null,e)}))}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(e){e.forEach((function(e){if(e instanceof _t){var t=e;t.checkLeft()}}))}))},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,(function(e){e instanceof be&&t.push(e)}))},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,t){var o;switch(e){case"left":o=this.viewportRowLeft[t];break;case"right":o=this.viewportRowRight[t];break;default:o=this.viewportRowCenter[t];break}return a(o)&&(o=[]),o},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach((function(t){return e[t.getId()]=!0}));var t=function(o,i,n){for(var r=!1,s=0;s<o.length;s++){var a=o[s],l=!1;if(a instanceof be)l=!0===e[a.getId()];else{var u=a,c=u.getDisplayedChildren();c&&(l=t(c,i,n+1))}l&&(r=!0,i[n]||(i[n]=[]),i[n].push(a))}return r};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(e){return e.getId()+"-"+(e.getPinned()||"normal")};this.extractViewportColumns();var t=this.viewportColumns.map(e).join("#"),o=this.viewportColumnsHash!==t;return o&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),o},t.prototype.refreshFlexedColumns=function(e){var t=this;void 0===e&&(e={});var o=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var i=-1;e.resizingCols&&e.resizingCols.forEach((function(e){var o=t.displayedColumnsCenter.indexOf(e);i<o&&(i=o)}));var n=function(e){var o=t.displayedColumnsCenter.indexOf(e)>i;return e.getFlex()&&o},r=this.displayedColumnsCenter.filter((function(e){return!n(e)})),a=this.displayedColumnsCenter.filter((function(e){return n(e)})),l=[];if(!a.length)return[];var u,c=[];e:while(1){var d=a.reduce((function(e,t){return e+t.getFlex()}),0);u=this.flexViewportWidth-this.getWidthOfColsInList(r);for(var p=0;p<a.length;p++){var h=a[p],f=u*h.getFlex()/d,g=0,m=h.getMinWidth(),v=h.getMaxWidth();if(s(m)&&f<m?g=m:s(v)&&f>v&&(g=v),g){h.setActualWidth(g,o),Me(a,h),l.push(h),r.push(h);continue e}c[p]=Math.round(f)}break}var y=u;return a.forEach((function(e,t){e.setActualWidth(Math.min(c[t],y),o),l.push(e),y-=c[t]})),e.skipSetLeft||this.setLeftValues(o),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,o,a),this.flexColsCalculatedAtLestOnce||(this.gridOptionsService.isRowModelType("clientSide")&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),a},t.prototype.sizeColumnsToFit=function(e,t,o,i){var n,r,a,l,u;void 0===t&&(t="sizeColumnsToFit");var c={};i&&(null===(n=null===i||void 0===i?void 0:i.columnLimits)||void 0===n||n.forEach((function(e){var t=e.key,o=Yt(e,["key"]);c["string"===typeof t?t:t.getColId()]=o})));var d=this.getAllDisplayedColumns(),p=e===this.getWidthOfColsInList(d);if(!(e<=0||!d.length||p)){var h=[],f=[];d.forEach((function(e){!0===e.getColDef().suppressSizeToFit?f.push(e):h.push(e)}));var g=h.slice(0),m=!1,v=function(e){Me(h,e),f.push(e)};h.forEach((function(e){return e.resetActualWidth(t)}));while(!m){m=!0;var y=e-this.getWidthOfColsInList(f);if(y<=0)h.forEach((function(e){var o,n,r=null!==(n=null===(o=null===c||void 0===c?void 0:c[e.getId()])||void 0===o?void 0:o.minWidth)&&void 0!==n?n:null===i||void 0===i?void 0:i.defaultMinWidth;"number"!==typeof r?e.setMinimum(t):e.setActualWidth(r)}));else for(var C=y/this.getWidthOfColsInList(h),b=y,w=h.length-1;w>=0;w--){var E=h[w],S=null===c||void 0===c?void 0:c[E.getId()],R=null!==(r=null===S||void 0===S?void 0:S.minWidth)&&void 0!==r?r:null===i||void 0===i?void 0:i.defaultMinWidth,O=null!==(a=null===S||void 0===S?void 0:S.maxWidth)&&void 0!==a?a:null===i||void 0===i?void 0:i.defaultMaxWidth,T=null!==(l=E.getMinWidth())&&void 0!==l?l:0,_=null!==(u=E.getMaxWidth())&&void 0!==u?u:Number.MAX_VALUE,P="number"===typeof R&&R>T?R:E.getMinWidth(),D="number"===typeof O&&O<_?O:E.getMaxWidth(),A=Math.round(E.getActualWidth()*C);s(P)&&A<P?(A=P,v(E),m=!1):s(D)&&A>D?(A=D,v(E),m=!1):0===w&&(A=b),E.setActualWidth(A,t,!0),b-=A}}g.forEach((function(e){e.fireColumnWidthChangedEvent(t)})),this.setLeftValues(t),this.updateBodyWidths(),o||this.dispatchColumnResizedEvent(g,!0,t)}},t.prototype.buildDisplayedTrees=function(e){var t=[],o=[],i=[];e.forEach((function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":o.push(e);break;default:i.push(e);break}}));var n=new Pt;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,n,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,n,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,n,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var t=function(t){e.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,t),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,t)},t.prototype.isDisplayed=function(e){var t=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return t===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,(function(e){if(e instanceof _t){var t=e;t.calculateDisplayedColumns()}}))},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.usingTreeData,i=o&&!t&&!e;if(i){var n=this.groupAutoColumns||[],r=this.autoGroupColService.createAutoGroupColumns(n,this.rowGroupColumns),s=!this.autoColsEqual(r,this.groupAutoColumns);if(s||this.forceRecreateAutoGroups)return this.groupAutoColumns=r,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),t=!!e&&Rt("custom",e);if(t)return!0;var o=this.gridOptionsService.get("treeDataDisplayType");return!!o&&Ot("custom",o)},t.prototype.autoColsEqual=function(e,t){return _e(e,t,(function(e,t){return e.getColId()===t.getColId()}))},t.prototype.getWidthOfColsInList=function(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){if(!this.gridColumns)return!1;var e=this.gridColumns.some((function(e){return e.getColDef().floatingFilter}));return e},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.is("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var o=0;o<t.length;o++){var i=this[t[o]]();if(i.length)return e?Te(i):i[0]}return null},t.prototype.setColumnHeaderHeight=function(e,t){var o=e.setAutoHeaderHeight(t);if(o){var i={type:at.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(i)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter((function(e){return e.isAutoHeaderHeight()})).map((function(e){return e.getAutoHeaderHeight()||0}));return Math.max.apply(Math,Xt([e],t))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},Ut([se("expressionService")],t.prototype,"expressionService",void 0),Ut([se("columnFactory")],t.prototype,"columnFactory",void 0),Ut([se("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Ut([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Ut([se("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Ut([se("columnUtils")],t.prototype,"columnUtils",void 0),Ut([se("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Ut([se("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Ut([ae("aggFuncService")],t.prototype,"aggFuncService",void 0),Ut([ae("valueCache")],t.prototype,"valueCache",void 0),Ut([ae("animationFrameService")],t.prototype,"animationFrameService",void 0),Ut([se("rowModel")],t.prototype,"rowModel",void 0),Ut([se("sortController")],t.prototype,"sortController",void 0),Ut([se("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Ut([ie],t.prototype,"init",null),Ut([ne],t.prototype,"destroyColumns",null),Ut([Kt(0,ue("loggerFactory"))],t.prototype,"setBeans",null),t=Ut([re("columnModel")],t),t}(tt),Qt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zt=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},eo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qt(t,e),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var t,o=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),n=c(e.width),r=c(e.initialWidth);return t=null!=n?n:null!=r?r:200,Math.max(Math.min(t,i),o)},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],i=!1,n=function(t,r){for(var s=0;s<t.length;s++){if(i)return;var a=t[s];if(a instanceof Ee){var l=a;n(l.getChildren(),r+1),o[r]=a}else a===e&&(i=!0)}};return n(t,0),i?o:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,o){var i=this;t&&t.forEach((function(t){t instanceof Ee&&i.depthFirstOriginalTreeSearch(t,t.getChildren(),o),o(t,e)}))},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var o=this;e&&e.forEach((function(e){e instanceof _t&&o.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)}))},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var o=this;e&&e.forEach((function(e){e instanceof _t&&o.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)}))},t=Zt([re("columnUtils")],t),t}(tt),to=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),oo=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return to(t,e),t.prototype.createDisplayedGroups=function(e,t,o,i,n){var r,s,a=this,l=[],u=this.mapOldGroupsById(n);return e.forEach((function(e){for(var n=a.getOriginalPathForColumn(t,e),c=[],d=!s,p=0;p<n.length;p++)if(d||n[p]!==s[p]){var h=a.createColumnGroup(n[p],o,u,i);c[p]=h,0==p?l.push(h):c[p-1].addChild(h)}else c[p]=r[p];var f=0===c.length;if(f)l.push(e);else{var g=Te(c);g.addChild(e)}r=c,s=n})),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,o,i){var n=e.getGroupId(),r=t.getInstanceIdForKey(n),a=_t.createUniqueId(n,r),l=o[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),s(l)?l.reset():(l=new _t(e,n,r,i),this.context.createBean(l)),l},t.prototype.mapOldGroupsById=function(e){var t={},o=function(e){e.forEach((function(e){if(e instanceof _t){var i=e;t[e.getUniqueId()]=i,o(i.getChildren())}}))};return e&&o(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var o=this;e.forEach((function(e){if(e.setParent(t),e instanceof _t){var i=e;o.setupParentsIntoColumns(i.getChildren(),i)}}))},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],i=!1,n=function(e,r){for(var s=0;s<e.length;s++){if(i)return;var a=e[s];a instanceof Ee?(n(a.getChildren(),r+1),o[r]=a):a===t&&(i=!0)}};return n(e,0),i?o:(console.warn("AG Grid: could not get path"),null)},t=oo([re("displayedGroupCreator")],t),t}(tt),no=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ro=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},so=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return no(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach((function(e){return t.addComponent(e)}))},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=t.toUpperCase();this.componentsMappedByName[o]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=ro([re("agStackComponentsRegistry")],t),t}(tt);
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
function ao(e,t,o){e.setAttribute(uo(t),o.toString())}function lo(e,t){e.removeAttribute(uo(t))}function uo(e){return"aria-"+e}function co(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function po(e){var t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}function ho(e){return parseInt(e.getAttribute("aria-level"),10)}function fo(e){return parseInt(e.getAttribute("aria-posinset"),10)}function go(e){return e.getAttribute("aria-describedby")||""}function mo(e,t){var o="label";null!=t&&""!==t?ao(e,o,t):lo(e,o)}function vo(e,t){var o="labelledby";t?ao(e,o,t):lo(e,o)}function yo(e,t){var o="description";t?ao(e,o,t):lo(e,o)}function Co(e,t){var o="describedby";t?ao(e,o,t):lo(e,o)}function bo(e,t){ao(e,"level",t)}function wo(e,t){ao(e,"disabled",t)}function Eo(e,t){t?ao(e,"hidden",!0):lo(e,"hidden")}function So(e,t){ao(e,"expanded",t)}function Ro(e){lo(e,"expanded")}function Oo(e,t){ao(e,"setsize",t)}function To(e,t){ao(e,"posinset",t)}function _o(e,t){ao(e,"multiselectable",t)}function Po(e,t){ao(e,"rowcount",t)}function Do(e,t){ao(e,"rowindex",t)}function Ao(e,t){ao(e,"colcount",t)}function Mo(e,t){ao(e,"colindex",t)}function Lo(e,t){ao(e,"colspan",t)}function xo(e,t){ao(e,"sort",t)}function Fo(e){lo(e,"sort")}function No(e,t){var o="selected";t?ao(e,o,t):lo(e,o)}function Io(e,t){ao(e,"checked",void 0===t?"mixed":t)}var ko,Go,Ho,Vo,Bo,jo,Wo,zo,Uo=Object.freeze({__proto__:null,setAriaRole:co,getAriaSortState:po,getAriaLevel:ho,getAriaPosInSet:fo,getAriaDescribedBy:go,setAriaLabel:mo,setAriaLabelledBy:vo,setAriaDescription:yo,setAriaDescribedBy:Co,setAriaLevel:bo,setAriaDisabled:wo,setAriaHidden:Eo,setAriaExpanded:So,removeAriaExpanded:Ro,setAriaSetSize:Oo,setAriaPosInSet:To,setAriaMultiSelectable:_o,setAriaRowCount:Po,setAriaRowIndex:Do,setAriaColCount:Ao,setAriaColIndex:Mo,setAriaColSpan:Lo,setAriaSort:xo,removeAriaSort:Fo,setAriaSelected:No,setAriaChecked:Io});
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Ko(){return void 0===ko&&(ko=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),ko}function Yo(){if(void 0===Go)if(Ko()){var e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Go=null!=e[1]?parseFloat(e[1]):0)}else Go=0;return Go}function qo(){if(void 0===Ho){var e=window;Ho=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Ho}function Jo(){return void 0===Vo&&(Vo=/(firefox)/i.test(navigator.userAgent)),Vo}function Xo(){return void 0===Bo&&(Bo=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Bo}function $o(){return void 0===jo&&(jo=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),jo}function Qo(){return!Ko()||Yo()>=15}function Zo(e){if(!e)return null;var t=e.tabIndex,o=e.getAttribute("tabIndex");return-1!==t||null!==o&&(""!==o||Jo())?t.toString():null}function ei(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=document.createElement("div");document.body.appendChild(o);while(1){var i=2*e;if(o.style.height=i+"px",i>t||o.clientHeight!==i)break;e=i}return document.body.removeChild(o),e}function ti(){var e,t,o;return null!==(t=null===(e=document.body)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(o=document.documentElement)||void 0===o?void 0:o.clientWidth)||-1}function oi(){var e,t,o;return null!==(t=null===(e=document.body)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(o=document.documentElement)||void 0===o?void 0:o.clientHeight)||-1}function ii(){return null==zo&&ni(),zo}function ni(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var o=t.offsetWidth-t.clientWidth;0===o&&0===t.clientWidth&&(o=null),t.parentNode&&t.parentNode.removeChild(t),null!=o&&(zo=o,Wo=0===o)}function ri(){return null==Wo&&ni(),Wo}var si=Object.freeze({__proto__:null,isBrowserSafari:Ko,getSafariVersion:Yo,isBrowserChrome:qo,isBrowserFirefox:Jo,isMacOsUserAgent:Xo,isIOSUserAgent:$o,browserSupportsPreventScroll:Qo,getTabIndex:Zo,getMaxDivHeight:ei,getBodyWidth:ti,getBodyHeight:oi,getScrollbarWidth:ii,isInvisibleScrollbar:ri});
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function ai(e,t){return e.toString().padStart(t,"0")}function li(e,t){for(var o=[],i=e;i<=t;i++)o.push(i);return o}function ui(e){return"string"===typeof e&&(e=parseInt(e,10)),"number"===typeof e?Math.floor(e):null}function ci(e,t){for(var o="",i=0;i<t;i++)o+=String.fromCharCode(255&e),e>>>=8;return o}function di(e,t,o){return"number"!==typeof e?"":pi(Math.round(100*e)/100,t,o)}function pi(e,t,o){return"number"!==typeof e?"":e.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}function hi(e){return null==e?null:e.reduce((function(e,t){return e+t}),0)}function fi(e,t){return e>=0?e:t}function gi(e,t){var o=parseInt(e,10);return!isNaN(o)&&isFinite(o)&&o>0?o:t}var mi=Object.freeze({__proto__:null,padStartWidthZeros:ai,createArrayOfNumbers:li,cleanNumber:ui,decToHex:ci,formatNumberTwoDecimalPlacesAndCommas:di,formatNumberCommas:pi,sum:hi,zeroOrGreater:fi,oneOrGreater:gi}),vi=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function yi(e,t,o){if(void 0===t&&(t=!0),void 0===o&&(o="-"),!e)return null;var i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(e){return ai(e,2)})).join(o);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return ai(e,2)})).join(":")),i}var Ci=function(e){if(e>3&&e<21)return"th";var t=e%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function bi(e,t){void 0===t&&(t="YYYY-MM-DD");var o=ai(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:function(){return o.slice(o.length-4,o.length)},YY:function(){return o.slice(o.length-2,o.length)},Y:function(){return""+e.getFullYear()},MMMM:function(){return i[e.getMonth()]},MMM:function(){return i[e.getMonth()].slice(0,3)},MM:function(){return ai(e.getMonth()+1,2)},Mo:function(){return""+(e.getMonth()+1)+Ci(e.getMonth()+1)},M:function(){return""+(e.getMonth()+1)},Do:function(){return""+e.getDate()+Ci(e.getDate())},DD:function(){return ai(e.getDate(),2)},D:function(){return""+e.getDate()},dddd:function(){return n[e.getDay()]},ddd:function(){return n[e.getDay()].slice(0,3)},dd:function(){return n[e.getDay()].slice(0,2)},do:function(){return""+e.getDay()+Ci(e.getDay())},d:function(){return""+e.getDay()}},s=new RegExp(Object.keys(r).join("|"),"g");return t.replace(s,(function(e){return e in r?r[e]():e}))}function wi(e){if(!e)return null;var t=vi(e.split(" "),2),o=t[0],i=t[1];if(!o)return null;var n=o.split("-").map((function(e){return parseInt(e,10)}));if(3!==n.filter((function(e){return!isNaN(e)})).length)return null;var r=vi(n,3),s=r[0],a=r[1],l=r[2],u=new Date(s,a-1,l);if(u.getFullYear()!==s||u.getMonth()!==a-1||u.getDate()!==l)return null;if(!i||"00:00:00"===i)return u;var c=vi(i.split(":").map((function(e){return parseInt(e,10)})),3),d=c[0],p=c[1],h=c[2];return d>=0&&d<24&&u.setHours(d),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var Ei,Si=Object.freeze({__proto__:null,serialiseDate:yi,dateToFormattedString:bi,parseDateTimeFromString:wi}),Ri=function(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Oi=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Ti(e,t,o){var i=e.parentElement,n=i&&i.firstChild;while(n)t&&n.classList.toggle(t,n===e),o&&n.classList.toggle(o,n!==e),n=n.nextSibling}var _i="[tabindex], input, select, button, textarea, [href]",Pi=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function Di(e){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,o="input, select, button, textarea",i=t.call(e,o),n=t.call(e,Pi),r=Ui(e),s=i&&!n&&r;return s}function Ai(e,t,o){void 0===o&&(o={});var i=o.skipAriaHidden;e.classList.toggle("ag-hidden",!t),i||Eo(e,!t)}function Mi(e,t,o){void 0===o&&(o={});var i=o.skipAriaHidden;e.classList.toggle("ag-invisible",!t),i||Eo(e,!t)}function Li(e,t){var o="disabled",i=t?function(e){return e.setAttribute(o,"")}:function(e){return e.removeAttribute(o)};i(e),fn(e.querySelectorAll("input"),(function(e){return i(e)}))}function xi(e,t,o){var i=0;while(e){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof o){if(++i>o)break}else if(e===o)break}return!1}function Fi(e){var t=window.getComputedStyle(e),o=t.height,i=t.width,n=t.paddingTop,r=t.paddingRight,s=t.paddingBottom,a=t.paddingLeft,l=t.marginTop,u=t.marginRight,c=t.marginBottom,d=t.marginLeft,p=t.boxSizing;return{height:parseFloat(o),width:parseFloat(i),paddingTop:parseFloat(n),paddingRight:parseFloat(r),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(l),marginRight:parseFloat(u),marginBottom:parseFloat(c),marginLeft:parseFloat(d),boxSizing:p}}function Ni(e){var t=Fi(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Ii(e){var t=Fi(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function ki(e){var t=Fi(e),o=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+o)}function Gi(e){var t=Fi(e),o=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+o)}function Hi(){if("boolean"===typeof Ei)return Ei;var e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Ei=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Ei}function Vi(e,t){var o=e.scrollLeft;return t&&(o=Math.abs(o),qo()&&!Hi()&&(o=e.scrollWidth-e.clientWidth-o)),o}function Bi(e,t,o){o&&(Hi()?t*=-1:(Ko()||qo())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function ji(e){while(e&&e.firstChild)e.removeChild(e.firstChild)}function Wi(e,t){zi(e.querySelector(t))}function zi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ui(e){return null!==e.offsetParent}function Ki(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Yi(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t}function qi(e,t){if(e.attributes&&e.attributes[t]){var o=e.attributes[t];return o.value}return null}function Ji(e){return e&&e.clientHeight?e.clientHeight:0}function Xi(e){return e&&e.clientWidth?e.clientWidth:0}function $i(e,t,o){if(!o||o.nextSibling!==t){var i=document.activeElement,n=t.contains(i);o?o.nextSibling?e.insertBefore(t,o.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t),n&&i&&Qo()&&i.focus({preventScroll:!0})}}function Qi(e,t){for(var o=0;o<t.length;o++){var i=t[o],n=e.children[o];n!==i&&e.insertBefore(i,n)}}function Zi(e,t,o){o?o.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function en(e,t){s(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)}function tn(e,t){var o,i;if(t)try{for(var n=Ri(Object.entries(t)),r=n.next();!r.done;r=n.next()){var s=Oi(r.value,2),a=s[0],l=s[1];if(a&&a.length&&null!=l){var u=a.replace(/[A-Z]/g,(function(e){return"-"+e.toLocaleLowerCase()})),c=l.toString(),d=c.replace(/\s*!important/g,""),p=d.length!=c.length?"important":void 0;e.style.setProperty(u,l,p)}}}catch(h){o={error:h}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}}function on(e){return e.clientWidth<e.scrollWidth}function nn(e){return e.clientHeight<e.scrollHeight}function rn(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):sn(e,t)}function sn(e,t){t=un(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function an(e,t){"flex"===t?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):ln(e,t)}function ln(e,t){t=un(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function un(e){return"number"===typeof e?e+"px":e}function cn(e){return e instanceof Node||e instanceof HTMLElement}function dn(e){if(null==e)return[];var t=[];return fn(e,(function(e){return t.push(e)})),t}function pn(e,t){if(e)for(var o=0;o<e.length;o++){var i=e[o];t(i.name,i.value)}}function hn(e,t,o){null==o?e.removeAttribute(t):e.setAttribute(t,o.toString())}function fn(e,t){if(null!=e)for(var o=0;o<e.length;o++)t(e[o])}var gn=Object.freeze({__proto__:null,radioCssClass:Ti,FOCUSABLE_SELECTOR:_i,FOCUSABLE_EXCLUDE:Pi,isFocusableFormField:Di,setDisplayed:Ai,setVisible:Mi,setDisabled:Li,isElementChildOfClass:xi,getElementSize:Fi,getInnerHeight:Ni,getInnerWidth:Ii,getAbsoluteHeight:ki,getAbsoluteWidth:Gi,isRtlNegativeScroll:Hi,getScrollLeft:Vi,setScrollLeft:Bi,clearElement:ji,removeElement:Wi,removeFromParent:zi,isVisible:Ui,loadTemplate:Ki,appendHtml:Yi,getElementAttribute:qi,offsetHeight:Ji,offsetWidth:Xi,ensureDomOrder:$i,setDomChildOrder:Qi,insertWithDomOrder:Zi,prependDC:en,addStylesToElement:tn,isHorizontalScrollShowing:on,isVerticalScrollShowing:nn,setElementWidth:rn,setFixedWidth:sn,setElementHeight:an,setFixedHeight:ln,formatSize:un,isNodeOrElement:cn,copyNodeList:dn,iterateNamedNodeMap:pn,addOrRemoveAttribute:hn,nodeListForEach:fn}),mn={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function vn(e,t,o){var i=yn(e,t,o);if(i&&i.className.indexOf("ag-icon")>-1)return i;var n=document.createElement("span");return n.appendChild(i),n}function yn(e,t,o,i){var n=null,r=o&&o.getColDef().icons;if(r&&(n=r[e]),t&&!n){var s=t.get("icons");s&&(n=s[e])}if(!n){var a=document.createElement("span"),l=mn[e];return l||(i?l=e:(console.warn("AG Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),co(a,"presentation"),a}var u=void 0;if("function"===typeof n)u=n();else{if("string"!==typeof n)throw new Error("icon from grid options needs to be a string or a function");u=n}return"string"===typeof u?Ki(u):cn(u)?u:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Cn=Object.freeze({__proto__:null,iconNameClassMap:mn,createIcon:vn,createIconNoSpan:yn}),bn=function(){function e(){}return e.BACKSPACE="Backspace",e.TAB="Tab",e.ENTER="Enter",e.ESCAPE="Escape",e.SPACE=" ",e.LEFT="ArrowLeft",e.UP="ArrowUp",e.RIGHT="ArrowRight",e.DOWN="ArrowDown",e.DELETE="Delete",e.F2="F2",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.PAGE_HOME="Home",e.PAGE_END="End",e.A="KeyA",e.C="KeyC",e.D="KeyD",e.V="KeyV",e.X="KeyX",e.Y="KeyY",e.Z="KeyZ",e}(),wn=65,En=67,Sn=86,Rn=68,On=90,Tn=89;
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function _n(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;var t=1===e.key.length;return t}function Pn(e,t,o,i,n){var r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;var s={event:t,editing:n,column:i,api:e.api,node:o,data:o.data,colDef:i.getColDef(),context:e.context,columnApi:e.columnApi};if(r){var a=r(s);if(a)return!0}return!1}function Dn(e,t,o,i){var n=i.getDefinition(),r=n&&n.suppressHeaderKeyboardEvent;if(!s(r))return!1;var a={api:e.api,columnApi:e.columnApi,context:e.context,colDef:n,column:i,headerRowIndex:o,event:t};return!!r(a)}function An(e){var t,o=e.keyCode;switch(o){case wn:t=bn.A;break;case En:t=bn.C;break;case Sn:t=bn.V;break;case Rn:t=bn.D;break;case On:t=bn.Z;break;case Tn:t=bn.Y;break;default:t=e.code}return t}function Mn(e,t){return void 0===t&&(t=!1),e===bn.DELETE||!t&&e===bn.BACKSPACE&&Xo()}var Ln=Object.freeze({__proto__:null,isEventFromPrintableCharacter:_n,isUserSuppressingKeyboardEvent:Pn,isUserSuppressingHeaderKeyboardEvent:Dn,normaliseQwertyAzerty:An,isDeleteKey:Mn});
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function xn(e,t,o){if(0===o)return!1;var i=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(i,n)<=o}var Fn=Object.freeze({__proto__:null,areEventsNear:xn});
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Nn(e,t){if(!e)return!1;for(var o,i,n=function(e,o){var i=t[e.id],n=t[o.id],r=void 0!==i,s=void 0!==n,a=r&&s,l=!r&&!s;return a?i-n:l?e.__objectId-o.__objectId:r?1:-1},r=!1,s=0;s<e.length-1;s++)if(o=e[s],i=e[s+1],n(o,i)>0){r=!0;break}return!!r&&(e.sort(n),!0)}function In(e,t){var o=[];function i(e){e&&e.forEach((function(e){if(e.group||e.hasChildren()){o.push(e.key);var n=o.join("|");t(e,n),i(e.childrenAfterGroup),o.pop()}}))}i(e)}var kn=Object.freeze({__proto__:null,sortRowNodesByOrder:Nn,traverseNodesWithKey:In});
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function Gn(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),t}var Hn,Vn=Object.freeze({__proto__:null,convertToSet:Gn}),Bn=function(){return Bn=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Bn.apply(this,arguments)},jn=Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn({},Uo),Be),si),Si),gn),Ze),Q),yt),v),Cn),Ln),Wt),Fn),mi),I),kn),Vn),Ht),Wn=jn,zn=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e[e["IN_PROGRESS"]=0]="IN_PROGRESS",e[e["RESOLVED"]=1]="RESOLVED"})(Hn||(Hn={}));var Un,Kn=function(){function e(e){var t=this;this.status=Hn.IN_PROGRESS,this.resolution=null,this.waiters=[],e((function(e){return t.onDone(e)}),(function(e){return t.onReject(e)}))}return e.all=function(t){return new e((function(e){var o=t.length,i=new Array(o);t.forEach((function(t,n){t.then((function(t){i[n]=t,o--,0===o&&e(i)}))}))}))},e.resolve=function(t){return void 0===t&&(t=null),new e((function(e){return e(t)}))},e.prototype.then=function(t){var o=this;return new e((function(e){o.status===Hn.RESOLVED?e(t(o.resolution)):o.waiters.push((function(o){return e(t(o))}))}))},e.prototype.resolveNow=function(e,t){return this.status===Hn.RESOLVED?t(this.resolution):e},e.prototype.onDone=function(e){this.status=Hn.RESOLVED,this.resolution=e,this.waiters.forEach((function(t){return t(e)}))},e.prototype.onReject=function(e){console.warn("TBI")},e}(),Yn=(function(){function e(){this.timestamp=(new Date).getTime()}e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()}}(),function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),qn=function(){return qn=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},qn.apply(this,arguments)},Jn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e[e["NOTHING"]=0]="NOTHING",e[e["WAITING_TO_SHOW"]=1]="WAITING_TO_SHOW",e[e["SHOWING"]=2]="SHOWING"})(Un||(Un={}));var Xn=function(e){function t(t){var o=e.call(this)||this;return o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.state=Un.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o.parentComp=t,o}return Yn(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!$o()&&this.state==Un.NOTHING){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=Un.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Un.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Un.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Un.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.getTooltipDelay=function(e){var t=this.gridOptionsService.getNum("tooltipShowDelay"),o=this.gridOptionsService.getNum("tooltipHideDelay"),i="show"===e?t:o,n=It(e);return s(i)?(i<0&&G((function(){return console.warn("AG Grid: tooltip"+n+"Delay should not be lower than 0")}),"tooltip"+n+"DelayWarn"),Math.max(200,i)):null},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Un.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,o=this.tooltipComp;window.setTimeout((function(){t(),e.getContext().destroyBean(o)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){var e=(new Date).getTime(),o=t.lastTooltipHideTime;return e-o<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=qn({},this.parentComp.getTooltipParams());if(s(e.value)){this.state=Un.SHOWING,this.tooltipInstanceCount++;var t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=this.userComponentFactory.getTooltipCompDetails(e);o.newAgStackInstance().then(t)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){var o=this.state!==Un.SHOWING||this.tooltipInstanceCount!==e;if(o)this.getContext().destroyBean(t);else{var i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom");var n=this.localeService.getLocaleTextFunc(),r=this.popupService.addPopup({eChild:i,ariaLabel:n("ariaLabelTooltip","Tooltip")});r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Jn([se("popupService")],t.prototype,"popupService",void 0),Jn([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Jn([se("columnApi")],t.prototype,"columnApi",void 0),Jn([se("gridApi")],t.prototype,"gridApi",void 0),Jn([ie],t.prototype,"postConstruct",null),t}(tt),$n=function(){function e(e){this.cssClassStates={},this.getGui=e}return e.prototype.addCssClass=function(e){var t=this,o=(e||"").split(" ");if(o.length>1)o.forEach((function(e){return t.addCssClass(e)}));else{var i=!0!==this.cssClassStates[e];if(i&&e.length){var n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}},e.prototype.removeCssClass=function(e){var t=this,o=(e||"").split(" ");if(o.length>1)o.forEach((function(e){return t.removeCssClass(e)}));else{var i=!1!==this.cssClassStates[e];if(i&&e.length){var n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}},e.prototype.containsCssClass=function(e){var t=this.getGui();return!!t&&t.classList.contains(e)},e.prototype.addOrRemoveCssClass=function(e,t){var o=this;if(e){if(e.indexOf(" ")>=0){var i=(e||"").split(" ");if(i.length>1)return void i.forEach((function(e){return o.addOrRemoveCssClass(e,t)}))}var n=this.cssClassStates[e]!==t;if(n&&e.length){var r=this.getGui();r&&r.classList.toggle(e,t),this.cssClassStates[e]=t}}},e}(),Qn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zn=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},er=new zn,tr=function(e){function t(t){var o=e.call(this)||this;return o.displayed=!0,o.visible=!0,o.compId=er.next(),o.cssClassManager=new $n((function(){return o.eGui})),t&&o.setTemplate(t),o}return Qn(t,e),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var t=this,o=function(){t.usingBrowserTooltips?t.getGui().removeAttribute("title"):t.tooltipFeature=t.destroyBean(t.tooltipFeature)},i=function(){t.usingBrowserTooltips?t.getGui().setAttribute("title",t.tooltipText):t.tooltipFeature=t.createBean(new Xn(t))};this.tooltipText!=e&&(this.tooltipText&&o(),null!=e&&(this.tooltipText=e,this.tooltipText&&i()))},t.prototype.createChildComponentsFromTags=function(e,t){var o=this,i=dn(e.childNodes);i.forEach((function(i){if(i instanceof HTMLElement){var n=o.createComponentFromElement(i,(function(e){var t=e.getGui();t&&o.copyAttributesFromNode(i,e.getGui())}),t);if(n){if(n.addItems&&i.children.length){o.createChildComponentsFromTags(i,t);var r=Array.prototype.slice.call(i.children);n.addItems(r)}o.swapComponentForNode(n,e,i)}else i.childNodes&&o.createChildComponentsFromTags(i,t)}}))},t.prototype.createComponentFromElement=function(e,o,i){var n=e.nodeName,r=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(n);if(s){t.elementGettingCreated=e;var a=new s(r);return a.setParentComponent(this),this.createBean(a,null,o),a}return null},t.prototype.copyAttributesFromNode=function(e,t){pn(e.attributes,(function(e,o){return t.setAttribute(e,o)}))},t.prototype.swapComponentForNode=function(e,t,o){var i=e.getGui();t.replaceChild(i,o),t.insertBefore(document.createComment(o.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,o)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var o=this;this.iterateOverQuerySelectors((function(i){o[i.attributeName]===t&&(o[i.attributeName]=e)}))},t.prototype.iterateOverQuerySelectors=function(e){var t=Object.getPrototypeOf(this);while(null!=t){var o=t.__agComponentMetaData,i=H(t.constructor);o&&o[i]&&o[i].querySelectors&&o[i].querySelectors.forEach((function(t){return e(t)})),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var o=Ki(e);this.setTemplateFromElement(o,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors((function(o){var i=function(e){return t[o.attributeName]=e},n=o.refSelector&&e.eGui.getAttribute("ref")===o.refSelector;if(n)i(e.eGui);else{var r=e.eGui.querySelector(o.querySelector);r&&i(r.__agComponent||r)}}))}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(null!=e)if(t||(t=this.eGui),cn(e))t.appendChild(e);else{var o=e;t.appendChild(o.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,t){if(void 0===t&&(t={}),e!==this.visible){this.visible=e;var o=t.skipAriaHidden;Mi(this.eGui,e,{skipAriaHidden:o})}},t.prototype.setDisplayed=function(e,o){if(void 0===o&&(o={}),e!==this.displayed){this.displayed=e;var i=o.skipAriaHidden;Ai(this.eGui,e,{skipAriaHidden:i});var n={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t,o){var i=this;this.eGui.addEventListener(e,t,o),this.addDestroyFunc((function(){return i.eGui.removeEventListener(e,t)}))},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Zn([se("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Zn([oe],t.prototype,"preConstructOnComponent",null),Zn([oe],t.prototype,"createChildComponentsPreConstruct",null),t}(tt);
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function or(e){return ir.bind(this,"[ref="+e+"]",e)}function ir(e,t,o,i,n){null!==e?"number"!==typeof n?nr(o,"querySelectors",{attributeName:i,querySelector:e,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}function nr(e,t,o){var i=rr(e,H(e.constructor));i[t]||(i[t]=[]),i[t].push(o)}function rr(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */var sr,ar=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),lr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ur=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return ar(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" "+o("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance((function(o){if(o.getModelAsString){var i=o.getModelAsString(e);t.eFloatingFilterText.setValue(i)}})):this.eFloatingFilterText.setValue("")},lr([or("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),lr([se("columnModel")],t.prototype,"columnModel",void 0),t}(tr),cr=function(){function e(e,t,o,i){var n=this;this.alive=!0,this.context=e,this.eParent=i;var r=t.getDateCompDetails(o),s=r.newAgStackInstance();s.then((function(t){n.alive?(n.dateComp=t,t&&(i.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),n.tempValue&&t.setDate(n.tempValue),null!=n.disabled&&n.setDateCompDisabled(n.disabled))):e.destroyBean(t)}))}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setDisabled=function(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e},e.prototype.setDisplayed=function(e){Ai(this.eParent,e)},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e.prototype.setInputAriaLabel=function(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)},e.prototype.afterGuiAttached=function(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)},e.prototype.setDateCompDisabled=function(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)},e}(),dr=function(){return dr=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},dr.apply(this,arguments)},pr=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e),this.checkForDeprecatedParams()},e.prototype.checkForDeprecatedParams=function(){this.filterOptions.some((function(e){return"string"!=typeof e&&null!=e.test}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some((function(e){return"string"!=typeof e&&null!=e.hideFilterInput}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){if("string"!==typeof t){var o=[["displayKey"],["displayName"],["predicate","test"]],i=function(e){return!!e.some((function(e){return null!=t[e]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+e+"'"),!1)};if(o.every(i)){var n=t.test,r=dr({},t);null!=n&&null==t.predicate&&(r.predicate=function(e,t){return n(e[0],t)},delete r.test),r.hideFilterInput&&null==r.numberOfInputs&&(r.numberOfInputs=0,delete r.hideFilterInput),e.customFilterOptions[t.displayKey]=r}else e.filterOptions=e.filterOptions.filter((function(e){return e===t}))||[]}}))},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"===typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),hr={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},fr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gr=function(){return gr=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},gr.apply(this,arguments)},mr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vr=function(e){function t(t,o){void 0===o&&(o={});var i=e.call(this)||this;return i.eFocusableElement=t,i.callbacks=o,i.callbacks=gr({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(e){if(!e.defaultPrevented){var t=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())}}},o),i}return fr(t,e),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",(function(e){e.defaultPrevented||Ke(e)||(t.callbacks.shouldStopEventPropagation(e)?Ue(e):e.key===bn.TAB?t.callbacks.onTabKeyDown(e):t.callbacks.handleKeyDown&&t.callbacks.handleKeyDown(e))}))},t.FOCUS_MANAGED_CLASS="ag-focus-managed",mr([se("focusService")],t.prototype,"focusService",void 0),mr([ie],t.prototype,"postConstruct",null),t}(tt),yr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Cr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},br=function(e){function t(t){var o=e.call(this)||this;return o.filterNameKey=t,o.applyActive=!1,o.hidePopup=null,o.appliedModel=null,o}return yr(t,e),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new vr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);var o='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(o,e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then((function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(!(!t||t.length<1||this.isReadOnly())){var o=document.createElement("div");o.classList.add("ag-filter-apply-panel");var i=function(t){var i,n;switch(t){case"apply":i=e.translate("applyFilter"),n=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":i=e.translate("clearFilter"),n=function(){return e.onBtClear()};break;case"reset":i=e.translate("resetFilter"),n=function(){return e.onBtReset()};break;case"cancel":i=e.translate("cancelFilter"),n=function(t){e.onBtCancel(t)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var r="apply"===t?"submit":"button",s=Ki('<button\n                    type="'+r+'"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+i+"\n                </button>");o.appendChild(s),e.addManagedListener(s,"click",n)};Gn(t).forEach((function(e){return i(e)})),this.getGui().appendChild(o)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=K(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var t=this,o=null!=e?this.setModelIntoUi(e):this.resetUiToDefaults();return o.then((function(){t.updateUiVisibility(),t.applyModel("api")}))},t.prototype.onBtCancel=function(e){var t=this,o=this.getModel(),i=function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)};null!=o?this.setModelIntoUi(o).then(i):this.resetUiToDefaults().then(i)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then((function(){return e.onUiChanged()}))},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var t=this.getModelFromUi();if(!this.isModelValid(t))return!1;var o=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(o,t)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),o&&o.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t});var i=this.providedFilterParams.closeOnApply;i&&this.applyActive&&!e&&!t&&this.close(o)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var t,o=e,i=o&&o.key;"Enter"!==i&&"Space"!==i||(t={keyboardEvent:o}),this.hidePopup(t),this.hidePopup=null}},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var o=this.isModelValid(this.getModelFromUi());Li(this.getRefElement("applyFilterButton"),!o)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,o){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:o},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){var t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,e.prototype.destroy.call(this)},t.prototype.translate=function(e){var t=this.localeService.getLocaleTextFunc();return t(e,hr[e])},t.prototype.getCellValue=function(e){var t=this.providedFilterParams,o=t.api,i=t.colDef,n=t.column,r=t.columnApi,s=t.context;return this.providedFilterParams.valueGetter({api:o,colDef:i,column:n,columnApi:r,context:s,data:e.data,getValue:function(t){return e.data[t]},node:e})},Cr([se("rowModel")],t.prototype,"rowModel",void 0),Cr([ie],t.prototype,"postConstruct",null),t}(tr),wr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Er=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sr=function(e){function t(t,o){var i=e.call(this,o)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=t||{},i}return wr(t,e),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,t=e.labelSeparator,o=e.label,i=e.labelWidth,n=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=o&&this.setLabel(o),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){ji(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Ai(this.eLabel,!1),co(this.eLabel,"presentation")):(Ai(this.eLabel,!0),co(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui(),o=t.classList;return o.toggle("ag-label-align-left","left"===e),o.toggle("ag-label-align-right","right"===e),o.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||rn(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return Li(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},Er([ie],t.prototype,"postConstruct",null),t}(tr),Rr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Or=function(e){function t(t,o,i){var n=e.call(this,t,o)||this;return n.className=i,n}return Rr(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var o=this;return this.addManagedListener(this,t.EVENT_CHANGED,(function(){return e(o.getValue())})),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return sn(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,o){return this.value===e||(this.previousValue=this.value,this.value=e,o||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.EVENT_CHANGED="valueChange",t}(Sr),Tr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_r=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pr=function(e){function t(t,o,i,n){var r=e.call(this,t,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(n?'role="'+n+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',o)||this;return r.pickerIcon=i,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return Tr(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var o=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",o),Co(this.eWrapper,o);var i=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},n=this.getGui();if(this.addManagedListener(n,"mousedown",(function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&Ui(t.pickerComponent.getGui())&&n.contains(e.target)&&(t.skipClick=!0)})),this.addManagedListener(n,"keydown",(function(e){switch(e.key){case bn.UP:case bn.DOWN:case bn.ENTER:case bn.SPACE:i();case bn.ESCAPE:t.isPickerDisplayed&&e.preventDefault();break}})),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon){var r=yn(this.pickerIcon,this.gridOptionsService);r&&this.eIcon.appendChild(r)}},t.prototype.refreshLabel=function(){s(this.getLabel())?vo(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return mo(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return rn(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},_r([or("eLabel")],t.prototype,"eLabel",void 0),_r([or("eWrapper")],t.prototype,"eWrapper",void 0),_r([or("eDisplayField")],t.prototype,"eDisplayField",void 0),_r([or("eIcon")],t.prototype,"eIcon",void 0),t}(Or),Dr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ar=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mr=function(e){function t(t){void 0===t&&(t="default");var o=e.call(this,'<div class="ag-list ag-'+t+'-list" role="listbox"></div>')||this;return o.cssIdentifier=t,o.options=[],o.itemEls=[],o}return Dr(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var t=e.key;switch(t){case bn.ENTER:if(this.highlightedEl){var o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case bn.DOWN:case bn.UP:var i=t===bn.DOWN,n=void 0;if(e.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl),s=r+(i?1:-1);s=Math.min(Math.max(s,0),this.itemEls.length-1),n=this.itemEls[s]}else n=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(n);break}},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){var t=e.value,o=e.text,i=kt(o||t);return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((function(t,o){To(t,o+1),Oo(t,e.length)}))},t.prototype.renderOption=function(e,t){var o=this,i=document.createElement("div");co(i,"option"),i.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),i.innerHTML="<span>"+t+"</span>",i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",(function(){return o.highlightItem(i)})),this.addManagedListener(i,"mouseleave",(function(){return o.clearHighlighted()})),this.addManagedListener(i,"click",(function(){return o.setValue(e)})),this.getGui().appendChild(i)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var o=this.options.findIndex((function(t){return t.value===e}));if(-1!==o){var i=this.options[o];this.value=i.value,this.displayValue=null!=i.text?i.text:i.value,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=this.options.findIndex((function(t){return t.value===e.value}));-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),No(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),No(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Or.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",Ar([ie],t.prototype,"init",null),t}(tr),Lr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fr=function(e){function t(t){return e.call(this,t,"ag-select","smallDown","listbox")||this}return Lr(t,e),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new Mr("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Mr.EVENT_ITEM_SELECTED,(function(){e.hideList&&e.hideList()})),this.listComponent.addManagedListener(this.listComponent,Or.EVENT_CHANGED,(function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()}))},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),o=this.gridOptionsService.getDocument(),i=this.addManagedListener(o.body,"wheel",(function(o){!t.contains(o.target)&&e.hideList&&e.hideList()})),n=this.addManagedListener(t,"focusout",(function(o){!t.contains(o.relatedTarget)&&e.hideList&&e.hideList()})),r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:!0,eChild:t,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,n(),i(),e.isAlive()&&(So(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:r("ariaLabelSelectField","Select Field")});return s&&(this.hideList=s.hideFunc),this.isPickerDisplayed=!0,rn(t,Gi(this.eWrapper)),So(this.eWrapper,!0),t.style.maxHeight=Ni(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,o,i){if(this.value===t)return this;i||this.listComponent.setValue(t,!0);var n=this.listComponent.getValue();return n===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,o))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),e.prototype.destroy.call(this)},xr([se("popupService")],t.prototype,"popupService",void 0),xr([ie],t.prototype,"init",null),t}(Pr),Nr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ir=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kr=function(e){function t(t,o,i,n){void 0===i&&(i="text"),void 0===n&&(n="input");var r=e.call(this,t,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+n+' ref="eInput" class="ag-input-field-input"></'+n+">\n                </div>\n            </div>",o)||this;return r.inputType=i,r.displayFieldTag=n,r}return Nr(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var t=this.config,o=t.width,i=t.value;null!=o&&this.setWidth(o),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.refreshLabel=function(){s(this.getLabel())?vo(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),e.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){return e.setValue(t.target.value)}))},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return rn(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var t=this.eInput;return t.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return hn(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return mo(this.eInput,e),this},t.prototype.setDisabled=function(t){return Li(this.eInput,t),e.prototype.setDisabled.call(this,t)},Ir([or("eLabel")],t.prototype,"eLabel",void 0),Ir([or("eWrapper")],t.prototype,"eWrapper",void 0),Ir([or("eInput")],t.prototype,"eInput",void 0),t}(Or),Gr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Hr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(function(e){e[e["One"]=0]="One",e[e["Two"]=1]="Two"})(sr||(sr={}));var Vr,Br,jr,Wr=function(){function e(e,t){this.localeService=e,this.optionsFactory=t}return e.prototype.getModelAsString=function(e){if(!e)return null;var t=null!=e.operator;if(t){var o=e,i=o||{},n=i.condition1,r=i.condition2,s=this.getModelAsString(n),a=this.getModelAsString(r);return[s,o.operator,a].join(" ")}if(e.type===zr.BLANK||e.type===zr.NOT_BLANK){var l=this.localeService.getLocaleTextFunc();return l(e.type,e.type)}var u=e,c=this.optionsFactory.getCustomOption(u.type),d=c||{},p=d.displayKey,h=d.displayName,f=d.numberOfInputs;return p&&h&&0===f?(this.localeService.getLocaleTextFunc()(p,h),h):this.conditionToString(u,c)},e}(),zr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gr(t,e),t.prototype.getNumberOfInputs=function(e){var o=this.optionsFactory.getCustomOption(e);if(o){var i=o.numberOfInputs;return null!=i?i:1}var n=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&n.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(sr.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(sr.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(sr.One),condition2:this.createCondition(sr.Two)}:this.createCondition(sr.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var o,i=!e.operator,n=!t.operator,r=!i&&n||i&&!n;if(r)return!1;if(i){var s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{var l=e,u=t;o=l.operator===u.operator&&this.areSimpleModelsEqual(l.condition1,u.condition1)&&this.areSimpleModelsEqual(l.condition2,u.condition2)}return o},t.prototype.setModelIntoUi=function(e){var t=e.operator;if(t){var o=e,i="OR"===o.operator;this.eJoinOperatorAnd.setValue(!i),this.eJoinOperatorOr.setValue(i),this.eType1.setValue(o.condition1.type),this.eType2.setValue(o.condition2.type),this.setConditionIntoUi(o.condition1,sr.One),this.setConditionIntoUi(o.condition2,sr.Two)}else{var n=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(n.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(n,sr.One),this.setConditionIntoUi(null,sr.Two)}return Kn.resolve()},t.prototype.doesFilterPass=function(e){var t=this,o=this.getModel();if(null==o)return!0;var i=o.operator,n=[];if(i){var r=o;n.push(r.condition1,r.condition2)}else n.push(o);var s=i&&"OR"===i?"some":"every";return n[s]((function(o){return t.individualConditionPasses(e,o)}))},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new pr,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.alwaysShowBothConditions=!!t.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return Ie(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions(),o=[this.eType1,this.eType2];t.forEach((function(t){var i="string"===typeof t?e.createBoilerplateListOption(t):e.createCustomListOption(t);o.forEach((function(e){return e.addOption(i)}))})),o.forEach((function(e){return e.setDisabled(t.length<=1)}))},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var t=e.displayKey,o=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:o?this.localeService.getLocaleTextFunc()(o.displayKey,o.displayName):this.translate(t)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(sr.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(sr.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,t=[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]],o=[this.eCondition1Body,this.eCondition2Body];t.forEach((function(t,o){var i=e.isConditionVisible(o),n=e.isConditionDisabled(o);t.forEach((function(e){e instanceof kr||e instanceof Fr?(e.setDisabled(n),e.setDisplayed(i)):(Li(e,n),Ai(e,i))}))})),o.forEach((function(t,o){Ai(t,e.isConditionBodyVisible(o))})),this.forEachInput((function(t,o,i,n){e.setElementDisplayed(t,o<n),e.setElementDisabled(t,e.isConditionDisabled(i))})),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(t){if(e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),!t||!t.suppressFocus&&!this.isReadOnly()){var o=this.getInputs()[0][0];if(!o)return;o instanceof kr&&o.getInputElement().focus()}},t.prototype.getPlaceholderText=function(e,t){var o=this.translate(e);if(V(this.filterPlaceholder)){var i=this.filterPlaceholder,n=0===t?this.eType1.getValue():this.eType2.getValue(),r=this.translate(n);o=i({filterOptionKey:n,filterOption:r,placeholder:o})}else"string"===typeof this.filterPlaceholder&&(o=this.filterPlaceholder);return o},t.prototype.resetPlaceholder=function(){var e=this,t=this.localeService.getLocaleTextFunc();this.forEachInput((function(o,i,n,r){if(o instanceof kr){var s=0===i&&r>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",a=0===i&&r>1?t("ariaFilterFromValue","Filter from value"):0===i?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");o.setInputPlaceholder(e.getPlaceholderText(s,n)),o.setInputAriaLabel(a)}}))},t.prototype.setElementValue=function(e,t,o){e instanceof kr&&e.setValue(null!=t?String(t):null,o)},t.prototype.setElementDisplayed=function(e,t){e instanceof tr&&Ai(e.getGui(),t)},t.prototype.setElementDisabled=function(e,t){e instanceof tr&&Li(e.getGui(),t)},t.prototype.attachElementOnChange=function(e,t){e instanceof kr&&e.onValueChange(t)},t.prototype.forEachInput=function(e){var t=this,o=this.getInputs();this.getConditionTypes().forEach((function(i,n){for(var r=t.getNumberOfInputs(i),s=0;s<o[n].length;s++){var a=o[n][s];null!=a&&e(a,s,n,r)}}))},t.prototype.isConditionVisible=function(e){return 0===e||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(e):!!this.alwaysShowBothConditions||this.isConditionUiComplete(e-1))},t.prototype.isConditionDisabled=function(e){return!!this.isReadOnly()||(!this.isConditionVisible(e)||0!==e&&!this.isConditionUiComplete(e-1))},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var t=this.getConditionTypes()[e],o=this.getNumberOfInputs(t);return o>0},t.prototype.isConditionUiComplete=function(e){var o=this.getConditionTypes()[e];return o!==t.EMPTY&&!this.getValues(e).some((function(e){return null==e}))},t.prototype.resetUiToDefaults=function(e){var t=this,o=this.localeService.getLocaleTextFunc(),i=o("ariaFilteringOperator","Filtering operator"),n="ag-simple-filter-and-or-"+this.getCompId(),r=this.optionsFactory.getDefaultOption();return this.eType1.setValue(r,e).setAriaLabel(i).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(i).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(n).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(n).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput((function(o){t.setElementValue(o,null,e),t.setElementDisabled(o,t.isReadOnly())})),this.resetPlaceholder(),Kn.resolve()},t.prototype.setConditionIntoUi=function(e,t){var o=this,i=this.mapValuesFromModel(e);this.forEachInput((function(e,n,r,s){r===t&&o.setElementValue(e,null!=i[n]?i[n]:null)}))},t.prototype.setValueFromFloatingFilter=function(e){var t=this;this.forEachInput((function(o,i,n,r){t.setElementValue(o,0===i&&0===n?e:null)}))},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t),this.forEachInput((function(o){e.attachElementOnChange(o,t)}))}},t.prototype.individualConditionPasses=function(e,t){var o=this.getCellValue(e.node),i=this.mapValuesFromModel(t),n=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(n,i,o);return null!=r?r:null==o?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,o,t,e)},t.prototype.evaluateCustomFilter=function(e,t,o){if(null!=e){var i=e.predicate;return null==i||t.some((function(e){return null==e}))?void 0:i(t,o)}},t.prototype.isBlank=function(e){return null==e||"string"===typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Hr([or("eOptions1")],t.prototype,"eType1",void 0),Hr([or("eOptions2")],t.prototype,"eType2",void 0),Hr([or("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),Hr([or("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Hr([or("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Hr([or("eCondition1Body")],t.prototype,"eCondition1Body",void 0),Hr([or("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(br),Ur=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ur(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,o,i){var n=this.comparator(),r=null!=e[0]?n(e[0],o):0;switch(i.type){case t.EQUALS:return 0===r;case t.NOT_EQUAL:return 0!==r;case t.GREATER_THAN:return r>0;case t.GREATER_THAN_OR_EQUAL:return r>=0;case t.LESS_THAN:return r<0;case t.LESS_THAN_OR_EQUAL:return r<=0;case t.IN_RANGE:var s=n(e[1],o);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0;case t.BLANK:return this.isBlank(o);case t.NOT_BLANK:return!this.isBlank(o);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(zr),Yr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),qr=function(){return qr=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},qr.apply(this,arguments)},Jr=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xr=1e3,$r=1/0,Qr=function(e){function t(t,o,i){var n=e.call(this,o,i)||this;return n.dateFilterParams=t,n}return Yr(t,e),t.prototype.conditionToString=function(e,t){var o=e.type,i=(t||{}).numberOfInputs,n=o==zr.IN_RANGE||2===i,r=wi(e.dateFrom),s=wi(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(n){var l=null!==r?bi(r,a):"null",u=null!==s?bi(s,a):"null";return l+"-"+u}return null!=r?bi(r,a):""+o},t}(Wr),Zr=function(e){function t(){var t=e.call(this,"dateFilter")||this;return t.minValidYear=Xr,t.maxValidYear=$r,t}return Yr(t,e),t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.dateCondition1FromComp.afterGuiAttached(t)},t.prototype.mapValuesFromModel=function(e){var t=e||{},o=t.dateFrom,i=t.dateTo,n=t.type;return[o&&wi(o)||null,i&&wi(i)||null].slice(0,this.getNumberOfInputs(n))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){var o=t;return null==t||o<e?-1:o>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t;var o=function(e,o){if(null!=t[e]){if(!isNaN(t[e]))return null==t[e]?o:Number(t[e]);console.warn("AG Grid: DateFilter "+e+" is not a number")}return o};this.minValidYear=o("minValidYear",Xr),this.maxValidYear=o("maxValidYear",$r),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents(),this.filterModelFormatter=new Qr(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateComponents=function(){var e=this,t=function(t){return new cr(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},t)};this.dateCondition1FromComp=t(this.eCondition1PanelFrom),this.dateCondition1ToComp=t(this.eCondition1PanelTo),this.dateCondition2FromComp=t(this.eCondition2PanelFrom),this.dateCondition2ToComp=t(this.eCondition2PanelTo),this.addDestroyFunc((function(){e.forEachInput((function(e){return e.destroy()}))}))},t.prototype.setElementValue=function(e,t,o){e.setDate(t)},t.prototype.setElementDisplayed=function(e,t){e.setDisplayed(t)},t.prototype.setElementDisabled=function(e,t){e.setDisabled(t)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===sr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(t){var o=this;if(!e.prototype.isConditionUiComplete.call(this,t))return!1;var i=function(e){return null!=e&&e.getUTCFullYear()>=o.minValidYear&&e.getUTCFullYear()<=o.maxValidYear},n=!0;return this.forEachInput((function(e,o,r,s){r!==t||!n||o>=s||(n=n&&i(e.getDate()))})),n},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],o={},i=this.getValues(e);return i.length>0&&(o.dateFrom=yi(i[0])),i.length>1&&(o.dateTo=yi(i[1])),qr({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t},o)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),o=e("ariaFilterValue","Filter Value");this.forEachInput((function(e){e.setInputPlaceholder(t),e.setInputAriaLabel(o)}))},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var t=[];return this.forEachInput((function(o,i,n,r){e===n&&i<r&&t.push(o.getDate())})),t},t.prototype.getModelAsString=function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""},t.DEFAULT_FILTER_OPTIONS=[Kr.EQUALS,Kr.GREATER_THAN,Kr.LESS_THAN,Kr.NOT_EQUAL,Kr.IN_RANGE,Kr.BLANK,Kr.NOT_BLANK],Jr([or("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),Jr([or("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),Jr([or("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),Jr([or("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),Jr([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Kr),es=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return es(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return null===e||void 0===e?void 0:e.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(e){var t,o=e.operator;if(o){var i=e;t=i.condition1}else t=e;this.lastType=t.type}else this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var t=e.operator;if(t)return!1;var o=e;return this.isTypeEditable(o.type)},t.prototype.init=function(e){this.optionsFactory=new pr,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveSingleInput=function(e){var t=this.optionsFactory.getCustomOption(e),o=(t||{}).numberOfInputs;return null==o||1==o},t.prototype.isTypeEditable=function(e){var t=[zr.IN_RANGE,zr.EMPTY,zr.BLANK,zr.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0},t}(tr),os=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),is=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ns=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return os(t,e),t.prototype.getDefaultFilterOptions=function(){return Zr.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent();var o=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new Qr(this.filterParams,this.localeService,this.optionsFactory)},t.prototype.setEditable=function(e){Ai(this.eDateWrapper,e),Ai(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,o){if(!this.isEventFromFloatingFilter(o)&&!this.isEventFromDataChange(o)){e.prototype.setLastTypeFromModel.call(this,t);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(i),i){if(t){var n=t;this.dateComp.setDate(wi(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}},t.prototype.onDateChanged=function(){var e=this,t=this.dateComp.getDate(),o=yi(t);this.params.parentFilterInstance((function(t){if(t){var i=wi(o);t.onFloatingFilterChanged(e.getLastType()||null,i)}}))},t.prototype.createDateComponent=function(){var e=this,t=br.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o={onDateChanged:K(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new cr(this.getContext(),this.userComponentFactory,o,this.eDateWrapper),this.addDestroyFunc((function(){return e.dateComp.destroy()}))},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},is([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),is([or("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),is([or("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(ts),rs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ss=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},as=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return rs(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this,o=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);n&&(i.type="date");var r=n&&Ko();this.addManagedListener(i,"mousedown",(function(){t.eDateInput.isDisabled()||r||i.focus()})),this.addManagedListener(i,"input",(function(i){i.target===o.activeElement&&(t.eDateInput.isDisabled()||e.onDateChanged())}));var s=e.filterParams||{},a=s.minValidYear,l=s.maxValidYear;a&&(i.min=a+"-01-01"),l&&(i.max=l+"-12-31")},t.prototype.getDate=function(){return wi(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(yi(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:qo()||Jo()||Ko()&&Yo()>=14.1},ss([or("eDateInput")],t.prototype,"eDateInput",void 0),t}(tr),ls=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),us=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ls(t,e),t.prototype.conditionToString=function(e,t){var o=(t||{}).numberOfInputs,i=e.type==zr.IN_RANGE||2===o;return i?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(Wr),ds=function(e){function t(){return e.call(this,"numberFilter")||this}return ls(t,e),t.prototype.mapValuesFromModel=function(e){var t=e||{},o=t.filter,i=t.filterTo,n=t.type;return[null==o?null:o,null==i?null:i].slice(0,this.getNumberOfInputs(n))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){this.numberFilterParams=t;var o=this.getAllowedCharPattern();if(o){var i={allowedCharPattern:o};this.resetTemplate({"eValue-index0-1":i,"eValue-index1-1":i,"eValue-index0-2":i,"eValue-index1-2":i})}e.prototype.setParams.call(this,t),this.filterModelFormatter=new cs(this.localeService,this.optionsFactory)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===sr.One?"1":"2",o=this.getAllowedCharPattern(),i=o?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <'+i+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+t+'"></'+i+">\n                <"+i+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+t+'"></'+i+">\n            </div>"},t.prototype.getValues=function(e){var t=this,o=[];return this.forEachInput((function(i,n,r,s){e===r&&n<s&&o.push(t.stringToFloat(i.getValue()))})),o},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"===typeof e)return e;var t=r(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],o={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(o.filter=i[0]),i.length>1&&(o.filterTo=i[1]),o},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){var e=(this.numberFilterParams||{}).allowedCharPattern;return e||(qo()?null:"\\d\\-\\.")},t.prototype.getModelAsString=function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""},t.DEFAULT_FILTER_OPTIONS=[Kr.EQUALS,Kr.NOT_EQUAL,Kr.LESS_THAN,Kr.LESS_THAN_OR_EQUAL,Kr.GREATER_THAN,Kr.GREATER_THAN_OR_EQUAL,Kr.IN_RANGE,Kr.BLANK,Kr.NOT_BLANK],us([or("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),us([or("eValue-index1-1")],t.prototype,"eValueTo1",void 0),us([or("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),us([or("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(Kr),ps=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hs=function(){return hs=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},hs.apply(this,arguments)},fs=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ps(t,e),t.prototype.conditionToString=function(e,t){var o=(t||{}).numberOfInputs,i=e.type==zr.IN_RANGE||2===o;return i?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(Wr),ms=function(e){function t(){return e.call(this,"textFilter")||this}return ps(t,e),t.trimInput=function(e){var t=e&&e.trim();return""===t?e:t},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(o){e.prototype.setParams.call(this,o),this.textFilterParams=o,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new gs(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(Wn.doOnce((function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")}),"textCustomComparator.deprecated"),function(t){var o=t.filterOption,i=t.value,n=t.filterText;return e(o,i,n)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var t=this.getConditionTypes()[e],o={filterType:this.getFilterType(),type:t},i=this.getValues(e);return i.length>0&&(o.filter=i[0]),i.length>1&&(o.filterTo=i[1]),o},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var o=this,i=[];return this.forEachInput((function(n,s,a,l){if(e===a&&s<l){var u=r(n.getValue()),c=(o.textFilterParams.trimInput?t.trimInput(u):u)||null;i.push(c),n.setValue(c,!0)}})),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===sr.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+t+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.mapValuesFromModel=function(e){var t=e||{},o=t.filter,i=t.filterTo,n=t.type;return[o||null,i||null].slice(0,this.getNumberOfInputs(n))},t.prototype.evaluateNullValue=function(e){var t=[zr.NOT_EQUAL,zr.NOT_CONTAINS,zr.BLANK];return!!e&&t.indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,t,o,i){var n=this,r=e.map((function(e){return n.formatter(e)}))||[],s=this.formatter(t),a=this.textFilterParams,l=a.api,u=a.colDef,c=a.column,d=a.columnApi,p=a.context,h=a.textFormatter;if(o.type===zr.BLANK)return this.isBlank(t);if(o.type===zr.NOT_BLANK)return!this.isBlank(t);var f={api:l,colDef:u,column:c,columnApi:d,context:p,node:i.node,data:i.data,filterOption:o.type,value:s,textFormatter:h};return r.some((function(e){return n.matcher(hs(hs({},f),{filterText:e}))}))},t.prototype.getModelAsString=function(e){var t;return null!==(t=this.filterModelFormatter.getModelAsString(e))&&void 0!==t?t:""},t.DEFAULT_FILTER_OPTIONS=[zr.CONTAINS,zr.NOT_CONTAINS,zr.EQUALS,zr.NOT_EQUAL,zr.STARTS_WITH,zr.ENDS_WITH,zr.BLANK,zr.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var o=e.filterOption,i=e.value,n=e.filterText;if(null==n)return!1;switch(o){case t.CONTAINS:return i.indexOf(n)>=0;case t.NOT_CONTAINS:return i.indexOf(n)<0;case t.EQUALS:return i===n;case t.NOT_EQUAL:return i!=n;case t.STARTS_WITH:return 0===i.indexOf(n);case t.ENDS_WITH:var r=i.lastIndexOf(n);return r>=0&&r===i.length-n.length;default:return!1}},fs([or("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),fs([or("eValue-index1-1")],t.prototype,"eValueTo1",void 0),fs([or("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),fs([or("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(zr),vs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ys=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vs(t,e),t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getFilterModelFormatter().getModelAsString(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=br.isUseApplyButton(this.params.filterParams);var o=this.params.filterParams.allowedCharPattern;if(null!=o&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:o}}),!this.isReadOnly()){var i=br.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=K(this.syncUpWithParentFilter.bind(this),i),r=this.eFloatingFilterInput.getGui();this.addManagedListener(r,"input",n),this.addManagedListener(r,"keypress",n),this.addManagedListener(r,"keydown",n)}var s=t.column.getDefinition();(this.isReadOnly()||s.filterParams&&s.filterParams.filterOptions&&1===s.filterParams.filterOptions.length&&"inRange"===s.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var a=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),l=this.localeService.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(a+" "+l("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var t=this,o=e.key===bn.ENTER;if(!this.applyActive||o){var i=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(i=ms.trimInput(i),this.eFloatingFilterInput.setValue(i,!0)),this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType()||null,i||null)}))}},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},ys([se("columnModel")],t.prototype,"columnModel",void 0),ys([or("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),ys([ie],t.prototype,"postConstruct",null),t}(ts),bs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ws=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bs(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.filterModelFormatter=new cs(this.localeService,this.optionsFactory)},t.prototype.getDefaultFilterOptions=function(){return ds.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t}(Cs),Es=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ss=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Es(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.filterModelFormatter=new gs(this.localeService,this.optionsFactory)},t.prototype.getDefaultFilterOptions=function(){return ms.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t}(Cs),Rs=function(){function e(e,t){var o=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new fe,this.eElement=e,this.preventMouseClick=t;var i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push((function(){o.eElement.removeEventListener("touchstart",i,{passive:!0}),o.eElement.removeEventListener("touchmove",n,{passive:!0}),o.eElement.removeEventListener("touchend",r,{passive:!1})}))}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){var o=e[t].identifier===this.touchStart.identifier;if(o)return e[t]}return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var o=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout((function(){var n=o.touchStart===i;if(o.touching&&n&&!o.moved){o.moved=!0;var r={type:e.EVENT_LONG_TAP,touchStart:o.touchStart,touchEvent:t};o.eventService.dispatchEvent(r)}}),500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t){var o=!xn(t,this.touchStart,4);o&&(this.moved=!0)}}},e.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var o={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(o),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){var o=t-this.lastTapTime;if(o>e.DOUBLE_TAP_MILLIS){var i={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach((function(e){return e()}))},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),Os=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ts=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_s=function(e){function t(o){var i=e.call(this)||this;return o||i.setTemplate(t.TEMPLATE),i}return Os(t,e),t.prototype.attachCustomElements=function(e,t,o,i,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=o,this.eSortMixed=i,this.eSortNone=n},t.prototype.setupSort=function(e,t){var o=this;void 0===t&&(t=!1),this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator();var i=!!this.column.getColDef().sortable;i&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,at.EVENT_SORT_CHANGED,(function(){return o.onSortChanged()})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return o.onSortChanged()})),this.onSortChanged())},t.prototype.addInIcon=function(e,t,o){if(null!=t){var i=yn(e,this.gridOptionsService,o);i&&t.appendChild(i)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var t="asc"===e;Ai(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){var o="desc"===e;Ai(this.eSortDesc,o,{skipAriaHidden:!0})}if(this.eSortNone){var i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),n=null===e||void 0===e;Ai(this.eSortNone,!i&&n,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var t=this.column.getColDef().showRowGroup,o=this.gridOptionsService.isColumnsSortingCoupledToGroup();o&&t&&(this.addManagedListener(this.eventService,at.EVENT_SORT_CHANGED,(function(){return e.updateMultiSortIndicator()})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.updateMultiSortIndicator()})),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);Ai(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e,t=this;if(this.eSortOrder){var o=this.sortController.getColumnsWithSortingOrdered(),i=null!==(e=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==e?e:-1,n=o.some((function(e){var o;return null!==(o=t.sortController.getDisplaySortIndexForColumn(e))&&void 0!==o&&o})),r=i>=0&&n;Ai(this.eSortOrder,r,{skipAriaHidden:!0}),i>=0?this.eSortOrder.innerHTML=(i+1).toString():ji(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Ts([or("eSortOrder")],t.prototype,"eSortOrder",void 0),Ts([or("eSortAsc")],t.prototype,"eSortAsc",void 0),Ts([or("eSortDesc")],t.prototype,"eSortDesc",void 0),Ts([or("eSortMixed")],t.prototype,"eSortMixed",void 0),Ts([or("eSortNone")],t.prototype,"eSortNone",void 0),Ts([se("columnModel")],t.prototype,"columnModel",void 0),Ts([se("sortController")],t.prototype,"sortController",void 0),t}(tr),Ps=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ds=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},As=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return Ps(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)))},t.prototype.workOutTemplate=function(){var e=Re(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e,e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var t=kt(this.currentDisplayName);this.eText&&(this.eText.innerHTML=t)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,o){if(null!=t){var i=yn(e,this.gridOptionsService,o);i&&t.appendChild(i)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsService;if(!t.is("suppressTouch")){var o=new Rs(this.getGui(),!0),i=t.is("suppressMenuHide"),n=i&&s(this.eMenu),r=n?new Rs(this.eMenu,!0):o;if(this.params.enableMenu){var a=n?"EVENT_TAP":"EVENT_LONG_TAP",l=function(o){t.api.showColumnMenuAfterMouseClick(e.params.column,o.touchStart)};this.addManagedListener(r,Rs[a],l)}if(this.params.enableSorting){var u=function(t){var o=t.touchStart.target;i&&e.eMenu.contains(o)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(o,Rs.EVENT_TAP,u)}this.addDestroyFunc((function(){return o.destroy()})),n&&this.addDestroyFunc((function(){return r.destroy()}))}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.is("suppressMenuHide"),t=$o()&&e,o=this.params.enableMenu&&!t;return o},t.prototype.setMenu=function(){var e=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var t=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",(function(){return e.showMenu(e.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",t)}else zi(this.eMenu)},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new _s(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var t="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,be.EVENT_MOVING_CHANGED,(function(){e.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(o){var i=e.params.column.isMoving(),n=(new Date).getTime(),r=n-e.lastMovingChanged<50,s=i||r;if(!s){var a=t?o.ctrlKey||o.metaKey:o.shiftKey;e.params.progressSort(a)}}));var o=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var t=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=null===t||void 0===t?void 0:t.every((function(t){return e.params.column.getSort()==t.getSort()})),i=!o;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedListener(this.eventService,at.EVENT_SORT_CHANGED,o),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,o)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,be.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();Ai(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Ds([se("sortController")],t.prototype,"sortController",void 0),Ds([se("menuFactory")],t.prototype,"menuFactory",void 0),Ds([se("columnModel")],t.prototype,"columnModel",void 0),Ds([or("eFilter")],t.prototype,"eFilter",void 0),Ds([or("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Ds([or("eMenu")],t.prototype,"eMenu",void 0),Ds([or("eLabel")],t.prototype,"eLabel",void 0),Ds([or("eText")],t.prototype,"eText",void 0),Ds([or("eSortOrder")],t.prototype,"eSortOrder",void 0),Ds([or("eSortAsc")],t.prototype,"eSortAsc",void 0),Ds([or("eSortDesc")],t.prototype,"eSortDesc",void 0),Ds([or("eSortMixed")],t.prototype,"eSortMixed",void 0),Ds([or("eSortNone")],t.prototype,"eSortNone",void 0),t}(tr),Ms=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ls=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xs=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Ms(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;if(e.template){var t="AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)";G((function(){return console.warn(t)}),"HeaderGroupComp.templateNotSupported")}},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!Ke(t)){var o=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),o,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var o=function(e){Ue(e)};this.addManagedListener(this.eCloseIcon,"dblclick",o),this.addManagedListener(this.eOpenIcon,"dblclick",o),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,Ee.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,Ee.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var o=new Rs(e,!0);this.addManagedListener(o,Rs.EVENT_TAP,t),this.addDestroyFunc((function(){return o.destroy()})),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var t=this.params.columnGroup.isExpanded();Ai(this.eOpenIcon,t),Ai(this.eCloseIcon,!t)}else Ai(this.eOpenIcon,!1),Ai(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var o=yn(e,this.gridOptionsService,null);o&&this.getRefElement(t).appendChild(o)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Ai(this.eOpenIcon,!1),void Ai(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(s(e)){var t=kt(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Ls([se("columnModel")],t.prototype,"columnModel",void 0),Ls([or("agOpened")],t.prototype,"eOpenIcon",void 0),Ls([or("agClosed")],t.prototype,"eCloseIcon",void 0),t}(tr),Fs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fs(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){t.addCssClass("ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent,o=t&&t.isAlive();o&&t.getGui().classList.remove("ag-has-popup"),e.prototype.destroy.call(this)},t}(tr),Is=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ks=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gs=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Is(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),s(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.key;(t===bn.LEFT||t===bn.UP||t===bn.RIGHT||t===bn.DOWN||e.shiftKey&&t===bn.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',ks([or("eTextArea")],t.prototype,"eTextArea",void 0),t}(Ns),Hs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Vs=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bs=function(e){function t(){var t=e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return t.startedByEnter=!1,t}return Hs(t,e),t.prototype.init=function(e){var t=this;if(this.focusAfterAttached=e.cellStartedEdit,a(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===bn.ENTER;var o=!1;e.values.forEach((function(i){var n={value:i},r=t.valueFormatterService.formatValue(e.column,null,i),s=null!==r&&void 0!==r;n.text=s?r:i,t.eSelect.addOption(n),o=o||e.value===i})),o?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.eSelect.onValueChange((function(){return e.stopEditing()}))}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},Vs([se("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Vs([or("eSelect")],t.prototype,"eSelect",void 0),t}(Ns),js=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ws=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zs=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return js(t,e),t.prototype.init=function(e){this.params=e;var t,o=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===bn.BACKSPACE||e.eventKey===bn.DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.eventKey!==bn.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e)),null!=t&&o.setValue(t,!0),null!=e.maxLength&&o.setMaxLength(e.maxLength),this.addManagedListener(o.getGui(),"keydown",(function(e){var t=e.key;t!==bn.PAGE_UP&&t!==bn.PAGE_DOWN||e.preventDefault()}))},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Ko()||t.getFocusableElement().focus();var o=t.getInputElement();if(this.highlightAllOnFocus)o.select();else{var i=t.getValue(),n=s(i)&&i.length||0;n&&o.setSelectionRange(n,n)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()},t.prototype.getValue=function(){var e=this.eInput;return this.params.parseValue(e.getValue())},t.prototype.getStartValue=function(e){var t=e.useFormatter||e.column.getColDef().refData;return t?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',Ws([or("eInput")],t.prototype,"eInput",void 0),t}(Ns),Us=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ks=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ys="â",qs="â",Js=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o}return Us(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var o=Math.abs(t),i=e.formatValue(o),n=s(i)?i:o,r=t>=0;this.eDelta.innerHTML=r?Ys+n:qs+n,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),ji(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t===this.lastValue)return!1;if(s(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:s(e.value)?this.eValue.innerHTML=t:ji(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof t&&"number"===typeof this.lastValue){var o=t-this.lastValue;this.showDelta(e,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',Ks([se("filterManager")],t.prototype,"filterManager",void 0),t}(tr),Xs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$s=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qs=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o.eCurrent=o.queryForHtmlElement(".ag-value-slide-current"),o}return Xs(t,e),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Ki('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){t===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)},t.prototype.refresh=function(e){var t=e.value;return a(t)&&(t=""),t!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=t,s(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:s(e.value)?this.eCurrent.innerHTML=t:ji(this.eCurrent),!0))},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',$s([se("filterManager")],t.prototype,"filterManager",void 0),t}(tr),Zs=function(){return Zs=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Zs.apply(this,arguments)},ea=function(){function e(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=t}return e.prototype.setData=function(e){this.setDataCommon(e,!1)},e.prototype.updateData=function(e){this.setDataCommon(e,!0)},e.prototype.setDataCommon=function(e,t){var o=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var i=this.createDataChangedEvent(e,o,t);this.dispatchLocalEvent(i)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,o,i){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:o,newData:t,update:i}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var o=s(this.id)?this.createDaemonNode():null,i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.beans.selectionService.syncInRowNode(this,o),this.checkRowSelectable();var n=this.createDataChangedEvent(e,i,!1);this.dispatchLocalEvent(n)},e.prototype.checkRowSelectable=function(){var e=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!e||e(this))},e.prototype.setRowSelectable=function(t){if(this.selectable!==t){this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED));var o=this.beans.gridOptionsService.is("groupSelectsChildren");if(o){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!==i&&void 0!==i&&i,source:"selectableChanged"})}}},e.prototype.setId=function(t){var o=this.beans.gridOptionsService.getRowIdFunc();if(o)if(this.data){var i=this.getGroupKeys(!0);this.id=o({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"===typeof this.id&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!==typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},e.prototype.getGroupKeys=function(e){void 0===e&&(e=!1);var t=[],o=this;e&&(o=o.parent);while(o&&o.level>=0)t.push(o.key),o=o.parent;return t.reverse(),t},e.prototype.isPixelInRange=function(e){return!(!s(this.rowTop)||!s(this.rowHeight))&&(e>=this.rowTop&&e<this.rowTop+this.rowHeight)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},e.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},e.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DISPLAYED_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_GROUP_CHANGED)))},e.prototype.setRowHeight=function(t,o){void 0===o&&(o=!1),this.rowHeight=t,this.rowHeightEstimated=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowAutoHeight=function(e,t){this.__autoHeights||(this.__autoHeights={});var o=this.__autoHeights;o[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=K(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},e.prototype.checkAutoHeights=function(){var e=!1,t=!0,o=0,i=this.__autoHeights;if(null!=i){var n=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(n.forEach((function(n){var r=i[n.getId()];null!=r?(t=!1,r>o&&(o=r)):e=!0})),!e&&((t||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o!=this.rowHeight)){this.setRowHeight(o);var r=this.beans.rowModel;r.onRowHeightChangedDebounced&&r.onRowHeightChangedDebounced()}}},e.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED)))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t,o){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(at.EVENT_ROW_GROUP_OPENED),{expanded:t,event:o||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t,o){var i=this.beans.columnModel.getPrimaryColumn(e),n=this.beans.valueService.getValue(i,this);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(i,n,t,o),!1;var r=this.beans.valueService.setValue(this,i,t,o);return this.dispatchCellChangedEvent(i,t,n),this.checkRowSelectable(),r},e.prototype.dispatchEventForSaveValueReadOnly=function(e,t,o,i){var n={type:at.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:e,colDef:e.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:t,newValue:o,value:o,source:i};this.beans.eventService.dispatchEvent(n)},e.prototype.setGroupValue=function(e,t){var o=this.beans.columnModel.getGridColumn(e);a(this.groupData)&&(this.groupData={});var i=o.getColId(),n=this.groupData[i];n!==t&&(this.groupData[i]=t,this.dispatchCellChangedEvent(o,t,n))},e.prototype.setAggData=function(e){var t=this,o=_([this.aggData,e]),i=this.aggData;this.aggData=e,this.eventService&&o.forEach((function(e){var o=t.beans.columnModel.getGridColumn(e),n=t.aggData?t.aggData[e]:void 0,r=i?i[e]:void 0;t.dispatchCellChangedEvent(o,n,r)}))},e.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,o=this.beans.gridOptionsService.isRowModelType("serverSide");if(o){var i=this.beans.gridOptionsService.isTreeData(),n=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(i?!!n&&n(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HAS_CHILDREN_CHANGED)))},e.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},e.prototype.isEmptyRowGroupNode=function(){return this.group&&l(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,o,i){var n={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:o,oldValue:i};this.dispatchLocalEvent(n)},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e,t=!1,o=!1,i=!1;if(!(null===(e=this.childrenAfterGroup)||void 0===e?void 0:e.length))return this.selectable?this.selected:null;for(var n=0;n<this.childrenAfterGroup.length;n++){var r=this.childrenAfterGroup[n],s=r.isSelected();if(!r.selectable){var a=r.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:t=!0;break;case!1:o=!0;break;default:i=!0;break}}return i||t&&o?void 0:!!t||!o&&(this.selectable?this.selected:null)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,o,i){void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===i&&(i="api"),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:o,rangeSelect:!1,source:i})},e.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},e.prototype.setSelectedParams=function(e){var t,o,i=this.beans.gridOptionsService.is("groupSelectsChildren"),n=!0===e.newValue,r=!0===e.clearSelection,s=!0===e.suppressFinishActions,a=!0===e.rangeSelect,l=i&&!0===e.groupSelectsFiltered,u=null!==(t=e.source)&&void 0!==t?t:"api";if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(a&&this.beans.selectionService.getLastSelectedNode()){var c=this.beans.selectionService.getLastSelectedNode()!==this,d="multiple"===this.beans.gridOptionsService.get("rowSelection");if(c&&d){var p=this.doRowRangeSelection(e.newValue,u);return this.beans.selectionService.setLastSelectedNode(this),p}}var h=0,f=l&&this.group;if(!f){var g=this.selectThisNode(n,e.event,u);g&&h++}if(i&&(null===(o=this.childrenAfterGroup)||void 0===o?void 0:o.length)&&(h+=this.selectChildNodes(n,l,u)),!s){var m=n&&(r||"multiple"!==this.beans.gridOptionsService.get("rowSelection"));if(m&&(h+=this.beans.selectionService.clearOtherNodes(this,u)),h>0){this.beans.selectionService.updateGroupsFromChildrenSelections(u);var v={type:at.EVENT_SELECTION_CHANGED,source:u};this.beans.eventService.dispatchEvent(v)}n&&this.beans.selectionService.setLastSelectedNode(this)}return h},e.prototype.doRowRangeSelection=function(e,t){var o=this;void 0===e&&(e=!0);var i=this.beans.gridOptionsService.is("groupSelectsChildren"),n=this.beans.selectionService.getLastSelectedNode(),r=this.beans.rowModel.getNodesInRangeForSelection(this,n),s=0;r.forEach((function(n){if(!(n.group&&i||!1===e&&o===n)){var r=n.selectThisNode(e,void 0,t);r&&s++}})),this.beans.selectionService.updateGroupsFromChildrenSelections(t);var a={type:at.EVENT_SELECTION_CHANGED,source:t};return this.beans.eventService.dispatchEvent(a),s},e.prototype.isParentOfNode=function(e){var t=this.parent;while(t){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t,o,i){void 0===i&&(i="api");var n=!this.selectable&&t,r=this.selected===t;if(n||r)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var s=Zs(Zs({},this.createGlobalRowEvent(at.EVENT_ROW_SELECTED)),{event:o||null,source:i});return this.beans.eventService.dispatchEvent(s),!0},e.prototype.selectChildNodes=function(e,t,o){var i=t?this.childrenAfterAggFilter:this.childrenAfterGroup;if(a(i))return 0;for(var n=0,r=0;r<i.length;r++)n+=i[r].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t,source:o});return n},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new fe),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService&&(this.eventService.removeEventListener(e,t),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){var t=this,o=!0,i=!1,n=null;while(o&&!i){var r=t.parent,a=s(r)&&t.firstChild;a?r.rowGroupColumn===e&&(i=!0,n=r):o=!1,t=r}return i?n:null},e.prototype.isFullWidthCell=function(){var e=this.getIsFullWidthCellFunc();return!!e&&e({rowNode:this})},e.prototype.getIsFullWidthCellFunc=function(){var e=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(e)return e;var t=this.beans.gridOptionsService.get("isFullWidthCell");return t?function(e){return t(e.rowNode)}:void 0},e.prototype.getRoute=function(){if(null!=this.key){var e=[],t=this;while(null!=t.key)e.push(t.key),t=t.parent;return e.reverse()}},e.prototype.createFooter=function(){var t=this;if(!this.sibling){var o=new e(this.beans);Object.keys(this).forEach((function(e){o[e]=t[e]})),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,o.id="rowGroupFooter_"+this.id,o.sibling=this,this.sibling=o}},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_GROUP_CHANGED="groupChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_DISPLAYED_CHANGED="displayedChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",e}(),ta=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),oa=function(){return oa=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},oa.apply(this,arguments)},ia=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},na=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return ta(t,e),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),o=void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(i+" ("+o+")")},t.prototype.onCheckedClicked=function(e){var t=this.gridOptionsService.is("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"checkboxSelected"});return o},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsService.is("groupSelectsFiltered"),o=this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t,event:e,source:"checkboxSelected"});return o},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(e){Ue(e)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(e){Ue(e);var o=t.eCheckbox.getValue(),i=t.eCheckbox.getPreviousValue();if(void 0===i||void 0===o){var n=t.onUncheckedClicked(e||{});0===n&&t.onCheckedClicked(e)}else o?t.onCheckedClicked(e):t.onUncheckedClicked(e||{})})),this.addManagedListener(this.rowNode,ea.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var o=this.gridOptionsService.get("isRowSelectable"),i=o||"function"===typeof this.getIsVisible();if(i){var n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,ea.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,ea.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e,t,o,i,n=this.rowNode.selectable,r=this.getIsVisible();if(n)if("function"===typeof r){var s=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,a=null===(t=this.column)||void 0===t?void 0:t.createColumnFunctionCallbackParams(this.rowNode);n=!!a&&r(oa(oa({},s),a))}else n=null!==r&&void 0!==r&&r;var l=null===(o=this.column)||void 0===o?void 0:o.getColDef().showDisabledCheckboxes;if(l)return this.eCheckbox.setDisabled(!n),this.setVisible(!0),void this.setDisplayed(!0);(null===(i=this.overrides)||void 0===i?void 0:i.removeHidden)?this.setDisplayed(n):this.setVisible(n)},t.prototype.getIsVisible=function(){var e,t;return this.overrides?this.overrides.isVisible:null===(t=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===t?void 0:t.checkboxSelection},ia([or("eCheckbox")],t.prototype,"eCheckbox",void 0),ia([ie],t.prototype,"postConstruct",null),t}(tr),ra=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sa=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},aa=function(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(e){e[e["ToolPanel"]=0]="ToolPanel",e[e["HeaderCell"]=1]="HeaderCell",e[e["RowDrag"]=2]="RowDrag",e[e["ChartPanel"]=3]="ChartPanel"})(Vr||(Vr={})),function(e){e[e["Up"]=0]="Up",e[e["Down"]=1]="Down"}(Br||(Br={})),function(e){e[e["Left"]=0]="Left",e[e["Right"]=1]="Right"}(jr||(jr={}));var la,ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var o;return ra(t,e),o=t,t.prototype.init=function(){this.ePinnedIcon=vn("columnMovePin",this.gridOptionsService,null),this.eHideIcon=vn("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=vn("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=vn("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=vn("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=vn("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=vn("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=vn("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=vn("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragService.addDragSource(o,t)},t.prototype.removeDragSource=function(e){var t=this.dragSourceAndParamsList.find((function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),Me(this.dragSourceAndParamsList,t))},t.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){return e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(e,t){var o,i,n,r,s=this,a=this.getHorizontalDirection(e),l=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var u=this.dropTargets.filter((function(t){return s.isMouseOnDropTarget(e,t)})),c=this.findCurrentDropTarget(e,u);if(c!==this.lastDropTarget)this.leaveLastTargetIfExists(e,a,l,t),null!==this.lastDropTarget&&null===c&&(null===(i=(o=this.dragSource).onGridExit)||void 0===i||i.call(o,this.dragItem)),null===this.lastDropTarget&&null!==c&&(null===(r=(n=this.dragSource).onGridEnter)||void 0===r||r.call(n,this.dragItem)),this.enterDragTargetIfExists(c,e,a,l,t),this.lastDropTarget=c;else if(c&&c.onDragging){var d=this.createDropTargetEvent(c,e,a,l,t);c.onDragging(d)}},t.prototype.getAllContainersFromDropTarget=function(e){var t=e.getSecondaryContainers?e.getSecondaryContainers():null,o=[[e.getContainer()]];return t?o.concat(t):o},t.prototype.allContainersIntersect=function(e,t){var o,i;try{for(var n=aa(t),r=n.next();!r.done;r=n.next()){var s=r.value,a=s.getBoundingClientRect();if(0===a.width||0===a.height)return!1;var l=e.clientX>=a.left&&e.clientX<a.right,u=e.clientY>=a.top&&e.clientY<a.bottom;if(!l||!u)return!1}}catch(c){o={error:c}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(e,t){var o,i,n=this.getAllContainersFromDropTarget(t),r=!1;try{for(var s=aa(n),a=s.next();!a.done;a=s.next()){var l=a.value;if(this.allContainersIntersect(e,l)){r=!0;break}}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return!(t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement))&&(r&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},t.prototype.findCurrentDropTarget=function(e,t){var o,i,n,r,s=t.length;if(0===s)return null;if(1===s)return t[0];var a=this.gridOptionsService.getRootNode(),l=a.elementsFromPoint(e.clientX,e.clientY);try{for(var u=aa(l),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(n=void 0,aa(t)),h=p.next();!h.done;h=p.next()){var f=h.value,g=ke(this.getAllContainersFromDropTarget(f));if(-1!==g.indexOf(d))return f}}catch(m){n={error:m}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}}}catch(v){o={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(e,t,o,i,n){if(e){if(e.onDragEnter){var r=this.createDropTargetEvent(e,t,o,i,n);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(e,t,o,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var n=this.createDropTargetEvent(this.lastDropTarget,e,t,o,i);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(e){this.dropTargets.push(e)},t.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter((function(t){return t.getContainer()!==e.getContainer()}))},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(e){return e.external}))},t.prototype.findExternalZone=function(e){var t=this.dropTargets.filter((function(e){return e.external}));return t.find((function(t){return t.getContainer()===e.getContainer()}))||null},t.prototype.getHorizontalDirection=function(e){var t=this.eventLastTime&&this.eventLastTime.clientX,o=e.clientX;return t===o?null:t>o?jr.Left:jr.Right},t.prototype.getVerticalDirection=function(e){var t=this.eventLastTime&&this.eventLastTime.clientY,o=e.clientY;return t===o?null:t>o?Br.Up:Br.Down},t.prototype.createDropTargetEvent=function(e,t,o,i,n){var r=e.getContainer(),s=r.getBoundingClientRect(),a=this,l=a.gridApi,u=a.columnApi,c=a.dragItem,d=a.dragSource,p=t.clientX-s.left,h=t.clientY-s.top;return{event:t,x:p,y:h,vDirection:i,hDirection:o,dragSource:d,fromNudge:n,dragItem:c,api:l,columnApi:u,dropZoneTarget:r}},t.prototype.positionGhost=function(e){var t=this.eGhost;if(t){var o=t.getBoundingClientRect(),i=o.height,n=ti()-2,r=oi()-2,s=e.pageY-i/2,a=e.pageX-10,l=this.gridOptionsService.getDocument(),u=l.defaultView||window,c=u.pageYOffset||l.documentElement.scrollTop,d=u.pageXOffset||l.documentElement.scrollLeft;n>0&&a+t.clientWidth>n+d&&(a=n+d-t.clientWidth),a<0&&(a=0),r>0&&s+t.clientHeight>r+c&&(s=r+c-t.clientHeight),s<0&&(s=0),t.style.left=a+"px",t.style.top=s+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Ki(o.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var e=this.environment.getTheme().theme;e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;V(i)&&(i=i()),t.innerHTML=kt(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var n=this.gridOptionsService.getDocument(),r=null;try{r=n.fullscreenElement}catch(l){}finally{if(!r){var s=this.gridOptionsService.getRootNode(),a=s.querySelector("body");r=a||(s instanceof ShadowRoot?s:null===s||void 0===s?void 0:s.documentElement)}}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(e,t){void 0===t&&(t=!1),ji(this.eGhostIcon);var i=null;switch(e||(e=this.dragSource.defaultIconName||o.ICON_NOT_ALLOWED),e){case o.ICON_PINNED:i=this.ePinnedIcon;break;case o.ICON_MOVE:i=this.eMoveIcon;break;case o.ICON_LEFT:i=this.eLeftIcon;break;case o.ICON_RIGHT:i=this.eRightIcon;break;case o.ICON_GROUP:i=this.eGroupIcon;break;case o.ICON_AGGREGATE:i=this.eAggregateIcon;break;case o.ICON_PIVOT:i=this.ePivotIcon;break;case o.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case o.ICON_HIDE:i=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),i===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns")||i&&this.eGhostIcon.appendChild(i)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',sa([se("dragService")],t.prototype,"dragService",void 0),sa([se("mouseEventService")],t.prototype,"mouseEventService",void 0),sa([se("columnApi")],t.prototype,"columnApi",void 0),sa([se("gridApi")],t.prototype,"gridApi",void 0),sa([ie],t.prototype,"init",null),sa([ne],t.prototype,"clearDragSourceParamsList",null),t=o=sa([re("dragAndDropService")],t),t}(tt),ca=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),da=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pa=function(e){function t(t,o,i,n,r,s){var a=e.call(this)||this;return a.cellValueFn=t,a.rowNode=o,a.column=i,a.customGui=n,a.dragStartPixels=r,a.suppressVisibilityChange=s,a.dragSource=null,a}return ca(t,e),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(yn("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsService.is("rowDragManaged")?new ga(this,this.beans,this.rowNode,this.column):new fa(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,t){this.setTemplateFromElement(e),this.addDragSource(t)},t.prototype.getSelectedNodes=function(){var e=this.beans.gridOptionsService.is("rowDragMultiRow");if(!e)return[this.rowNode];var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsService.is("rowDragManaged"),t=this.beans.gridOptionsService.isTreeData();t&&e&&G((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var t=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var o=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:Vr.RowDrag,eElement:this.getGui(),dragItemName:function(){var e,n=t.getDragItem(),r=(null===(e=n.rowNodes)||void 0===e?void 0:e.length)||1;return o?o(n,r):1===r?t.cellValueFn():r+" "+i("rowDragRows","rows")},getDragItem:function(){return t.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},da([se("beans")],t.prototype,"beans",void 0),da([ie],t.prototype,"postConstruct",null),da([ne],t.prototype,"removeDragSource",null),t}(tr),ha=function(e){function t(t,o,i){var n=e.call(this)||this;return n.parent=t,n.rowNode=o,n.column=i,n}return ca(t,e),t.prototype.setDisplayedOrVisible=function(e){var t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{var o=!0,i=!1;this.column&&(o=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=V(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(o,t)):(this.parent.setDisplayed(o,t),this.parent.setVisible(!0,t))}},t}(tt),fa=function(e){function t(t,o,i,n){var r=e.call(this,t,i,n)||this;return r.beans=o,r}return ca(t,e),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)},da([ie],t.prototype,"postConstruct",null),t}(ha),ga=function(e){function t(t,o,i,n){var r=e.call(this,t,i,n)||this;return r.beans=o,r}return ca(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,at.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,at.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),t=e.getRowDragFeature(),o=t&&t.shouldPreventRowMove(),i=this.beans.gridOptionsService.is("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),r=o&&!n||i;this.setDisplayedOrVisible(r)},da([ie],t.prototype,"postConstruct",null),t}(ha),ma=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),va=function(){return va=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},va.apply(this,arguments)},ya=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ma(t,e),t.prototype.init=function(e,t,o,i,n,r,s){this.params=s,this.eGui=t,this.eCheckbox=o,this.eExpanded=i,this.eContracted=n,this.comp=e,this.compClass=r;var a=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),u=null==s.value&&!s.node.master,c=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var d=s.node;if(d.footer){var p=s.colDef&&s.colDef.showRowGroup,h=d.rowGroupColumn&&d.rowGroupColumn.getColId();c=p!==h}}this.cellIsBlank=!a&&(l||u&&!s.node.master||c),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,t=e.node,o=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var i=function(){So(o,!!t.expanded)};this.expandListener=this.addManagedListener(t,ea.EVENT_EXPANDED_CHANGED,i)||null,i()}else Ro(o)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef,t=null==e;if(t)return!0;if(!0===e.showRowGroup)return!0;var o=this.columnModel.getRowGroupColumns();if(!o||0===o.length)return!0;var i=o[0];return i.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,t="right"===this.params.pinned,o=!e&&!t;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!t:!o:this.columnModel.isPinningLeft()?!e:!o},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){var o=t.parent;while(null!=o){if(o.rowGroupColumn&&e.isRowGroupDisplayed(o.rowGroupColumn.getId())){this.displayedGroupNode=o;break}o=o.parent}}a(this.displayedGroupNode)&&(this.displayedGroupNode=t)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,t=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(e.groupData){var o=null!=e.rowGroupColumn;if(o){var i=e.rowGroupColumn.getId(),n=t.isRowGroupDisplayed(i);if(n)return void(this.showingValueForOpenedParent=!1)}var r=null!=e.groupData[t.getId()];this.showingValueForOpenedParent=r}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),t=this.getInnerCompDetails(e),o=e.valueFormatted,i=e.value,n=o;if(null==n)if(""===i&&this.params.node.group){var r=this.localeService.getLocaleTextFunc();n=r("blanks","(Blanks)")}else n=i;this.comp.setInnerRenderer(t,n)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;var o=null!=t;if(o){var i=t.isRowGroupDisplayed(e.getId());if(!i)return this.params}var n=this.params,r=this.params,s=r.value,a=r.node,l=this.valueFormatterService.formatValue(e,a,s),u=va(va({},n),{valueFormatted:l});return u},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,t="";if(e){var o=b(this.params);o.value=this.params.value,"function"===typeof e?t=e(o):"string"===typeof e?t=this.expressionService.evaluate(e,o):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t="Total "+(null!=this.params.value?this.params.value:"");var i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,t)},t.prototype.getInnerCompDetails=function(e){var t=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var o=this.userComponentFactory.getInnerRendererDetails(e,e),i=function(e){return e&&e.componentClass==t.compClass};if(o&&!i(o))return o;var n=this.displayedGroupNode.rowGroupColumn,r=n?n.getColDef():void 0;if(r){var s=this.userComponentFactory.getCellRendererDetails(r,e);if(s&&!i(s))return s;if(i(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer){var a=this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,e);return a}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ea.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,t=this.isShowRowGroupForThisRow(),o=t&&null!=e&&e>=0,i=o?"("+e+")":"";this.comp.setChildCount(i)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var t=this.params.column,o=null==t||t.isRowGroupDisplayed(e.getId());return o},t.prototype.addExpandAndContract=function(){var e=this.params,t=yn("groupExpanded",this.gridOptionsService,null),o=yn("groupContracted",this.gridOptionsService,null);t&&this.eExpanded.appendChild(t),o&&this.eContracted.appendChild(o);var i=e.eGridCell;this.gridOptionsService.is("enableGroupEdit")||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(i,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(i,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,ea.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var n=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ea.EVENT_ALL_CHILDREN_COUNT_CHANGED,n),this.addManagedListener(this.displayedGroupNode,ea.EVENT_MASTER_CHANGED,n),this.addManagedListener(this.displayedGroupNode,ea.EVENT_GROUP_CHANGED,n),this.addManagedListener(this.displayedGroupNode,ea.EVENT_HAS_CHILDREN_CHANGED,n)},t.prototype.onExpandClicked=function(e){Ke(e)||(Ue(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var t=this.displayedGroupNode,o=!t.expanded;!o&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(o,e)},t.prototype.scrollToStickyNode=function(e){var t=this.ctrlsService.getGridBodyCtrl(),o=t.getScrollFeature();o.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup,o=e.isExpandable()&&!e.footer&&!t;if(!o)return!1;var i=this.params.column,n=null!=i&&"string"===typeof i.getColDef().showRowGroup;if(n){var r=this.isShowRowGroupForThisRow();return r}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,t=e.params,o=e.displayedGroupNode,i=e.columnModel,n=t.node,r=this.isExpandable();if(r){var s=!!this.showingValueForOpenedParent||n.expanded;this.comp.setExpandedDisplayed(s),this.comp.setContractedDisplayed(!s)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var a=i.isPivotMode(),l=a&&o.leafGroup,u=r&&!l,c=n.footer&&-1===n.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",u),this.comp.addOrRemoveCssClass("ag-row-group",u),a?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):c||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!u)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,t=this.params.suppressPadding;t||(this.addManagedListener(e,ea.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var e=this.params,t=e.node,o=!!e.colDef,i=this.gridOptionsService.isTreeData(),n=!o||i||!0===e.colDef.showRowGroup,r=n?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+r,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var t=new pa((function(){return e.params.value}),this.params.node);this.createManagedBean(t,this.context),this.eGui.insertAdjacentElement("afterbegin",t.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"===typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroupNode,o=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(o){var i=new na;this.getContext().createBean(i),i.init({rowNode:t,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc((function(){return e.getContext().destroyBean(i)}))}this.comp.setCheckboxVisible(o)},t.prototype.onKeyDown=function(e){var t=e.key===bn.ENTER;if(t&&!this.params.suppressEnterExpand){var o=this.params.column&&this.params.column.isCellEditable(this.params.node);o||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!Ke(e)){var t=Je(this.eExpanded,e)||Je(this.eContracted,e);t||this.onExpandOrContract(e)}},ya([se("expressionService")],t.prototype,"expressionService",void 0),ya([se("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ya([se("columnModel")],t.prototype,"columnModel",void 0),ya([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ya([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(tt),ba=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wa=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ea=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ba(t,e),t.prototype.init=function(e){var t=this,o={setInnerRenderer:function(e,o){return t.setRenderDetails(e,o)},setChildCount:function(e){return t.eChildCount.innerHTML=e},addOrRemoveCssClass:function(e,o){return t.addOrRemoveCssClass(e,o)},setContractedDisplayed:function(e){return Ai(t.eContracted,e)},setExpandedDisplayed:function(e){return Ai(t.eExpanded,e)},setCheckboxVisible:function(e){return t.eCheckbox.classList.toggle("ag-invisible",!e)}},i=this.createManagedBean(new Ca),n=!e.colDef,r=this.getGui();i.init(o,r,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),n&&co(r,"gridcell")},t.prototype.setRenderDetails=function(e,t){var o=this;if(e){var i=e.newAgStackInstance();if(!i)return;i.then((function(e){if(e){var t=function(){return o.context.destroyBean(e)};o.isAlive()?(o.eValue.appendChild(e.getGui()),o.addDestroyFunc(t)):t()}}))}else this.eValue.innerText=t},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',wa([or("eExpanded")],t.prototype,"eExpanded",void 0),wa([or("eContracted")],t.prototype,"eContracted",void 0),wa([or("eCheckbox")],t.prototype,"eCheckbox",void 0),wa([or("eValue")],t.prototype,"eValue",void 0),wa([or("eChildCount")],t.prototype,"eChildCount",void 0),t}(tr),Sa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ra=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Oa=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Sa(t,e),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=yn("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Ra([or("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),Ra([or("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(tr),Ta=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_a=function(e){function t(){return e.call(this)||this}return Ta(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o,i=null!==(o=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==o?o:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.localeService.getLocaleTextFunc(),r=i.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(r)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(tr),Pa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Da=function(e){function t(){return e.call(this)||this}return Pa(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o,i=null!==(o=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==o?o:t.DEFAULT_NO_ROWS_TEMPLATE,n=this.localeService.getLocaleTextFunc(),r=i.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(r)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(tr),Aa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ma=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return Aa(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=kt(t)},t}(Ns),La=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xa=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:as,agColumnHeader:As,agColumnGroupHeader:xs,agSortIndicator:_s,agTextColumnFloatingFilter:Ss,agNumberColumnFloatingFilter:ws,agDateColumnFloatingFilter:ns,agReadOnlyFloatingFilter:ur,agAnimateShowChangeCellRenderer:Js,agAnimateSlideCellRenderer:Qs,agGroupCellRenderer:Ea,agGroupRowRenderer:Ea,agLoadingCellRenderer:Oa,agCellEditor:zs,agTextCellEditor:zs,agSelectCellEditor:Bs,agLargeTextCellEditor:Gs,agTextColumnFilter:ms,agNumberColumnFilter:ds,agDateColumnFilter:Zr,agLoadingOverlay:_a,agNoRowsOverlay:Da,agTooltipComponent:Ma},t.enterpriseAgDefaultCompsModule={agSetColumnFilter:de.SetFilterModule,agSetColumnFloatingFilter:de.SetFilterModule,agMultiColumnFilter:de.MultiFilterModule,agMultiColumnFloatingFilter:de.MultiFilterModule,agGroupColumnFilter:de.RowGroupingModule,agGroupColumnFloatingFilter:de.RowGroupingModule,agRichSelect:de.RichSelectModule,agRichSelectCellEditor:de.RichSelectModule,agDetailCellRenderer:de.MasterDetailModule,agSparklineCellRenderer:de.SparklinesModule},t.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},t.jsComps={},t.fwComps={},t}return La(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&C(this.gridOptions.components,(function(t,o){return e.registerJsComponent(t,o)})),null!=this.gridOptions.frameworkComponents&&C(this.gridOptions.frameworkComponents,(function(t,o){return e.registerFwComponent(t,o)}))},t.prototype.registerDefaultComponent=function(e,t){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t},t.prototype.registerJsComponent=function(e,t){this.fwComps[e]?console.error("Trying to register a component that you have already registered for frameworks: "+e):this.jsComps[e]=t},t.prototype.registerFwComponent=function(e,t){var o="AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.";G((function(){return console.warn(o)}),"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[e]=t},t.prototype.retrieve=function(e){var t=this,o=function(e,t){return{componentFromFramework:t,component:e}},i=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=i)return o(i,!0);var n=this.fwComps[e];if(n)return o(n,!0);var r=this.jsComps[e];if(r){var s=this.getFrameworkOverrides().isFrameworkComponent(r);return o(r,s)}var a=this.agGridDefaults[e];if(a)return o(a,!1);var l=this.enterpriseAgDefaultCompsModule[e];return l?me.assertRegistered(l,"AG Grid component ["+e+"]"):this.deprecatedAgGridDefaults[e]?G((function(){return console.warn(t.deprecatedAgGridDefaults[e])}),e):G((function(){return console.warn("AG Grid: Looking for component ["+e+"] but it wasn't found. Have you registered the component? See https://ag-grid.com/javascript-data-grid/components/")}),"MissingComp"+e),null},xa([se("gridOptions")],t.prototype,"gridOptions",void 0),xa([ie],t.prototype,"init",null),t=xa([re("userComponentRegistry")],t),t}(tt),Na={propertyName:"dateComponent",cellRenderer:!1},Ia={propertyName:"headerComponent",cellRenderer:!1},ka={propertyName:"headerGroupComponent",cellRenderer:!1},Ga={propertyName:"cellRenderer",cellRenderer:!0},Ha={propertyName:"cellEditor",cellRenderer:!1},Va={propertyName:"innerRenderer",cellRenderer:!0},Ba={propertyName:"loadingOverlayComponent",cellRenderer:!1},ja={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Wa={propertyName:"tooltipComponent",cellRenderer:!1},za={propertyName:"filter",cellRenderer:!1},Ua={propertyName:"floatingFilterComponent",cellRenderer:!1},Ka={propertyName:"toolPanel",cellRenderer:!1},Ya={propertyName:"statusPanel",cellRenderer:!1},qa={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ja={propertyName:"loadingCellRenderer",cellRenderer:!0},Xa={propertyName:"groupRowRenderer",cellRenderer:!0},$a={propertyName:"detailCellRenderer",cellRenderer:!0},Qa=function(){function e(){}return e.getFloatingFilterType=function(e){return this.filterToFloatingFilterMapping[e]},e.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},e}(),Za=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),el=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Za(t,e),t.prototype.getHeaderCompDetails=function(e,t){return this.getCompDetails(e,Ia,"agColumnHeader",t)},t.prototype.getHeaderGroupCompDetails=function(e){var t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,ka,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,qa,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ja,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Xa,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,$a,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,t){return this.getCompDetails(e,Va,null,t)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,t){return this.getCompDetails(e,Va,null,t)},t.prototype.getCellRendererDetails=function(e,t){return this.getCompDetails(e,Ga,null,t)},t.prototype.getCellEditorDetails=function(e,t){return this.getCompDetails(e,Ha,"agCellEditor",t,!0)},t.prototype.getFilterDetails=function(e,t,o){return this.getCompDetails(e,za,o,t,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,Na,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Ba,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,ja,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Wa,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,t){return this.getCompDetails(e,Ga,null,t)},t.prototype.getFloatingFilterCompDetails=function(e,t,o){return this.getCompDetails(e,Ua,o,t)},t.prototype.getToolPanelCompDetails=function(e,t){return this.getCompDetails(e,Ka,null,t,!0)},t.prototype.getStatusPanelCompDetails=function(e,t){return this.getCompDetails(e,Ya,null,t,!0)},t.prototype.getCompDetails=function(e,t,o,i,n){var r=this;void 0===n&&(n=!1);var s=t.propertyName,a=t.cellRenderer,l=this.getCompKeys(e,t,i),u=l.compName,c=l.jsComp,d=l.fwComp,p=l.paramsFromSelector,h=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(e){var t=r.userComponentRegistry.retrieve(e);t&&(c=t.componentFromFramework?void 0:t.component,d=t.componentFromFramework?t.component:void 0)};if(null!=u&&g(u),null==c&&null==d&&null!=o&&g(o),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(s,c)),c||d){var m=this.mergeParamsWithApplicationProvidedParams(e,t,i,p),v=null==c,y=c||d;return{componentFromFramework:v,componentClass:y,params:m,type:t,popupFromSelector:h,popupPositionFromSelector:f,newAgStackInstance:function(){return r.newAgStackInstance(y,v,m,t)}}}n&&console.error("AG Grid: Could not find component "+u+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,t,o){var i,n,r,s,a,l,u=this,c=t.propertyName;if(e){var d=e,p=d[c+"Selector"],h=p?p(o):null,f=function(e,t){var o=function(){var e="AG Grid: As of v27, the property "+c+"Framework is deprecated. The property "+c+" can now be used for JavaScript AND Framework Components.";G((function(){return console.warn(e)}),"UserComponentFactory."+c+"FrameworkDeprecated")};if("string"===typeof e)i=e;else if("string"===typeof t)o(),i=t;else if(null!=e&&!0!==e){var s=u.getFrameworkOverrides().isFrameworkComponent(e);s?r=e:n=e}else null!=t&&(o(),r=t)};if(h){if(null!=h.frameworkComponent){var g="AG Grid: As of v27, the return for "+c+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";G((function(){return console.warn(g)}),"UserComponentFactory."+c+"FrameworkSelectorDeprecated"),f(h.frameworkComponent,void 0)}else f(h.component,void 0);s=h.params,a=h.popup,l=h.popupPosition}else f(d[c],d[c+"Framework"])}return{compName:i,jsComp:n,fwComp:r,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},t.prototype.newAgStackInstance=function(e,t,o,i){var n,r=i.propertyName,s=!t;if(s)n=new e;else{var a=this.componentMetadataProvider.retrieve(r);n=this.frameworkComponentWrapper.wrap(e,a.mandatoryMethodList,a.optionalMethodList,i)}var l=this.initComponent(n,o);return null==l?Kn.resolve(n):l.then((function(){return n}))},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,t,o,i){void 0===i&&(i=null);var n={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};D(n,o);var r=e,s=r&&r[t.propertyName+"Params"];if("function"===typeof s){var a=s(o);D(n,a)}else"object"===typeof s&&D(n,s);return D(n,i),n},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},t.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var t=null,o=this.getCompKeys(e,za),i=o.compName,n=o.jsComp,r=o.fwComp;if(i)t=Qa.getFloatingFilterType(i);else{var s=null==n&&null==r&&!0===e.filter;if(s){var a=me.isRegistered(de.SetFilterModule);t=a?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}}return t},el([se("gridOptions")],t.prototype,"gridOptions",void 0),el([se("agComponentUtils")],t.prototype,"agComponentUtils",void 0),el([se("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),el([se("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),el([ae("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=el([re("userComponentFactory")],t),t}(tt);
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e[e["SINGLE_SHEET"]=0]="SINGLE_SHEET",e[e["MULTI_SHEET"]=1]="MULTI_SHEET"})(la||(la={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var ol,il,nl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),rl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},sl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return nl(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement,o=e.mouseDownListener;if(t.removeEventListener("mousedown",o),e.touchEnabled){var i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}},t.prototype.removeDragSource=function(e){var t=this.dragSources.find((function(t){return t.dragSource===e}));t&&(this.removeListener(t),Me(this.dragSources,t))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,t){var o=this;void 0===t&&(t=!1);var i=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",i);var n=null,r=this.gridOptionsService.is("suppressTouch");t&&!r&&(n=function(t){Di(t.target)||(t.cancelable&&(t.preventDefault(),t.stopPropagation()),o.onTouchStart(e,t))},e.eElement.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:n,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var o=this;this.currentDragParams=e,this.dragging=!1;var i=t.touches[0];this.touchLastTime=i,this.touchStart=i;var n=function(t){return o.onTouchMove(t,e.eElement)},r=function(t){return o.onTouchUp(t,e.eElement)},s=function(e){e.cancelable&&e.preventDefault()},a=t.target,l=[{target:document,type:"touchmove",listener:s,options:{passive:!1}},{target:a,type:"touchmove",listener:n,options:{passive:!0}},{target:a,type:"touchend",listener:r,options:{passive:!0}},{target:a,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(l),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var o=this,i=t;if((!e.skipMouseEvent||!e.skipMouseEvent(t))&&!i._alreadyProcessedByDragService&&(i._alreadyProcessedByDragService=!0,0===t.button)){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var n=this.gridOptionsService.getDocument(),r=function(t){return o.onMouseMove(t,e.eElement)},s=function(t){return o.onMouseUp(t,e.eElement)},a=function(e){return e.preventDefault()},l=n,u=[{target:l,type:"mousemove",listener:r},{target:l,type:"mouseup",listener:s},{target:l,type:"contextmenu",listener:a}];this.addTemporaryEvents(u),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach((function(e){var t=e.target,o=e.type,i=e.listener,n=e.options;t.addEventListener(o,i,n)})),this.dragEndFunctions.push((function(){e.forEach((function(e){var t=e.target,o=e.type,i=e.listener,n=e.options;t.removeEventListener(o,i,n)}))}))},t.prototype.isEventNearStartEvent=function(e,t){var o=this.currentDragParams.dragStartPixels,i=s(o)?o:4;return xn(e,t,i)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,o){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;var i={type:at.EVENT_DRAG_STARTED,target:o};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){(this.gridOptionsService.is("enableCellTextSelection")||Ko())&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.isOverFormFieldElement=function(e){var t=e.target,o=null===t||void 0===t?void 0:t.tagName.toLocaleLowerCase();return!!(null===o||void 0===o?void 0:o.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,t){var o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var o={type:at.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(o)}this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0},rl([se("loggerFactory")],t.prototype,"loggerFactory",void 0),rl([se("mouseEventService")],t.prototype,"mouseEventService",void 0),rl([ie],t.prototype,"init",null),rl([ne],t.prototype,"removeAllListeners",null),t=rl([re("dragService")],t),t}(tt);(function(e){e[e["Above"]=0]="Above",e[e["Below"]=1]="Below"})(ol||(ol={})),function(e){e["EVERYTHING"]="group",e["FILTER"]="filter",e["SORT"]="sort",e["MAP"]="map",e["AGGREGATE"]="aggregate",e["FILTER_AGGREGATES"]="filter_aggregates",e["PIVOT"]="pivot",e["NOTHING"]="nothing"}(il||(il={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var al=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};function ll(e){var t=e,o=null!=t&&null!=t.getFrameworkComponentInstance;return o?t.getFrameworkComponentInstance():e}var ul,cl=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e},e.prototype.registerSideBarComp=function(e){this.sideBarComp=e},e.prototype.init=function(){var e=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.__getContext=function(){return this.context},e.prototype.getSetterMethod=function(e){return"set"+e.charAt(0).toUpperCase()+e.substring(1)},e.prototype.__setProperty=function(e,t){this.gridOptionsService.set(e,t);var o=this.getSetterMethod(e),i=this;i[o]&&i[o](t)},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;C(this.detailGridInfoMap,(function(o,i){s(i)&&(e(i,t),t++)}))},e.prototype.getDataAsCsv=function(e){if(me.assertRegistered(de.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){me.assertRegistered(de.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getExcelExportMode=function(e){var t=this.gridOptionsService.get("defaultExcelExportParams"),o=Object.assign({exportMode:"xlsx"},t,e);return o.exportMode},e.prototype.assertNotExcelMultiSheet=function(e,t){if(!me.assertRegistered(de.ExcelExportModule,"api."+e))return!1;var o=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(o)!==la.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},e.prototype.getDataAsExcel=function(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)},e.prototype.exportDataAsExcel=function(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)},e.prototype.getSheetDataForExcel=function(e){if(me.assertRegistered(de.ExcelExportModule,"api.getSheetDataForExcel")){var t=this.getExcelExportMode(e);return this.excelCreator.setFactoryMode(la.MULTI_SHEET,t),this.excelCreator.getSheetDataForExcel(e)}},e.prototype.getMultipleSheetsAsExcel=function(e){if(me.assertRegistered(de.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(e)},e.prototype.exportMultipleSheetsAsExcel=function(e){if(me.assertRegistered(de.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(e)},e.prototype.setGridAriaProperty=function(e,t){if(e){var o=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+e;null===t?o.removeAttribute(i):o.setAttribute(i,t)}},e.prototype.logMissingRowModel=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];console.error("AG Grid: api."+e+" can only be called when gridOptions.rowModelType is "+t.join(" or "))},e.prototype.setServerSideDatasource=function(e){this.serverSideRowModel?this.serverSideRowModel.setDatasource(e):this.logMissingRowModel("setServerSideDatasource","serverSide")},e.prototype.setCacheBlockSize=function(e){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",e),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},e.prototype.setDatasource=function(e){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(e):this.logMissingRowModel("setDatasource","infinite")},e.prototype.setViewportDatasource=function(e){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(e):this.logMissingRowModel("setViewportDatasource","viewport")},e.prototype.setRowData=function(e){var t=null==this.immutableService;t?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(e):(this.selectionService.reset(),this.clientSideRowModel.setRowData(e))},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnModel.setColumnDefs(e,t),this.gridOptionsService.set("columnDefs",e,!0,{source:t})},e.prototype.setAutoGroupColumnDef=function(e,t){void 0===t&&(t="api"),this.gridOptionsService.set("autoGroupColumnDef",e,!0,{source:t})},e.prototype.setDefaultColDef=function(e,t){void 0===t&&(t="api"),this.gridOptionsService.set("defaultColDef",e,!0,{source:t})},e.prototype.setColumnTypes=function(e,t){void 0===t&&(t="api"),this.gridOptionsService.set("columnTypes",e,!0,{source:t})},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},e.prototype.setAlwaysShowHorizontalScroll=function(e){this.gridOptionsService.set("alwaysShowHorizontalScroll",e)},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsService.set("alwaysShowVerticalScroll",e)},e.prototype.refreshCells=function(e){void 0===e&&(e={}),this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={});var t=e?e.rowNodes:void 0;this.rowRenderer.redrawRows(t)},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsService.set("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(e){return e.refresh()}))},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t,o){e&&(o&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,o),e.setExpanded(t))},e.prototype.onGroupExpandedOrCollapsed=function(){a(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:il.MAP})},e.prototype.refreshClientSideRowModel=function(e){a(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(e)},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},e.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},e.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},e.prototype.addRenderedRowListener=function(e,t,o){this.rowRenderer.addRenderedRowListener(e,t,o)},e.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},e.prototype.setQuickFilter=function(e){this.gridOptionsService.set("quickFilterText",e)},e.prototype.setExcludeHiddenColumnsFromQuickFilter=function(e){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",e)},e.prototype.selectAll=function(e){void 0===e&&(e="apiSelectAll"),this.selectionService.selectAllRowNodes({source:e})},e.prototype.deselectAll=function(e){void 0===e&&(e="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:e})},e.prototype.selectAllFiltered=function(e){void 0===e&&(e="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})},e.prototype.deselectAllFiltered=function(e){void 0===e&&(e="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})},e.prototype.selectAllOnCurrentPage=function(e){void 0===e&&(e="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})},e.prototype.deselectAllOnCurrentPage=function(e){void 0===e&&(e="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})},e.prototype.sizeColumnsToFit=function(e){this.gridBodyCtrl.sizeColumnsToFit(e)},e.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},e.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){if(!a(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t)},e.prototype.ensureIndexVisible=function(e,t){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){a(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e,t){this.rowModel.forEachNode(e,t)},e.prototype.forEachNodeAfterFilter=function(e){a(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){a(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterInstance=function(e,t){var o=this.getFilterInstanceImpl(e,(function(e){if(t){var o=ll(e);t(o)}})),i=ll(o);return i},e.prototype.getFilterInstanceImpl=function(e,t){var o=this.columnModel.getPrimaryColumn(e);if(o){var i=this.filterManager.getFilterComponent(o,"NO_UI"),n=i&&i.resolveNow(null,(function(e){return e}));return n?setTimeout(t,0,n):i&&i.then((function(e){t(e)})),n}},e.prototype.destroyFilter=function(e){var t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(me.assertRegistered(de.StatusBarModule,"api.getStatusPanel")){var t=this.statusBarService.getStatusPanel(e);return ll(t)}},e.prototype.getColumnDef=function(e){var t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,o){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:o,forceBrowserFocus:!0})},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsService.set("suppressRowDrag",e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsService.set("suppressMoveWhenRowDragging",e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsService.set("suppressRowClickSelection",e)},e.prototype.addRowDropZone=function(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsService.set("headerHeight",e)},e.prototype.setDomLayout=function(e){this.gridOptionsService.set("domLayout",e)},e.prototype.setEnableCellTextSelection=function(e){this.gridBodyCtrl.setCellTextSelection(e)},e.prototype.setFillHandleDirection=function(e){this.gridOptionsService.set("fillHandleDirection",e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsService.set("groupHeaderHeight",e)},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsService.set("floatingFiltersHeight",e)},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsService.set("pivotHeaderHeight",e)},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsService.set("pivotGroupHeaderHeight",e)},e.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},e.prototype.setAnimateRows=function(e){this.gridOptionsService.set("animateRows",e)},e.prototype.setIsExternalFilterPresent=function(e){this.gridOptionsService.set("isExternalFilterPresent",e)},e.prototype.setDoesExternalFilterPass=function(e){this.gridOptionsService.set("doesExternalFilterPass",e)},e.prototype.setNavigateToNextCell=function(e){this.gridOptionsService.set("navigateToNextCell",e)},e.prototype.setTabToNextCell=function(e){this.gridOptionsService.set("tabToNextCell",e)},e.prototype.setTabToNextHeader=function(e){this.gridOptionsService.set("tabToNextHeader",e)},e.prototype.setNavigateToNextHeader=function(e){this.gridOptionsService.set("navigateToNextHeader",e)},e.prototype.setRowGroupPanelShow=function(e){this.gridOptionsService.set("rowGroupPanelShow",e)},e.prototype.setGroupRowAggNodes=function(e){Et("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",e)},e.prototype.setGetGroupRowAgg=function(e){this.gridOptionsService.set("getGroupRowAgg",e)},e.prototype.setGetBusinessKeyForNode=function(e){this.gridOptionsService.set("getBusinessKeyForNode",e)},e.prototype.setGetChildCount=function(e){this.gridOptionsService.set("getChildCount",e)},e.prototype.setProcessRowPostCreate=function(e){this.gridOptionsService.set("processRowPostCreate",e)},e.prototype.setGetRowNodeId=function(e){Et("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",e)},e.prototype.setGetRowId=function(e){this.gridOptionsService.set("getRowId",e)},e.prototype.setGetRowClass=function(e){this.gridOptionsService.set("getRowClass",e)},e.prototype.setIsFullWidthCell=function(e){Et("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",e)},e.prototype.setIsFullWidthRow=function(e){this.gridOptionsService.set("isFullWidthRow",e)},e.prototype.setIsRowSelectable=function(e){this.gridOptionsService.set("isRowSelectable",e)},e.prototype.setIsRowMaster=function(e){this.gridOptionsService.set("isRowMaster",e)},e.prototype.setPostSort=function(e){Et("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",e)},e.prototype.setPostSortRows=function(e){this.gridOptionsService.set("postSortRows",e)},e.prototype.setGetDocument=function(e){this.gridOptionsService.set("getDocument",e)},e.prototype.setGetContextMenuItems=function(e){this.gridOptionsService.set("getContextMenuItems",e)},e.prototype.setGetMainMenuItems=function(e){this.gridOptionsService.set("getMainMenuItems",e)},e.prototype.setProcessCellForClipboard=function(e){this.gridOptionsService.set("processCellForClipboard",e)},e.prototype.setSendToClipboard=function(e){this.gridOptionsService.set("sendToClipboard",e)},e.prototype.setProcessCellFromClipboard=function(e){this.gridOptionsService.set("processCellFromClipboard",e)},e.prototype.setProcessSecondaryColDef=function(e){Et("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(e)},e.prototype.setProcessSecondaryColGroupDef=function(e){Et("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(e)},e.prototype.setProcessPivotResultColDef=function(e){this.gridOptionsService.set("processPivotResultColDef",e)},e.prototype.setProcessPivotResultColGroupDef=function(e){this.gridOptionsService.set("processPivotResultColGroupDef",e)},e.prototype.setPostProcessPopup=function(e){this.gridOptionsService.set("postProcessPopup",e)},e.prototype.setDefaultGroupOrderComparator=function(e){Et("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",e)},e.prototype.setInitialGroupOrderComparator=function(e){this.gridOptionsService.set("initialGroupOrderComparator",e)},e.prototype.setGetChartToolbarItems=function(e){this.gridOptionsService.set("getChartToolbarItems",e)},e.prototype.setPaginationNumberFormatter=function(e){this.gridOptionsService.set("paginationNumberFormatter",e)},e.prototype.setGetServerSideStoreParams=function(e){Et("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(e)},e.prototype.setGetServerSideGroupLevelParams=function(e){this.gridOptionsService.set("getServerSideGroupLevelParams",e)},e.prototype.setIsServerSideGroupOpenByDefault=function(e){this.gridOptionsService.set("isServerSideGroupOpenByDefault",e)},e.prototype.setIsApplyServerSideTransaction=function(e){this.gridOptionsService.set("isApplyServerSideTransaction",e)},e.prototype.setIsServerSideGroup=function(e){this.gridOptionsService.set("isServerSideGroup",e)},e.prototype.setGetServerSideGroupKey=function(e){this.gridOptionsService.set("getServerSideGroupKey",e)},e.prototype.setGetRowStyle=function(e){this.gridOptionsService.set("getRowStyle",e)},e.prototype.setGetRowHeight=function(e){this.gridOptionsService.set("getRowHeight",e)},e.prototype.assertSideBarLoaded=function(e){return me.assertRegistered(de.SideBarModule,"api."+e)},e.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},e.prototype.setSideBarVisible=function(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(e)},e.prototype.setSideBarPosition=function(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(e)},e.prototype.openToolPanel=function(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(e,"api")},e.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},e.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},e.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},e.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},e.prototype.getToolPanelInstance=function(e){if(this.assertSideBarLoaded("getToolPanelInstance")){var t=this.sideBarComp.getToolPanelInstance(e);return ll(t)}},e.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},e.prototype.setSideBar=function(e){this.gridOptionsService.set("sideBar",e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsService.set("suppressClipboardPaste",e)},e.prototype.resetRowHeights=function(){if(s(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsService.set("groupRemoveSingleChildren",e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsService.set("groupRemoveLowestSingleChildren",e)},e.prototype.setGroupDisplayType=function(e){this.gridOptionsService.set("groupDisplayType",e)},e.prototype.setRowClass=function(e){this.gridOptionsService.set("rowClass",e)},e.prototype.setDeltaSort=function(e){this.gridOptionsService.set("deltaSort",e)},e.prototype.setRowCount=function(e,t){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(e,t):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(e,t):this.logMissingRowModel("setRowCount","infinite","serverSide")},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var o=this.columnModel.getPrimaryColumn(e);return a(o)&&(o=this.columnModel.getGridColumn(e)),a(o)?null:this.valueService.getValue(o,t)},e.prototype.addEventListener=function(e,t){var o=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(e,t,o)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var o=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(e,t,o)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var e=this.ctrlsService.getGridCtrl();e&&e.destroyGridUi(),this.context.destroy()}},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(F.bind(window,this,"Grid API"),100)},e.prototype.warnIfDestroyed=function(e){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+e+" was called on a grid that was destroyed."),this.destroyCalled},e.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},e.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(me.assertRegistered(de.RangeSelectionModule,"api.getCellRanges"),null)},e.prototype.addCellRange=function(e){this.rangeService?this.rangeService.addCellRange(e):me.assertRegistered(de.RangeSelectionModule,"api.addCellRange")},e.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),me.assertRegistered(de.RangeSelectionModule,"gridApi.clearRangeSelection")},e.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},e.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},e.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},e.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},e.prototype.getChartModels=function(){if(me.assertRegistered(de.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.getChartRef=function(e){if(me.assertRegistered(de.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(e)},e.prototype.getChartImageDataURL=function(e){if(me.assertRegistered(de.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(e)},e.prototype.downloadChart=function(e){if(me.assertRegistered(de.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(e)},e.prototype.openChartToolPanel=function(e){if(me.assertRegistered(de.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(e)},e.prototype.closeChartToolPanel=function(e){if(me.assertRegistered(de.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(e.chartId)},e.prototype.createRangeChart=function(e){if(me.assertRegistered(de.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createCrossFilterChart=function(e){if(me.assertRegistered(de.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(e)},e.prototype.restoreChart=function(e,t){if(me.assertRegistered(de.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(e,t)},e.prototype.createPivotChart=function(e){if(me.assertRegistered(de.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copyToClipboard=function(e){me.assertRegistered(de.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(e)},e.prototype.cutToClipboard=function(e){me.assertRegistered(de.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(e)},e.prototype.copySelectedRowsToClipboard=function(e){me.assertRegistered(de.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(e)},e.prototype.copySelectedRangeToClipboard=function(e){me.assertRegistered(de.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){me.assertRegistered(de.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var o=this.columnModel.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(o,t,"columnMenu")},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var o=this.columnModel.getGridColumn(e);o||(o=this.columnModel.getPrimaryColumn(e)),o?this.menuFactory.showMenuAfterMouseEvent(o,t):console.error("AG Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsService.set("popupParent",e)},e.prototype.tabToNextCell=function(e){return this.navigationService.tabToNextCell(!1,e)},e.prototype.tabToPreviousCell=function(e){return this.navigationService.tabToNextCell(!0,e)},e.prototype.getCellRendererInstances=function(e){void 0===e&&(e={});var t=this.rowRenderer.getCellRendererInstances(e),o=t.map(ll);return o},e.prototype.getCellEditorInstances=function(e){void 0===e&&(e={});var t=this.rowRenderer.getCellEditorInstances(e),o=t.map(ll);return o},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnModel.getGridColumn(e.colKey);if(t){var o={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t},i=null==e.rowPinned;i&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e.rowIndex);var n=this.navigationService.getCellByPosition(o);n&&n.startRowOrCellEdit(e.key,e.charPress)}else console.warn("AG Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyServerSideTransaction=function(e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(e);this.logMissingRowModel("applyServerSideTransaction","serverSide")},e.prototype.applyServerSideTransactionAsync=function(e,t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(e,t);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},e.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},e.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},e.prototype.applyTransaction=function(e){if(this.clientSideRowModel){var t=this.clientSideRowModel.updateRowData(e);return this.rowRenderer.refreshFullWidthRows(t.update),this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),t}this.logMissingRowModel("applyTransaction","clientSide")},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):this.logMissingRowModel("applyTransactionAsync","clientSide")},e.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},e.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(e){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",e)},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},e.prototype.refreshServerSide=function(e){this.serverSideRowModel?this.serverSideRowModel.refreshStore(e):this.logMissingRowModel("refreshServerSide","serverSide")},e.prototype.refreshServerSideStore=function(e){return Et("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(e)},e.prototype.getServerSideStoreState=function(){return Et("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},e.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},e.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},e.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.setPagination=function(e){this.gridOptionsService.set("pagination",e)},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsService.set("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},al([ae("immutableService")],e.prototype,"immutableService",void 0),al([ae("csvCreator")],e.prototype,"csvCreator",void 0),al([ae("excelCreator")],e.prototype,"excelCreator",void 0),al([se("rowRenderer")],e.prototype,"rowRenderer",void 0),al([se("navigationService")],e.prototype,"navigationService",void 0),al([se("filterManager")],e.prototype,"filterManager",void 0),al([se("columnModel")],e.prototype,"columnModel",void 0),al([se("selectionService")],e.prototype,"selectionService",void 0),al([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),al([se("valueService")],e.prototype,"valueService",void 0),al([se("alignedGridsService")],e.prototype,"alignedGridsService",void 0),al([se("eventService")],e.prototype,"eventService",void 0),al([se("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),al([se("context")],e.prototype,"context",void 0),al([se("rowModel")],e.prototype,"rowModel",void 0),al([se("sortController")],e.prototype,"sortController",void 0),al([se("paginationProxy")],e.prototype,"paginationProxy",void 0),al([se("focusService")],e.prototype,"focusService",void 0),al([se("dragAndDropService")],e.prototype,"dragAndDropService",void 0),al([ae("rangeService")],e.prototype,"rangeService",void 0),al([ae("clipboardService")],e.prototype,"clipboardService",void 0),al([ae("aggFuncService")],e.prototype,"aggFuncService",void 0),al([se("menuFactory")],e.prototype,"menuFactory",void 0),al([ae("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),al([se("valueCache")],e.prototype,"valueCache",void 0),al([se("animationFrameService")],e.prototype,"animationFrameService",void 0),al([ae("statusBarService")],e.prototype,"statusBarService",void 0),al([ae("chartService")],e.prototype,"chartService",void 0),al([ae("undoRedoService")],e.prototype,"undoRedoService",void 0),al([ae("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),al([ae("ssrmTransactionManager")],e.prototype,"serverSideTransactionManager",void 0),al([se("ctrlsService")],e.prototype,"ctrlsService",void 0),al([ie],e.prototype,"init",null),al([ne],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=al([re("gridApi")],e),e}(),dl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pl=function(){return pl=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},pl.apply(this,arguments)},hl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allColumnFilters=new Map,t.activeAggregateFilters=[],t.activeColumnFilters=[],t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var o;return dl(t,e),o=t,t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_GRID_COLUMNS_CHANGED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_VALUE_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return e.refreshFiltersForAggregations()})),this.addManagedPropertyListener("quickFilterText",(function(t){return e.setQuickFilter(t.currentValue)})),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",(function(){return e.onExcludeHiddenColumnsFromQuickFilterChanged()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var t=this.gridOptionsService.get("doesExternalFilterPass");return"function"===typeof t&&t(e)},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(e){var t=this,o=[],i=this.getFilterModel();if(e){var n=Gn(Object.keys(e));this.allColumnFilters.forEach((function(i,r){var s=e[r];o.push(t.setModelOnFilterWrapper(i.filterPromise,s)),n.delete(r)})),n.forEach((function(i){var n=t.columnModel.getPrimaryColumn(i)||t.columnModel.getGridColumn(i);if(n)if(n.isFilterAllowed()){var r=t.getOrCreateFilterWrapper(n,"NO_UI");r?o.push(t.setModelOnFilterWrapper(r.filterPromise,e[i])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+i)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+i);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+i)}))}else this.allColumnFilters.forEach((function(e){o.push(t.setModelOnFilterWrapper(e.filterPromise,null))}));Kn.all(o).then((function(){var e=t.getFilterModel(),o=[];t.allColumnFilters.forEach((function(t,n){var r=i?i[n]:null,s=e?e[n]:null;Wn.jsonEquals(r,s)||o.push(t.column)})),o.length>0&&t.onFilterChanged({columns:o})}))},t.prototype.setModelOnFilterWrapper=function(e,t){return new Kn((function(o){e.then((function(e){"function"!==typeof e.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),o()),(e.setModel(t)||Kn.resolve()).then((function(){return o()}))}))}))},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach((function(t,o){var i=t.filterPromise,n=i.resolveNow(null,(function(e){return e}));if(null==n)return null;if("function"===typeof n.getModel){var r=n.getModel();s(r)&&(e[o]=r)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.doAggregateFiltersPass=function(e,t){return this.doColumnFiltersPass(e,t,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var t=function(e){return!!e&&(e.isFilterActive?e.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},o=!!this.gridOptionsService.getGroupAggFiltering(),i=function(t){var i=!t.isPrimary();if(i)return!0;var n=!e.columnModel.isPivotActive(),r=t.isValueActive();return!(!r||!n)&&(!!e.columnModel.isPivotMode()||o)};this.allColumnFilters.forEach((function(o){if(o.filterPromise.resolveNow(!1,t)){var n=o.filterPromise.resolveNow(null,(function(e){return e}));i(o.column)?e.activeAggregateFilters.push(n):e.activeColumnFilters.push(n)}}))},t.prototype.updateFilterFlagInColumns=function(e,t){this.allColumnFilters.forEach((function(o){var i=o.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}));o.column.setFilterActive(i,e,t)}))},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,t,o){for(var i=e.data,n=e.aggData,r=o?this.activeAggregateFilters:this.activeColumnFilters,s=o?n:i,a=0;a<r.length;a++){var l=r[a];if(null!=l&&l!==t){if("function"!==typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:e,data:s}))return!1}}return!0},t.prototype.parseQuickFilter=function(e){return s(e)?this.gridOptionsService.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(e){if(null==e||"string"===typeof e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof e)},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))},t.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var t=this;void 0===e&&(e={});var o=function(){return t.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var t=e.filterInstance,o=e.additionalEventAttributes,i=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((function(e){e.filterPromise&&e.filterPromise.then((function(e){e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))}));var n={type:at.EVENT_FILTER_CHANGED,columns:i||[]};o&&D(n,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})},t.prototype.doesRowPassQuickFilterNoCache=function(e,t){var o=this,i=this.columnModel.getAllColumnsForQuickFilter();return i.some((function(i){var n=o.getQuickFilterTextForColumn(i,e);return s(n)&&n.indexOf(t)>=0}))},t.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},t.prototype.doesRowPassQuickFilter=function(e){var t=this,o=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every((function(i){return o?t.doesRowPassQuickFilterCache(e,i):t.doesRowPassQuickFilterNoCache(e,i)}))},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)))},t.prototype.getQuickFilterTextForColumn=function(e,t){var o=this.valueService.getValue(e,t,!0),i=e.getColDef();if(i.getQuickFilterText){var n={value:o,node:t,data:t.data,column:e,colDef:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=i.getQuickFilterText(n)}return s(o)?o.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(e){var t=this,i=[],n=this.columnModel.getAllColumnsForQuickFilter();n.forEach((function(o){var n=t.getQuickFilterTextForColumn(o,e);s(n)&&i.push(n)})),e.quickFilterAggregateText=i.join(o.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach((function(e){e.filterPromise.then((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var t=this;return function(o){var i=o.node;return t.valueService.getValue(e,i,!0)}},t.prototype.getFilterComponent=function(e,t,o){var i;if(void 0===o&&(o=!0),o)return(null===(i=this.getOrCreateFilterWrapper(e,t))||void 0===i?void 0:i.filterPromise)||null;var n=this.cachedFilter(e);return n?n.filterPromise:null},t.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))},t.prototype.getOrCreateFilterWrapper=function(e,t){if(!e.isFilterAllowed())return null;var o=this.cachedFilter(e);return o?"NO_UI"!==t&&this.putIntoGui(o,t):(o=this.createFilterWrapper(e,t),this.allColumnFilters.set(e.getColId(),o)),o},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.createFilterInstance=function(e){var t,o=this,i=me.isRegistered(de.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",n=e.getColDef(),r=pl(pl({},this.createFilterParams(e,n)),{filterModifiedCallback:function(){var i={type:at.EVENT_FILTER_MODIFIED,column:e,filterInstance:t};o.eventService.dispatchEvent(i)},filterChangedCallback:function(i){var n={filterInstance:t,additionalEventAttributes:i,columns:[e]};o.callOnFilterChangedOutsideRenderCycle(n)},doesRowPassOtherFilter:function(e){return o.doesRowPassOtherFilters(t,e)}}),s=this.userComponentFactory.getFilterDetails(n,r,i);if(!s)return null;var a=s.newAgStackInstance();return a&&a.then((function(e){return t=e})),a},t.prototype.createFilterParams=function(e,t){var o={column:e,colDef:b(t),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return o},t.prototype.createFilterWrapper=function(e,t){var o={column:e,filterPromise:null,compiledElement:null,guiPromise:Kn.resolve(null)};return o.filterPromise=this.createFilterInstance(e),o.filterPromise&&this.putIntoGui(o,t),o},t.prototype.putIntoGui=function(e,t){var o=this,i=document.createElement("div");i.className="ag-filter",e.guiPromise=new Kn((function(n){e.filterPromise.then((function(r){var a=r.getGui();s(a)||console.warn("AG Grid: getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"===typeof a&&(a=Ki(a)),i.appendChild(a),n(i);var l={type:at.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:i};o.eventService.dispatchEvent(l)}))}))},t.prototype.onColumnsChanged=function(){var e=this,t=[];this.allColumnFilters.forEach((function(o,i){var n;n=o.column.isPrimary()?e.columnModel.getPrimaryColumn(i):e.columnModel.getGridColumn(i),n||(t.push(o.column),e.disposeFilterWrapper(o,"filterDestroyed"))})),t.length>0?this.onFilterChanged({columns:t}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,t=this.columnModel.getGroupAutoColumns();null===t||void 0===t||t.forEach((function(t){"agGroupColumnFilter"===t.getColDef().filter&&e.getOrCreateFilterWrapper(t,"NO_UI")}))},t.prototype.isFilterAllowed=function(e){var t,o,i=e.isFilterAllowed();if(!i)return!1;var n=this.allColumnFilters.get(e.getColId());return null===(o=null===(t=null===n||void 0===n?void 0:n.filterPromise)||void 0===t?void 0:t.resolveNow(!0,(function(e){var t,o;return"function"!==typeof(null===(t=e)||void 0===t?void 0:t.isFilterAllowed)||(null===(o=e)||void 0===o?void 0:o.isFilterAllowed())})))||void 0===o||o},t.prototype.getFloatingFilterCompDetails=function(e,t){var o=this,i=e.getColDef(),n=this.createFilterParams(e,i),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,za,n),s=this.userComponentFactory.getDefaultFloatingFilterType(i);null==s&&(s="agReadOnlyFloatingFilter");var a=function(t){var i=o.getFilterComponent(e,"NO_UI");null!=i&&i.then((function(e){t(ll(e))}))},l={column:e,filterParams:r,currentParentModel:function(){return o.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:a,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(i,l,s)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,(function(e){return e&&e.getModel()})):null},t.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var o=this.allColumnFilters.get(e.getColId());o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged({columns:[e]}))},t.prototype.disposeFilterWrapper=function(e,t){var o=this;e.filterPromise.then((function(i){(i.setModel(null)||Kn.resolve()).then((function(){o.getContext().destroyBean(i),o.allColumnFilters.delete(e.column.getColId()),e.column.setFilterActive(!1,t)}))}))},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allColumnFilters.forEach((function(e){return t.disposeFilterWrapper(e,"filterDestroyed")}))},t.QUICK_FILTER_SEPARATOR="\n",hl([se("valueService")],t.prototype,"valueService",void 0),hl([se("columnModel")],t.prototype,"columnModel",void 0),hl([se("rowModel")],t.prototype,"rowModel",void 0),hl([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),hl([se("rowRenderer")],t.prototype,"rowRenderer",void 0),hl([ie],t.prototype,"init",null),hl([ne],t.prototype,"destroy",null),t=o=hl([re("filterManager")],t),t}(tt),gl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ml=function(e){function t(t,o){var i=e.call(this,t)||this;return i.ctrl=o,i}return gl(t,e),t.prototype.getCtrl=function(){return this.ctrl},t}(tr),vl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),yl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cl=function(e){function t(o){return e.call(this,t.TEMPLATE,o)||this}return vl(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),o={addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},addOrRemoveBodyCssClass:function(t,o){return e.eFloatingFilterBody.classList.toggle(t,o)},setButtonWrapperDisplayed:function(t){return Ai(e.eButtonWrapper,t)},setCompDetails:function(t){return e.setCompDetails(t)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(e){return t.style.width=e},setMenuIcon:function(t){return e.eButtonShowMainFilter.appendChild(t)}};this.ctrl.setComp(o,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var t=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then((function(e){return t.afterCompCreated(e)}))},t.prototype.afterCompCreated=function(e){var t=this;e&&(this.addDestroyFunc((function(){return t.context.destroyBean(e)})),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',yl([or("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),yl([or("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),yl([or("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),yl([ie],t.prototype,"postConstruct",null),t}(ml),bl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e["AUTO_HEIGHT"]="ag-layout-auto-height",e["NORMAL"]="ag-layout-normal",e["PRINT"]="ag-layout-print"})(ul||(ul={}));var El,Sl=function(e){function t(t){var o=e.call(this)||this;return o.view=t,o}return bl(t,e),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},o=t.autoHeight?ul.AUTO_HEIGHT:t.print?ul.PRINT:ul.NORMAL;this.view.updateLayoutClasses(o,t)},t.prototype.getDomLayout=function(){var e,t=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal",o=["normal","print","autoHeight"];return-1===o.indexOf(t)?(G((function(){return console.warn("AG Grid: "+t+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")}),"warn about dom layout values"),"normal"):t},wl([ie],t.prototype,"postConstruct",null),t}(tt),Rl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ol=function(){return Ol=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Ol.apply(this,arguments)},Tl=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_l=function(e){function t(t){var o=e.call(this)||this;return o.scrollLeft=-1,o.nextScrollTop=-1,o.scrollTop=-1,o.eBodyViewport=t,o.resetLastHScrollDebounced=K((function(){return o.eLastHScroll=null}),500),o.resetLastVScrollDebounced=K((function(){return o.eLastVScroll=null}),500),o}return Rl(t,e),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()}))},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),t=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHScroll.bind(this));var o=this.gridOptionsService.is("debounceVerticalScrollbar"),i=o?K(this.onVScroll.bind(this),100):this.onVScroll.bind(this),n=o?K(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),this.addManagedListener(t.getViewport(),"scroll",n)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var t=null==this.centerRowContainerCtrl;if(!t){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var o=this.enableRtl?e:-e,i=this.ctrlsService.getTopCenterRowContainerCtrl(),n=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),r=this.ctrlsService.getBottomCenterRowContainerCtrl(),s=this.ctrlsService.getFakeHScrollComp(),a=this.ctrlsService.getHeaderRowContainerCtrl();a.setHorizontalScroll(o),r.setContainerTranslateX(o),i.setContainerTranslateX(o),n.setContainerTranslateX(o);var l=this.centerRowContainerCtrl.getViewportElement(),u=this.eLastHScroll===l,c=u?s.getViewport():this.centerRowContainerCtrl.getViewportElement();Bi(c,Math.abs(e),this.enableRtl)}},t.prototype.isControllingHScroll=function(e){return this.eLastHScroll?e===this.eLastHScroll:(this.eLastHScroll=e,!0)},t.prototype.isControllingVScroll=function(e){return this.eLastVScroll?e===this.eLastVScroll:(this.eLastVScroll=e,!0)},t.prototype.onFakeHScroll=function(){var e=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(e)&&this.onHScrollCommon(e)},t.prototype.onHScroll=function(){var e=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(e)&&this.onHScrollCommon(e)},t.prototype.onHScrollCommon=function(e){var t=this.centerRowContainerCtrl.getViewportElement(),o=t.scrollLeft;this.shouldBlockScrollUpdate("horizontal",o,!0)||(this.doHorizontalScroll(Math.round(Vi(e,this.enableRtl))),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){var e=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(e)&&this.onVScrollCommon(e)},t.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},t.prototype.onVScrollCommon=function(e){var t=e.scrollTop;if(!this.shouldBlockScrollUpdate("vertical",t,!0)){if(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===this.eBodyViewport){var o=this.ctrlsService.getFakeVScrollComp().getViewport();o.scrollTop=t}else this.eBodyViewport.scrollTop=t;this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced()}},t.prototype.doHorizontalScroll=function(e){var t=this.ctrlsService.getFakeHScrollComp().getViewport(),o=Vi(t,this.enableRtl);this.scrollLeft===e&&e===o||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var t=this,o={type:at.EVENT_BODY_SCROLL,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(o),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var e=Ol(Ol({},o),{type:at.EVENT_BODY_SCROLL_END});t.eventService.dispatchEvent(e)}),100)},t.prototype.shouldBlockScrollUpdate=function(e,t,o){if(void 0===o&&(o=!1),o&&!$o())return!1;if("vertical"===e){var i=Ni(this.eBodyViewport),n=this.eBodyViewport.scrollHeight;if(t<0||t+i>n)return!0}if("horizontal"===e){var r=this.centerRowContainerCtrl.getCenterWidth(),s=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Hi()){if(t>0)return!0}else if(t<0)return!0;if(Math.abs(t)+r>s)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var t=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&Hi()?e>0?0:o:Math.min(Math.max(e,t),o)),Bi(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){var e={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return e},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var t=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-t},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,t){void 0===t&&(t=null);for(var o=this.rowModel.getRowCount(),i=-1,n=0;n<o;n++){var r=this.rowModel.getRow(n);if("function"===typeof e){var s=e;if(r&&s(r)){i=n;break}}else if(e===r||e===r.data){i=n;break}}i>=0&&this.ensureIndexVisible(i,t)},t.prototype.ensureIndexVisible=function(e,t){if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if("number"!==typeof e||e<0||e>=o)console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);else{var i=this.gridOptionsService.is("pagination"),n=i&&!this.gridOptionsService.is("suppressPaginationPanel");n||this.paginationProxy.goToPageWithIndex(e);var r,s=this.ctrlsService.getGridBodyCtrl(),a=s.getStickyTopHeight(),l=this.paginationProxy.getRow(e);do{var u=l.rowTop,c=l.rowHeight,d=this.paginationProxy.getPixelOffset(),p=l.rowTop-d,h=p+l.rowHeight,f=this.getVScrollPosition(),g=this.heightScaler.getDivStretchOffset(),m=f.top+g,v=f.bottom+g,y=v-m,C=this.heightScaler.getScrollPositionForPixel(p),b=this.heightScaler.getScrollPositionForPixel(h-y),w=Math.min((C+b)/2,p),E=m+a>p,S=v<h,R=null;"top"===t?R=C:"bottom"===t?R=b:"middle"===t?R=w:E?R=C-a:S&&(R=b),null!==R&&(this.eBodyViewport.scrollTop=R,this.rowRenderer.redrawAfterScroll()),r=u!==l.rowTop||c!==l.rowHeight}while(r);this.animationFrameService.flushAllFrames()}}},t.prototype.ensureColumnVisible=function(e,t){void 0===t&&(t="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var i=this.getPositionedHorizontalScroll(o,t);null!==i&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,t){var o=this.isColumnOutsideViewport(e),i=o.columnBeforeStart,n=o.columnAfterEnd,r=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?i:n)||r,u=a?n:i;"auto"!==t&&(l="start"===t,u="end"===t);var c="middle"===t;if(l||u||c){var d=this.getColumnBounds(e),p=d.colLeft,h=d.colMiddle,f=d.colRight;return c?h-s/2:l?a?f:p:a?p-s:f-s}return null},t.prototype.isColumnOutsideViewport=function(e){var t=this.getViewportBounds(),o=t.start,i=t.end,n=this.getColumnBounds(e),r=n.colLeft,s=n.colRight,a=this.enableRtl,l=a?o>s:i<s,u=a?i<r:o>r;return{columnBeforeStart:l,columnAfterEnd:u}},t.prototype.getColumnBounds=function(e){var t=this.enableRtl,o=this.columnModel.getBodyContainerWidth(),i=e.getActualWidth(),n=e.getLeft(),r=t?-1:1,s=t?o-n:n,a=s+i*r,l=s+i/2*r;return{colLeft:s,colMiddle:l,colRight:a}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),t=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),o=t,i=e+t;return{start:o,end:i,width:e}},Tl([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Tl([se("animationFrameService")],t.prototype,"animationFrameService",void 0),Tl([se("paginationProxy")],t.prototype,"paginationProxy",void 0),Tl([se("rowModel")],t.prototype,"rowModel",void 0),Tl([se("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Tl([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Tl([se("columnModel")],t.prototype,"columnModel",void 0),Tl([ie],t.prototype,"postConstruct",null),t}(tt),Pl=function(){function e(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||function(){return!1}}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var o=t||this.shouldSkipVerticalScroll();if(!o||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<i.left+n,this.tickRight=e.clientX>i.right-n,this.tickUp=e.clientY<i.top+n&&!o,this.tickDown=e.clientY>i.bottom-n&&!o,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){var e;if(this.tickCount++,e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){var o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-e),this.tickRight&&this.setHorizontalPosition(o+e)}this.onScrollCallback&&this.onScrollCallback()},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),Dl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Al=function(){return Al=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Al.apply(this,arguments)},Ml=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ll=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},xl=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ll(arguments[t]));return e},Fl=function(e){function t(t){var o=e.call(this)||this;return o.isMultiRowDrag=!1,o.isGridSorted=!1,o.isGridFiltered=!1,o.isRowGroupActive=!1,o.eContainer=t,o}return Dl(t,e),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var t=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,at.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_MODEL_UPDATED,(function(){t()})),t(),this.ctrlsService.whenReady((function(){var t=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Pl({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return t.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(e){return t.getScrollFeature().setVerticalScrollPosition(e)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})}))},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!l(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Vr.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.is("rowDragManaged");return e&&this.shouldPreventRowMove()?ua.ICON_NOT_ALLOWED:ua.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var t=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var o=this.gridOptionsService.is("rowDragMultiRow"),i=xl(this.selectionService.getSelectedNodes()).sort((function(e,o){return null==e.rowIndex||null==o.rowIndex?0:t.getRowIndexNumber(e)-t.getRowIndexNumber(o)})),n=e.dragItem.rowNode;return o&&-1!==i.indexOf(n)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[n])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(at.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach((function(e){e.setDragging(!0)})),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var t=e.dragSource.dragSourceDomDataKey;return t===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var t=this.ctrlsService.getGridBodyCtrl(),o=t.getGui(),i=e.dropZoneTarget;return!o.contains(i)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(at.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y,o=this.gridOptionsService.is("rowDragManaged");o&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,t){var o=this.isFromThisGrid(e),i=this.gridOptionsService.is("rowDragManaged"),n=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!o?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(n[0],t):this.moveRows(n,t))},t.prototype.getRowIndexNumber=function(e){return parseInt(Te(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var t=this,o=this.clientSideRowModel.getLastHighlightedRowNode(),i=o&&o.highlighted===ol.Below,n=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=i?1:0;if(this.isFromThisGrid(e))r.forEach((function(e){e.rowTop<n&&(s-=1)})),this.moveRows(r,n,s);else{var a=this.gridOptionsService.getRowIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===ol.Above&&l--,this.clientSideRowModel.updateRowData({add:r.map((function(e){return e.data})).filter((function(e){return!t.clientSideRowModel.getRowNode(a?a({data:e,level:0}):e.id)})),addIndex:l})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,t,o){void 0===o&&(o=0);var i=this.clientSideRowModel.ensureRowsAtPixel(e,t,o);i&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var t=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var o={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,o=e):(e.onDragEnter&&(o.onDragEnter=function(o){e.onDragEnter(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(o.onDragLeave=function(o){e.onDragLeave(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(o.onDragging=function(o){e.onDragging(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(o.onDragStop=function(o){e.onDragStop(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(Al({isInterestedIn:function(e){return e===Vr.RowDrag},getIconName:function(){return ua.ICON_MOVE},external:!0},o))}else G((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var t=this,o=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:o,onDragEnter:e.onDragEnter?function(o){i(o),e.onDragEnter(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_ENTER,o))}:i,onDragLeave:e.onDragLeave?function(o){n(o),e.onDragLeave(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_LEAVE,o))}:n,onDragging:e.onDragging?function(o){r(o),e.onDragging(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:e.onDragStop?function(o){s(o),e.onDragStop(t.draggingToRowDragEvent(at.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:o,onDragEnter:i,onDragLeave:n,onDragging:r,onDragStop:s,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,t){var o,i,n=this.mouseEventService.getNormalisedPosition(t).y,r=n>this.paginationProxy.getCurrentPageHeight(),s=-1;switch(r||(s=this.rowModel.getRowIndexAtPixel(n),o=this.rowModel.getRow(s)),t.vDirection){case Br.Down:i="down";break;case Br.Up:i="up";break;default:i=null;break}var a={type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:o,y:n,vDirection:i};return a},t.prototype.dispatchGridEvent=function(e,t){var o=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(o)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(at.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(at.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsService.is("rowDragManaged")||!this.gridOptionsService.is("suppressMoveWhenRowDragging")&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((function(e){e.setDragging(!1)}))},Ml([se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ml([se("rowModel")],t.prototype,"rowModel",void 0),Ml([se("paginationProxy")],t.prototype,"paginationProxy",void 0),Ml([se("columnModel")],t.prototype,"columnModel",void 0),Ml([se("focusService")],t.prototype,"focusService",void 0),Ml([se("sortController")],t.prototype,"sortController",void 0),Ml([se("filterManager")],t.prototype,"filterManager",void 0),Ml([se("selectionService")],t.prototype,"selectionService",void 0),Ml([se("mouseEventService")],t.prototype,"mouseEventService",void 0),Ml([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Ml([ae("rangeService")],t.prototype,"rangeService",void 0),Ml([ie],t.prototype,"postConstruct",null),t}(tt),Nl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Il=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e["ANIMATION_ON"]="ag-row-animation",e["ANIMATION_OFF"]="ag-row-no-animation"})(El||(El={}));var kl,Gl,Hl="ag-selectable",Vl="ag-force-vertical-scroll",Bl="ag-column-moving",jl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stickyTopHeight=0,t}return Nl(t,e),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,t,o,i,n,r){this.comp=e,this.eGridBody=t,this.eBodyViewport=o,this.eTop=i,this.eBottom=n,this.eStickyTop=r,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Sl(this.comp)),this.bodyScrollFeature=this.createManagedBean(new _l(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,o,n,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,at.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var t=this;e.forEach((function(e){t.addManagedListener(e,"focusin",(function(t){var o=t.target,i=xi(o,"ag-root",e);e.classList.toggle("ag-has-focus",!i)})),t.addManagedListener(e,"focusout",(function(t){var o=t.target,i=t.relatedTarget,n=e.contains(i),r=xi(i,"ag-root",e),s=xi(o,"ag-root",e);s||n&&!r||e.classList.remove("ag-has-focus")}))}))},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?Bl:null,e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1);var t=e?Hl:null;this.comp.setCellSelectableCss(t,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyTopWidth(e);var t=e&&this.gridOptionsService.getScrollbarWidth()||0,o=ri()?16:0,i="calc(100% + "+(t+o)+"px)";this.comp.setBodyViewportWidth(i)},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var t=function(t){var i=t.relatedTarget;if(null!==Zo(i)){var n=o.some((function(e){return e.contains(i)}))&&e.mouseEventService.isElementInThisGrid(i);if(!n){var r=e.popupService;n=r.getActivePopups().some((function(e){return e.contains(i)}))||r.isElementWithinCustomPopup(i)}n||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},o=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];o.forEach((function(o){return e.addManagedListener(o,"focusout",t)}))}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,o=-1===t?-1:e+t;this.comp.setRowCount(o)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowVerticalScroll"),t=e?Vl:null,o=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||o&&nn(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=t?El.ANIMATION_ON:El.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,t)};t(),this.addManagedListener(this.eventService,at.EVENT_HEIGHT_SCALE_CHANGED,t),this.addManagedPropertyListener("animateRows",t)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this,t=function(t,o,i){if(t||i){if(e.gridOptionsService.is("preventDefaultOnContextMenu")){var n=t||i;n.preventDefault()}var r=(t||o).target;r!==e.eBodyViewport&&r!==e.ctrlsService.getCenterRowContainerCtrl().getViewportElement()||e.contextMenuFactory&&(t?e.contextMenuFactory.onContextMenu(t,null,null,null,null,e.eGridBody):i&&e.contextMenuFactory.onContextMenu(null,i,null,null,null,e.eGridBody))}};this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this))},t.prototype.mockContextMenuForIPad=function(e){if($o()){var t=new Rs(this.eBodyViewport),o=function(t){e(void 0,t.touchStart,t.touchEvent)};this.addManagedListener(t,Rs.EVENT_LONG_TAP,o),this.addDestroyFunc((function(){return t.destroy()}))}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new Fl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,t=e.getPinnedTopTotalHeight();t&&(t+=1);var o=e.getPinnedBottomTotalHeight();o&&(o+=1),this.comp.setTopHeight(t),this.comp.setBottomHeight(o),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(o?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var t=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+t+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),t=e.getHeaderHeight(),o=this.pinnedRowModel.getPinnedTopTotalHeight(),i=0;t>0&&(i+=t+1),o>0&&(i+=o+1),this.comp.setStickyTopTop(i+"px")},t.prototype.sizeColumnsToFit=function(e,t){var o=this,i=this.isVerticalScrollShowing(),n=i?this.gridOptionsService.getScrollbarWidth():0,r=Ii(this.eGridBody),s=r-n;s>0?this.columnModel.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((function(){o.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((function(){o.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((function(){o.sizeColumnsToFit(e,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Il([se("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Il([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Il([se("columnModel")],t.prototype,"columnModel",void 0),Il([se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Il([ae("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Il([se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Il([se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Il([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Il([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Il([se("popupService")],t.prototype,"popupService",void 0),Il([se("mouseEventService")],t.prototype,"mouseEventService",void 0),Il([se("rowModel")],t.prototype,"rowModel",void 0),t}(tt);(function(e){e[e["FILL"]=0]="FILL",e[e["RANGE"]=1]="RANGE"})(kl||(kl={})),function(e){e[e["VALUE"]=0]="VALUE",e[e["DIMENSION"]=1]="DIMENSION"}(Gl||(Gl={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var Wl,zl="ag-cell-range-selected",Ul="ag-cell-range-chart",Kl="ag-cell-range-single-cell",Yl="ag-cell-range-chart-category",ql="ag-cell-range-handle",Jl="ag-cell-range-top",Xl="ag-cell-range-right",$l="ag-cell-range-bottom",Ql="ag-cell-range-left",Zl=function(){function e(e,t){this.beans=e,this.cellCtrl=t}return e.prototype.setComp=function(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(zl,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(zl+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(zl+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(zl+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(zl+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(Ul,this.hasChartRange),No(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass(Kl,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},e.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.top,i=!t&&e.right,n=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass(Jl,o),this.cellComp.addOrRemoveCssClass(Xl,i),this.cellComp.addOrRemoveCssClass($l,n),this.cellComp.addOrRemoveCssClass(Ql,r)},e.prototype.isSingleCell=function(){var e=this.beans.rangeService;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},e.prototype.getHasChartRange=function(){var e=this.beans.rangeService;if(!this.rangeCount||!e)return!1;var t=e.getCellRanges();return t.length>0&&t.every((function(e){return Ie([Gl.DIMENSION,Gl.VALUE],e.type)}))},e.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},e.prototype.getRangeBorders=function(){var e,t,o=this,i=this.beans.gridOptionsService.is("enableRtl"),n=!1,r=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,u=this.beans,c=u.rangeService,d=u.columnModel;i?(e=d.getDisplayedColAfter(l),t=d.getDisplayedColBefore(l)):(e=d.getDisplayedColBefore(l),t=d.getDisplayedColAfter(l));var p=c.getCellRanges().filter((function(e){return c.isCellInSpecificRange(o.cellCtrl.getCellPosition(),e)}));e||(a=!0),t||(r=!0);for(var h=0;h<p.length;h++){if(n&&r&&s&&a)break;var f=p[h],g=c.getRangeStartRow(f),m=c.getRangeEndRow(f);!n&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(n=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(s=!0),!a&&e&&f.columns.indexOf(e)<0&&(a=!0),!r&&t&&f.columns.indexOf(t)<0&&(r=!0)}return{top:n,right:r,bottom:s,left:a}},e.prototype.refreshHandle=function(){if(this.beans.rangeService){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(ql,!!this.selectionHandle)}},e.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,o=e.rangeService,i=o.getCellRanges(),n=i.length;if(this.rangeCount<1||n<1)return!1;var r=Te(i),s=this.cellCtrl.getCellPosition(),a=t.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=t.is("enableRangeHandle"),u=1===n&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var c=i[0].type===Gl.DIMENSION,d=c&&o.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(Yl,d),u=r.type===Gl.VALUE}return u&&null!=r.endRow&&o.isContiguousRange(r)&&o.isBottomRightCell(r,s)},e.prototype.addSelectionHandle=function(){var e=this.beans,t=e.gridOptionsService,o=e.rangeService,i=Te(o.getCellRanges()).type,n=t.is("enableFillHandle")&&a(i),r=n?kl.FILL:kl.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this.cellCtrl)},e.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},e}(),eu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),tu=function(e){function t(t,o){var i=e.call(this)||this;return i.cellCtrl=t,i.beans=o,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return eu(t,e),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();_e(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(e,t){return e+t.getActualWidth()}),0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var o=this.column,i=this.column.getPinned(),n=0;o&&n<e;n++){if(t.push(o),o=this.beans.columnModel.getDisplayedColAfter(o),!o||a(o))break;if(i!==o.getPinned())break}return t},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return e=this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Te(this.colsSpanning):this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===this.column.getPinned()){var o=this.beans.columnModel.getBodyContainerWidth();return t+o+(e||0)}return t+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsService.getRowHeightAsNumber(),t=e*this.rowSpan;this.eGui.style.height=t+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tt),ou=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),iu=function(e){function t(t,o){var i=e.call(this)||this;return i.staticClasses=[],i.cellCtrl=t,i.beans=o,i.column=t.getColumn(),i.rowNode=t.getRowNode(),i}return ou(t,e),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,t=this.column.getColDef(),o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(t.cellClassRules,o,(function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}),(function(t){return e.cellComp.addOrRemoveCssClass(t,!1)}))},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var t;if("function"===typeof e.cellStyle){var o={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},i=e.cellStyle;t=i(o)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}},t.prototype.applyClassesFromColDef=function(){var e=this,t=this.column.getColDef(),o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,o),this.staticClasses.length&&this.staticClasses.forEach((function(t){return e.cellComp.addOrRemoveCssClass(t,!0)}))},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tt),nu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ru=function(e){function t(t,o){var i=e.call(this)||this;return i.ctrl=t,i.beans=o,i}return nu(t,e),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;if(null==this.genericTooltipFeature){var t={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new Xn(t),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,t=e.getColumn?e.getColumn():void 0,o=e.getColDef?e.getColDef():void 0,i=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:o,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tt),su=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},au=function(){function e(){}return e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},su([se("resizeObserverService")],e.prototype,"resizeObserverService",void 0),su([se("paginationProxy")],e.prototype,"paginationProxy",void 0),su([se("context")],e.prototype,"context",void 0),su([se("columnApi")],e.prototype,"columnApi",void 0),su([se("gridApi")],e.prototype,"gridApi",void 0),su([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),su([se("expressionService")],e.prototype,"expressionService",void 0),su([se("environment")],e.prototype,"environment",void 0),su([se("rowRenderer")],e.prototype,"rowRenderer",void 0),su([se("templateService")],e.prototype,"templateService",void 0),su([se("valueService")],e.prototype,"valueService",void 0),su([se("eventService")],e.prototype,"eventService",void 0),su([se("columnModel")],e.prototype,"columnModel",void 0),su([se("headerNavigationService")],e.prototype,"headerNavigationService",void 0),su([se("navigationService")],e.prototype,"navigationService",void 0),su([se("columnAnimationService")],e.prototype,"columnAnimationService",void 0),su([ae("rangeService")],e.prototype,"rangeService",void 0),su([se("focusService")],e.prototype,"focusService",void 0),su([ae("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),su([se("popupService")],e.prototype,"popupService",void 0),su([se("valueFormatterService")],e.prototype,"valueFormatterService",void 0),su([se("stylingService")],e.prototype,"stylingService",void 0),su([se("columnHoverService")],e.prototype,"columnHoverService",void 0),su([se("userComponentFactory")],e.prototype,"userComponentFactory",void 0),su([se("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),su([se("animationFrameService")],e.prototype,"animationFrameService",void 0),su([se("dragService")],e.prototype,"dragService",void 0),su([se("dragAndDropService")],e.prototype,"dragAndDropService",void 0),su([se("sortController")],e.prototype,"sortController",void 0),su([se("filterManager")],e.prototype,"filterManager",void 0),su([se("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),su([se("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),su([se("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),su([se("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),su([se("selectionService")],e.prototype,"selectionService",void 0),su([ae("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),su([se("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),su([se("rowModel")],e.prototype,"rowModel",void 0),su([se("ctrlsService")],e.prototype,"ctrlsService",void 0),su([se("ctrlsFactory")],e.prototype,"ctrlsFactory",void 0),su([se("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),su([se("valueCache")],e.prototype,"valueCache",void 0),su([se("rowNodeEventThrottle")],e.prototype,"rowNodeEventThrottle",void 0),su([se("localeService")],e.prototype,"localeService",void 0),su([ie],e.prototype,"postConstruct",null),e=su([re("beans")],e),e}(),lu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uu=function(e){function t(t,o,i){var n=e.call(this)||this;return n.cellCtrl=t,n.beans=o,n.column=i,n}return lu(t,e),t.prototype.onMouseEvent=function(e,t){if(!Ke(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,o=t.eventService,i=t.rangeService,n=t.gridOptionsService,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);var s=this.cellCtrl.createEvent(e,at.EVENT_CELL_CLICKED);o.dispatchEvent(s);var a=this.column.getColDef();a.onCellClicked&&window.setTimeout((function(){return a.onCellClicked(s)}),0);var l=(n.is("singleClickEdit")||a.singleClickEdit)&&!n.is("suppressClickEdit");l&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!$o()||Ye("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},t.prototype.onCellDoubleClicked=function(e){var t=this.column.getColDef(),o=this.cellCtrl.createEvent(e,at.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"===typeof t.onCellDoubleClicked&&window.setTimeout((function(){return t.onCellDoubleClicked(o)}),0);var i=!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit");i&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var t=e.ctrlKey,o=e.metaKey,i=e.shiftKey,n=e.target,r=this.beans,s=r.eventService,a=r.rangeService;if(!this.isRightClickInExistingRange(e)){var l=a&&0!=a.getCellRanges().length;if(!i||!l){var u=Ko()&&!this.cellCtrl.isEditing()&&!Di(n);this.cellCtrl.focusCell(u)}if(i&&l&&e.preventDefault(),!this.containsWidget(n)){if(a){var c=this.cellCtrl.getCellPosition();if(i)a.extendLatestRangeToCell(c);else{var d=t||o;a.setRangeToCell(c,d)}}s.dispatchEvent(this.cellCtrl.createEvent(e,at.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeService;if(t){var o=t.isCellInAnyRange(this.cellCtrl.getCellPosition());if(o&&2===e.button)return!0}return!1},t.prototype.containsWidget=function(e){return xi(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,at.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var t=this.cellCtrl.createEvent(e,at.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var t=this.cellCtrl.getGui(),o=t.contains(e.target),i=t.contains(e.relatedTarget);return o&&i},t.prototype.destroy=function(){},t}(au),cu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),du=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.cellCtrl=t,s.beans=o,s.rowNode=n,s.rowCtrl=r,s}return cu(t,e),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var t=e.key;switch(t){case bn.ENTER:this.onEnterKeyDown(e);break;case bn.F2:this.onF2KeyDown(e);break;case bn.ESCAPE:this.onEscapeKeyDown(e);break;case bn.TAB:this.onTabKeyDown(e);break;case bn.BACKSPACE:case bn.DELETE:this.onBackspaceOrDeleteKeyPressed(t,e);break;case bn.DOWN:case bn.UP:case bn.RIGHT:case bn.LEFT:this.onNavigationKeyPressed(e,t);break}},t.prototype.onNavigationKeyPressed=function(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,t){var o=this,i=o.cellCtrl,n=o.beans,r=o.rowNode,s=n.gridOptionsService,a=n.rangeService,l=n.eventService;i.isEditing()||(l.dispatchEvent({type:at.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Mn(e,s.is("enableCellEditingOnBackspace"))?a&&s.isEnableRangeSelection()?a.clearCellRangeCellValues():i.isCellEditable()&&r.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(e,void 0,t),l.dispatchEvent({type:at.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,bn.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(bn.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(bn.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){var t=e.target,o=t!==this.eGui;if(!o&&!this.cellCtrl.isEditing()){var i=String.fromCharCode(e.charCode);" "===i?this.onSpaceKeyPressed(e):_n(e)&&(this.cellCtrl.startRowOrCellEdit(null,i,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){var o=this.rowNode.isSelected(),i=!o;if(i||!t.is("suppressRowDeselection")){var n=this.beans.gridOptionsService.is("groupSelectsFiltered"),r=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spacePressed"});void 0===o&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:n,event:e,source:"spacePressed"})}}e.preventDefault()},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tt),pu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fu=function(e){function t(t,o,i,n){var r=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return r.rowNode=t,r.column=o,r.beans=i,r.eCell=n,r}return pu(t,e),t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(yn("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation()})),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,o=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var i=function(){try{var o=JSON.stringify(t.rowNode.data);e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o)}catch(i){}};if(o){var n={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o(n)}else i()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},hu([ie],t.prototype,"postConstruct",null),t}(tr),gu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mu=function(){return mu=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},mu.apply(this,arguments)},vu="ag-cell",yu="ag-cell-auto-height",Cu="ag-cell-normal-height",bu="ag-cell-focus",wu="ag-cell-first-right-pinned",Eu="ag-cell-last-left-pinned",Su="ag-cell-not-inline-editing",Ru="ag-column-hover",Ou="ag-cell-wrap-text",Tu=0,_u=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.cellRangeFeature=null,r.cellPositionFeature=null,r.cellCustomStyleFeature=null,r.tooltipFeature=null,r.cellMouseListenerFeature=null,r.cellKeyboardListenerFeature=null,r.suppressRefreshCell=!1,r.onCellCompAttachedFuncs=[],r.column=t,r.rowNode=o,r.beans=i,r.rowCtrl=n,r.instanceId=t.getId()+"-"+Tu++,r.createCellPosition(),r.addFeatures(),r}return gu(t,e),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new tu(this,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.cellPositionFeature)||void 0===t||t.destroy(),e.cellPositionFeature=null})),this.cellCustomStyleFeature=new iu(this,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.cellCustomStyleFeature)||void 0===t||t.destroy(),e.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new uu(this,this.beans,this.column),this.addDestroyFunc((function(){var t;null===(t=e.cellMouseListenerFeature)||void 0===t||t.destroy(),e.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new du(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var t;null===(t=e.cellKeyboardListenerFeature)||void 0===t||t.destroy(),e.cellKeyboardListenerFeature=null}));var t=this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection();t&&(this.cellRangeFeature=new Zl(this.beans,this),this.addDestroyFunc((function(){var t;null===(t=e.cellRangeFeature)||void 0===t||t.destroy(),e.cellRangeFeature=null}))),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this,t=function(){var t=e.column.getColDef(),o=e.rowNode.data;if(t.tooltipField&&s(o))return x(o,t.tooltipField,e.column.isTooltipFieldContainsDots());var i=t.tooltipValueGetter;return i?i({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},o={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:t,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new ru(o,this.beans),this.addDestroyFunc((function(){var t;null===(t=e.tooltipFeature)||void 0===t||t.destroy(),e.tooltipFeature=null}))},t.prototype.setComp=function(e,t,o,i,n){var r,s,a,l;this.cellComp=e,this.eGui=t,this.printLayout=i,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),o&&this.setupAutoHeight(o),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var u=kt(this.column.getId());this.cellComp.setColId(u),this.cellComp.setRole("gridcell"),null===(r=this.cellPositionFeature)||void 0===r||r.setComp(t),null===(s=this.cellCustomStyleFeature)||void 0===s||s.setComp(e),null===(a=this.tooltipFeature)||void 0===a||a.setComp(e),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(e){return e()})),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var t=this;if(this.column.isAutoHeight()){var o=e.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=function(r){if(!t.editing&&t.isAlive()){var s=Fi(o),a=s.paddingTop,l=s.paddingBottom,u=e.offsetHeight,c=u+a+l;if(r<5){var d=t.beans.gridOptionsService.getDocument(),p=!d||!d.contains(e),h=0==c;if(p||h)return void t.beans.frameworkOverrides.setTimeout((function(){return n(r+1)}),0)}var f=Math.max(c,i);t.rowNode.setRowAutoHeight(f,t.column)}},r=function(){return n(0)};r();var s=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc((function(){s(),t.rowNode.setRowAutoHeight(void 0,t.column)}))}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var t=null!=this.valueFormatted?this.valueFormatted:this.value,o=this.createCellRendererParams(),i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o);this.cellComp.setRenderDetails(i,t,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var t=null!=this.rowNode.rowPinned,o="function"===typeof e,i=!t&&(o||!0===e);return i},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),o=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource);return t||o||i},t.prototype.startEditing=function(e,t,o,i){var n=this;if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=!1),void 0===i&&(i=null),this.isCellEditable()&&!this.editing)if(this.cellComp){var r=this.createCellEditorParams(e,t,o),s=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(s,r),l=null!=(null===a||void 0===a?void 0:a.popupFromSelector)?a.popupFromSelector:!!s.cellEditorPopup,u=null!=(null===a||void 0===a?void 0:a.popupPositionFromSelector)?a.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,l,u);var c=this.createEvent(i,at.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(c)}else this.onCellCompAttachedFuncs.push((function(){n.startEditing(e,t,o,i)}))},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var t={newValueExists:!1};if(e)return t;var o=this.cellComp.getCellEditor();if(!o)return t;var i=o.isCancelAfterEnd&&o.isCancelAfterEnd();if(i)return t;var n=o.getValue();return{newValue:n,newValueExists:!0}},t.prototype.saveNewValue=function(e,t){if(t===e)return!1;this.suppressRefreshCell=!0;var o=this.rowNode.setDataValue(this.column,t,"edit");return this.suppressRefreshCell=!1,o},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var t=this.takeValueFromCellEditor(e),o=t.newValue,i=t.newValueExists,n=this.getValueFromValueService(),r=!1;return i&&(r=this.saveNewValue(n,o)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,o,!e&&!!r),r},t.prototype.dispatchEditingStoppedEvent=function(e,t,o){var i=mu(mu({},this.createEvent(null,at.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:t,valueChanged:o});this.beans.eventService.dispatchEvent(i)},t.prototype.createCellEditorParams=function(e,t,o){return{value:this.getValueFromValueService(),eventKey:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:o,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this,t={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(t,o,i,n){return e.registerRowDragger(t,o,n)}};return t},t.prototype.parseValue=function(e){var t=this.column.getColDef(),o={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},i=t.valueParser;return s(i)?"function"===typeof i?i(o):this.beans.expressionService.evaluate(i,o):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){if(this.cellComp){var t=e.column===this.column;t&&this.refreshCell({})}},t.prototype.refreshCell=function(e){var t,o,i;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var n=this.column.getColDef(),r=null!=e&&!!e.newData,s=null!=e&&!!e.suppressFlash||!!n.suppressCellFlash,a=null==n.field&&null==n.valueGetter&&null==n.showRowGroup,l=e&&e.forceRefresh||a||r,u=this.updateAndFormatValue(),c=l||u;if(c){this.showValue(r);var d=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),p=!s&&!d&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||n.enableCellChangeFlash);p&&this.flashCell(),null===(t=this.cellCustomStyleFeature)||void 0===t||t.applyUserStyles(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyClassesFromColDef()}this.refreshToolTip(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){var e="fullRow"===this.beans.gridOptionsService.get("editType");if(!e){var t=this.beans.gridOptionsService.is("enterMovesDownAfterEdit");t&&this.beans.navigationService.navigateToNextCell(null,bn.DOWN,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var t=e&&e.flashDelay,o=e&&e.fadeDelay;this.animateCell("data-changed",t,o)},t.prototype.animateCell=function(e,t,o){var i,n,r=this,a="ag-cell-"+e,l="ag-cell-"+e+"-animation",u=this.beans.gridOptionsService;t||(t=null!==(i=u.getNum("cellFlashDelay"))&&void 0!==i?i:500),s(o)||(o=null!==(n=u.getNum("cellFadeDelay"))&&void 0!==n?n:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout((function(){r.isAlive()&&(r.cellComp.addOrRemoveCssClass(a,!1),r.cellComp.addOrRemoveCssClass(l,!0),r.eGui.style.transition="background-color "+o+"ms",window.setTimeout((function(){r.isAlive()&&(r.cellComp.addOrRemoveCssClass(l,!1),r.eGui.style.transition="")}),o))}),t)},t.prototype.onFlashCells=function(e){if(this.cellComp){var t=this.beans.cellPositionUtils.createId(this.getCellPosition()),o=e.cells[t];o&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var t=this.callValueFormatter(e);return null!=t?t:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var t=this.value,o=this.valueFormatted;this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value);var i=!!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=o);return i},t.prototype.valuesAreEqual=function(e,t){var o=this.column.getColDef();return o.equals?o.equals(e,t):e===t},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,o=this.beans.gridOptionsService.is("groupIncludeFooter"),i=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),n=t&&o&&!i,r=this.beans.valueService.getValue(this.column,this.rowNode,!1,n);return r},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,o=this.getGui();this.beans.gridOptionsService.setDomData(o,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return e.beans.gridOptionsService.setDomData(o,t.DOM_DATA_KEY_CELL_CTRL,null)}))},t.prototype.createEvent=function(e,t){var o={type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return o},t.prototype.onKeyPress=function(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.onKeyPress(e)},t.prototype.onKeyDown=function(e){var t;null===(t=this.cellKeyboardListenerFeature)||void 0===t||t.onKeyDown(e)},t.prototype.onMouseEvent=function(e,t){var o;null===(o=this.cellMouseListenerFeature)||void 0===o||o.onMouseEvent(e,t)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);Mo(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,t,o){void 0===o&&(o=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,t,this):this.startEditing(e,t,!0,o))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(wu,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(Eu,e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var t=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass(bu,t),t&&e&&e.forceBrowserFocus){var o=this.cellComp.getFocusableElement();o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var i="fullRow"===this.beans.gridOptionsService.get("editType");t||i||!this.editing||this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:r(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(vu,!0),this.cellComp.addOrRemoveCssClass(Su,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass(yu,e),this.cellComp.addOrRemoveCssClass(Cu,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Ru,e)}},t.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass(Ou,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var t=this.column.getColDef(),o=this.createEvent(e,at.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout((function(){return t.onCellContextMenu(o)}),0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],e.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new na;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new fu(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,t,o){var i=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,t);else{var n=this.createRowDragComp(e,t,o);n&&(this.customRowDragComp=n,this.addDestroyFunc((function(){i.beans.context.destroyBean(n),i.customRowDragComp=null})))}},t.prototype.createRowDragComp=function(e,t,o){var i=this,n=this.beans.gridOptionsService.is("pagination"),r=this.beans.gridOptionsService.is("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(r){if(!s)return void G((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(n)return void G((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var a=new pa((function(){return i.value}),this.rowNode,this.column,e,t,o);return this.beans.context.createBean(a),a},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(tt),Pu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Du=function(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Au=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Mu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Au(arguments[t]));return e};(function(e){e["Normal"]="Normal",e["FullWidth"]="FullWidth",e["FullWidthLoading"]="FullWidthLoading",e["FullWidthGroup"]="FullWidthGroup",e["FullWidthDetail"]="FullWidthDetail"})(Wl||(Wl={}));var Lu,xu,Fu=0,Nu=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.businessKeySanitised=null,s.beans=o,s.rowNode=t,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=n,s.printLayout=r,s.instanceId=t.id+"-"+Fu++,s.setAnimateFlags(i),s.initRowBusinessKey(),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return Pu(t,e),t.prototype.initRowBusinessKey=function(){var e=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"===typeof e){var t=e(this.rowNode);this.businessKeySanitised=kt(t)}},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,t,o){var i={rowComp:e,element:t,containerType:o};this.allRowGuis.push(i),o===xu.LEFT?this.leftGui=i:o===xu.RIGHT?this.rightGui=i:o===xu.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),"FullWidthLoading"!==this.rowType&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){this.allRowGuis=this.allRowGuis.filter((function(t){return t.containerType!==e})),e===xu.LEFT?this.leftGui=void 0:e===xu.RIGHT?this.rightGui=void 0:e===xu.FULL_WIDTH&&(this.fullWidthGui=void 0)},t.prototype.isCacheable=function(){return this.rowType===Wl.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},t.prototype.setCached=function(e){var t=e?"none":"";this.allRowGuis.forEach((function(e){return e.element.style.display=t}))},t.prototype.initialiseRowComp=function(e){var o=this,i=this.beans.gridOptionsService;this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var n=e.rowComp;n.setRole("row");var r=this.getInitialRowClasses(e.containerType);r.forEach((function(e){return n.addOrRemoveCssClass(e,!0)})),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&So(e.element,1==this.rowNode.expanded);var s=kt(this.rowNode.id);null!=s&&n.setRowId(s),null!=this.businessKeySanitised&&n.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&n.setTabIndex(-1),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){o.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()},t.prototype.executeSlideAndFadeAnimations=function(e){var t=this,o=e.containerType,i=this.slideInAnimation[o];i&&(z((function(){t.onTopChanged()})),this.slideInAnimation[o]=!1);var n=this.fadeInAnimation[o];n&&(z((function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[o]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.beans.gridOptionsService.isEnableRangeSelection())G((function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");else{var t=this.beans.localeService.getLocaleTextFunc(),o=new pa((function(){return"1 "+t("rowDragRow","row")}),this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(o,this.beans.context)}},t.prototype.setupFullWidth=function(e){var t=this.getPinnedForContainer(e.containerType),o=this.createFullWidthParams(e.element,t);if(this.rowType!=Wl.FullWidthDetail||me.assertRegistered(de.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var i;switch(this.rowType){case Wl.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(o);break;case Wl.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(o);break;case Wl.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(o);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(o);break}e.rowComp.showFullWidth(i)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,t;return null===(t=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===t?void 0:t.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var t=this.getCellCtrl(e);return t?t.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e,t=this.beans.gridOptionsService.getCallback("processRowPostCreate");if(t&&this.areAllContainersReady()){var o={eRow:null===(e=this.centerGui)||void 0===e?void 0:e.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(o)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),t=!!this.centerGui,o=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&t&&o},t.prototype.setRowType=function(){var e=this.rowNode.stub,t=this.rowNode.isFullWidthCell(),o=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),n=!!this.rowNode.group&&!this.rowNode.footer,r=n&&this.beans.gridOptionsService.isGroupUseEntireRow(i);this.rowType=e?Wl.FullWidthLoading:o?Wl.FullWidthDetail:t?Wl.FullWidth:r?Wl.FullWidthGroup:Wl.Normal},t.prototype.updateColumnLists=function(e){var t=this;if(void 0===e&&(e=!1),!this.isFullWidth()){var o=e||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout;o?this.updateColumnListsImpl():this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){t.active&&t.updateColumnListsImpl()}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,t,o){var i=this;void 0===o&&(o=null);var n={list:[],map:{}},r=function(e,t){n.list.push(t),n.map[e]=t};return t.forEach((function(t){var o=t.getInstanceId(),n=e.map[o];n||(n=new _u(t,i.rowNode,i.beans,i)),r(o,n)})),e.list.forEach((function(e){var t=null!=n.map[e.getColumn().getInstanceId()];if(!t){var s=!i.isCellEligibleToBeRemoved(e,o);s?r(e.getColumn().getInstanceId(),e):e.destroy()}})),n},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var o=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);var i=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var n=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}this.allRowGuis.forEach((function(t){var o=t.containerType===xu.LEFT?e.leftCellCtrls:t.containerType===xu.RIGHT?e.rightCellCtrls:e.centerCellCtrls;t.rowComp.setCellCtrls(o.list)}))},t.prototype.isCellEligibleToBeRemoved=function(e,t){var o=!0,i=!1,n=e.getColumn();if(n.getPinned()!=t)return o;var r=e.isEditing(),s=this.beans.focusService.isCellFocused(e.getCellPosition()),a=r||s;if(a){var l=e.getColumn(),u=this.beans.columnModel.getAllDisplayedColumns(),c=u.indexOf(l)>=0;return c?i:o}return o},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var t=s(this.rowNode.oldRowTop),o=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();t?(this.slideInAnimation.center=!0,this.slideInAnimation.left=o,this.slideInAnimation.right=i):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=o,this.fadeInAnimation.right=i)}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Wl.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,t=function(t,o){if(!t)return!0;var i=t.rowComp.getFullWidthCellRenderer();if(!i)return!1;if(!i.refresh)return!1;var n=e.createFullWidthParams(t.element,o),r=i.refresh(n);return r},o=t(this.fullWidthGui,null),i=t(this.centerGui,null),n=t(this.leftGui,"left"),r=t(this.rightGui,"right"),s=o&&i&&n&&r;return s},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,ea.EVENT_HEIGHT_CHANGED,(function(){return e.onRowHeightChanged()})),this.addManagedListener(this.rowNode,ea.EVENT_ROW_SELECTED,(function(){return e.onRowSelected()})),this.addManagedListener(this.rowNode,ea.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ea.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var t=this.beans.eventService;this.addManagedListener(t,at.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,at.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,at.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,at.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,at.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(t,at.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(t,at.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,at.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(t,at.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,ea.EVENT_ROW_INDEX_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,ea.EVENT_CELL_CHANGED,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onCellChanged(t)}))}))},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach((function(t){var o=e===ol.Above,i=e===ol.Below;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",o),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)}))},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)}))},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((function(o){o.rowComp.addOrRemoveCssClass("ag-row-group",e),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),So(o.element,e&&t)}))},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:r(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)})),o=t?t.element:null,i=o===e.target;if(i){var n=this.rowNode,r=this.beans.focusService.getFocusedCell(),s={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:r&&r.column};this.beans.navigationService.navigateToNextCell(e,e.key,s,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Ke(e)){var t=this.allRowGuis.find((function(t){return t.element.contains(e.target)})),o=t?t.element:null,i=o===e.target,n=null;i||(n=this.beans.focusService.findNextFocusableElement(o,!1,e.shiftKey)),(this.isFullWidth()&&i||!n)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var t,o=this.rowNode,i=!!e&&(this.isFullWidth()&&e.rowIndex===o.rowIndex&&e.rowPinned==o.rowPinned),n=this.fullWidthGui?this.fullWidthGui.element:null===(t=this.centerGui)||void 0===t?void 0:t.element;n&&(n.classList.toggle("ag-full-width-focus",i),i&&n.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,t){var o={list:[],map:{}};return e.list.forEach((function(e){e!==t&&(o.list.push(e),o.map[e.getInstanceId()]=e)})),o},t.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}},t.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:t}},t.prototype.createRowEventWithSource=function(e,t){var o=this.createRowEvent(e,t);return o.source=this,o},t.prototype.onRowDblClick=function(e){if(!Ke(e)){var t=this.createRowEventWithSource(at.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=xi(e.target,"ag-row-drag",3),this.isFullWidth()){var t=this.rowNode,o=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:o.getAllDisplayedColumns()[0],rowPinned:t.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var t=Ke(e)||this.lastMouseDownOnDragger;if(!t){var o=this.createRowEventWithSource(at.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(o);var i=e.ctrlKey||e.metaKey,n=e.shiftKey,r=this.beans.gridOptionsService.is("groupSelectsChildren");if(!(r&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var s=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),a=!this.beans.gridOptionsService.is("suppressRowDeselection"),l="rowClicked";if(this.rowNode.isSelected())s?this.rowNode.setSelectedParams({newValue:!1,event:e,source:l}):i?a&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:l}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:e,source:l});else{var u=!s&&!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:u,rangeSelect:n,event:e,source:l})}}}},t.prototype.setupDetailRowAutoHeight=function(e){var t=this;if(this.rowType===Wl.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var o=function(){var o=e.clientHeight;if(null!=o&&o>0){var i=function(){t.rowNode.setRowHeight(o),t.beans.clientSideRowModel?t.beans.clientSideRowModel.onRowHeightChanged():t.beans.serverSideRowModel&&t.beans.serverSideRowModel.onRowHeightChanged()};t.beans.frameworkOverrides.setTimeout(i,0)}},i=this.beans.resizeObserverService.observeResize(e,o);this.addDestroyFunc(i),o()}},t.prototype.createFullWidthParams=function(e,t){var o=this,i={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(e,t,i,n){return o.addFullWidthRowDragging(e,t,i,n)}};return i},t.prototype.addFullWidthRowDragging=function(e,t,o,i){if(void 0===o&&(o=""),this.isFullWidth()){var n=new pa((function(){return o}),this.rowNode,void 0,e,t,i);this.createManagedBean(n,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var t="ag-row-level-"+e,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(o,!1)}))}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-last",t)})))},t.prototype.stopEditing=function(e){var t,o;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var i=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;var r=!1;try{for(var s=Du(i),a=s.next();!a.done;a=s.next()){var l=a.value,u=l.stopEditing(e);n&&!e&&!r&&u&&(r=!0)}}catch(d){t={error:d}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(t)throw t.error}}if(r){var c=this.createRowEvent(at.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(c)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-editing",e)}));var t=e?this.createRowEvent(at.EVENT_ROW_EDITING_STARTED):this.createRowEvent(at.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},t.prototype.startRowEditing=function(e,t,o,i){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=null),!this.editingRow){var n=this.getAllCellCtrls().reduce((function(n,r){var s=r===o;return s?r.startEditing(e,t,s,i):r.startEditing(null,null,s,i),!!n||r.isEditing()}),!1);n&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){var e=Mu(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);t&&t.length&&t.forEach((function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}))},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!0)}))}),(function(t){e.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass(t,!1)}))}))},t.prototype.setStylesFromGridOptions=function(e){var t=this.processStylesFromGridOptions();this.forEachGui(e,(function(e){return e.rowComp.setUserStyles(t)}))},t.prototype.getPinnedForContainer=function(e){var t=e===xu.LEFT?"left":e===xu.RIGHT?"right":null;return t},t.prototype.getInitialRowClasses=function(e){var t=this.getPinnedForContainer(e),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsService.get("rowStyle");if(!e||"function"!==typeof e){var t,o=this.beans.gridOptionsService.getCallback("getRowStyle");if(o){var i={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};t=o(i)}return Object.assign({},e,t)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var t=this,o=!!this.rowNode.isSelected();this.forEachGui(e,(function(e){e.rowComp.addOrRemoveCssClass("ag-row-selected",o),No(e.element,!!o||void 0);var i=t.createAriaLabel();mo(e.element,null==i?"":i)}))},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsService.is("suppressRowDeselection")){var t=this.beans.localeService.getLocaleTextFunc(),o=t(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.");return o}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",(function(){return t.rowNode.onMouseEnter()})),this.addManagedListener(e,"mouseleave",(function(){return t.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,ea.EVENT_MOUSE_ENTER,(function(){t.beans.dragService.isDragging()||t.beans.gridOptionsService.is("suppressRowHoverHighlight")||e.classList.add("ag-row-hover")})),this.addManagedListener(this.rowNode,ea.EVENT_MOUSE_LEAVE,(function(){e.classList.remove("ag-row-hover")})))},t.prototype.roundRowTopToBounds=function(e){var t=this.beans.ctrlsService.getGridBodyCtrl(),o=t.getScrollFeature().getVScrollPosition(),i=this.applyPaginationOffset(o.top,!0)-100,n=this.applyPaginationOffset(o.bottom,!0)+100;return Math.min(Math.max(i,e),n)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,t){var o=e?[e]:this.allRowGuis;o.forEach(t)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var t=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),i=this.beans.gridOptionsService.isGetRowHeightFunction(),n=i?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,r=n?Math.min(o,n)-2+"px":void 0;this.forEachGui(e,(function(e){e.element.style.height=t+"px",r&&e.element.style.setProperty("--ag-line-height",r)}))}},t.prototype.addEventListener=function(t,o){e.prototype.addEventListener.call(this,t,o)},t.prototype.removeEventListener=function(t,o){e.prototype.removeEventListener.call(this,t,o)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var t=this.createRowEvent(at.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(t),this.beans.eventService.dispatchEvent(t),e.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var e=null!=this.rowNode.rowTop;if(e){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))}},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(e){return e.list.forEach((function(e){return e.destroy()})),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var t=this;this.forEachGui(e,(function(e){e.rowComp.addOrRemoveCssClass("ag-row-focus",t.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!t.rowFocused)}))},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,t){if(void 0===t&&(t=!1),this.rowNode.isRowPinned())return e;var o=this.beans.paginationProxy.getPixelOffset(),i=t?1:-1;return e+o*i},t.prototype.setRowTop=function(e){if(!this.printLayout&&s(e)){var t=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()?t:this.beans.rowContainerHeightService.getRealPixelPosition(t),i=o+"px";this.setRowTopStyle(i)}},t.prototype.getInitialRowTop=function(e){var t=this.beans.gridOptionsService.is("suppressRowTransform");return t?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){var t=this.beans.gridOptionsService.is("suppressRowTransform");return t?void 0:"translateY("+this.getInitialRowTopShared(e)+")"},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var t;if(this.isSticky())t=this.rowNode.stickyRowTop;else{var o=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(o);t=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return t+"px"},t.prototype.setRowTopStyle=function(e){var t=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach((function(o){return t?o.rowComp.setTop(e):o.rowComp.setTransform("translateY("+e+")")}))},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var t=null;return this.getAllCellCtrls().forEach((function(o){o.getColumn()==e&&(t=o)})),null!=t||this.getAllCellCtrls().forEach((function(o){o.getColSpanningList().indexOf(e)>=0&&(t=o)})),t},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(e){var t=this.rowNode.getRowIndexString(),o=this.beans.headerNavigationService.getHeaderRowCount(),i=this.rowNode.rowIndex%2===0,n=o+this.rowNode.rowIndex+1;this.forEachGui(e,(function(e){e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",i),e.rowComp.addOrRemoveCssClass("ag-row-odd",!i),Do(e.element,n)}))},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(tt),Iu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ku=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gu=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Hu=function(e){function t(t){var o=e.call(this)||this;return o.element=t,o}return Iu(t,e),t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this,t=["keydown","keypress"];t.forEach((function(t){var o=e.processKeyboardEvent.bind(e,t);e.addManagedListener(e.element,t,o)}))},t.prototype.addMouseListeners=function(){var e=this,t=Ye("touchstart")?"touchstart":"mousedown",o=["dblclick","contextmenu","mouseover","mouseout","click",t];o.forEach((function(t){var o=e.processMouseEvent.bind(e,t);e.addManagedListener(e.element,t,o)}))},t.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!Ke(t)){var o=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,null,o,i):(i&&i.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if($o()){var t=new Rs(this.element),o=function(t){var o=e.getRowForEvent(t.touchEvent),i=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,o,i)};this.addManagedListener(t,Rs.EVENT_LONG_TAP,o),this.addDestroyFunc((function(){return t.destroy()}))}},t.prototype.getRowForEvent=function(e){var t=e.target;while(t){var o=this.gridOptionsService.getDomData(t,Nu.DOM_DATA_KEY_ROW_CTRL);if(o)return o;t=t.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,t,o,i){var n=o?o.getRowNode():null,r=i?i.getColumn():null,s=null;if(r){var a=e||t;i.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(r,n)}var l=this.ctrlsService.getGridBodyCtrl(),u=i?i.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,t,n,r,s,u)},t.prototype.processKeyboardEvent=function(e,t){var o=qe(this.gridOptionsService,t,_u.DOM_DATA_KEY_CELL_CTRL),i=qe(this.gridOptionsService,t,Nu.DOM_DATA_KEY_ROW_CTRL);t.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))},t.prototype.processCellKeyboardEvent=function(e,t,o){var i=e.getRowNode(),n=e.getColumn(),r=e.isEditing(),s=!Pn(this.gridOptionsService,o,i,n,r);if(s)switch(t){case"keydown":var a=!r&&this.navigationService.handlePageScrollingKey(o);a||e.onKeyDown(o),this.doGridOperations(o,e.isEditing());break;case"keypress":e.onKeyPress(o);break}if("keydown"===t){var l=e.createEvent(o,at.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(l)}if("keypress"===t){var u=e.createEvent(o,at.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(u)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,t,o){var i=e.getRowNode(),n=this.focusService.getFocusedCell(),r=n&&n.column,s=!Pn(this.gridOptionsService,o,i,r,!1);if(s){var a=o.key;if("keydown"===t)switch(a){case bn.PAGE_HOME:case bn.PAGE_END:this.navigationService.handlePageScrollingKey(o);break;case bn.UP:case bn.DOWN:e.onKeyboardNavigate(o);break;case bn.TAB:e.onTabKeyDown(o)}}if("keydown"===t){var l=e.createRowEvent(at.EVENT_CELL_KEY_DOWN,o);this.eventService.dispatchEvent(l)}if("keypress"===t){var u=e.createRowEvent(at.EVENT_CELL_KEY_PRESS,o);this.eventService.dispatchEvent(u)}},t.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t&&this.mouseEventService.isEventFromThisGrid(e)){var o=An(e);return o===bn.A?this.onCtrlAndA(e):o===bn.C?this.onCtrlAndC(e):o===bn.X?this.onCtrlAndX(e):o===bn.V?this.onCtrlAndV():o===bn.D?this.onCtrlAndD(e):o===bn.Z?this.onCtrlAndZ(e):o===bn.Y?this.onCtrlAndY():void 0}},t.prototype.onCtrlAndA=function(e){var t=this,o=t.pinnedRowModel,i=t.paginationProxy,n=t.rangeService;if(n&&i.isRowsToRender()){var r=Gu([o.isEmpty("top"),o.isEmpty("bottom")],2),s=r[0],a=r[1],u=s?null:"top",c=void 0,d=void 0;a?(c=null,d=this.paginationProxy.getRowCount()-1):(c="bottom",d=o.getPinnedBottomRowData().length-1);var p=this.columnModel.getAllDisplayedColumns();if(l(p))return;n.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:d,rowEndPinned:c,columnStart:p[0],columnEnd:Te(p)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndX=function(e){this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&(this.clipboardService.cutToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){me.isRegistered(de.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){me.isRegistered(de.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},ku([se("mouseEventService")],t.prototype,"mouseEventService",void 0),ku([se("valueService")],t.prototype,"valueService",void 0),ku([ae("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ku([se("ctrlsService")],t.prototype,"ctrlsService",void 0),ku([se("navigationService")],t.prototype,"navigationService",void 0),ku([se("focusService")],t.prototype,"focusService",void 0),ku([se("undoRedoService")],t.prototype,"undoRedoService",void 0),ku([se("columnModel")],t.prototype,"columnModel",void 0),ku([se("paginationProxy")],t.prototype,"paginationProxy",void 0),ku([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ku([ae("rangeService")],t.prototype,"rangeService",void 0),ku([ae("clipboardService")],t.prototype,"clipboardService",void 0),ku([ie],t.prototype,"postConstruct",null),t}(tt),Vu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ju=function(e){function t(t){var o=e.call(this)||this;return o.centerContainerCtrl=t,o}return Vu(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()})),this.addManagedListener(this.eventService,at.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,t=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),t=Ni(e);if(this.bodyHeight!==t){this.bodyHeight=t;var o={type:at.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(o)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCtrl.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowHorizontalScroll");return e||this.centerContainerCtrl.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},Bu([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Bu([se("columnModel")],t.prototype,"columnModel",void 0),Bu([se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Bu([ie],t.prototype,"postConstruct",null),t}(tt),Wu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uu=function(e){function t(t){var o=e.call(this)||this;return o.element=t,o}return Wu(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,at.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Ai(this.element,t),sn(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},zu([se("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),zu([ie],t.prototype,"postConstruct",null),t}(tt),Ku=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Yu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qu=function(e){function t(t){var o=e.call(this)||this;return o.element=t,o}return Ku(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,at.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Ai(this.element,t),sn(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},Yu([se("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Yu([ie],t.prototype,"postConstruct",null),t}(tt),Ju=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Xu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$u=function(e){function t(t,o){var i=e.call(this)||this;return i.eContainer=t,i.eWrapper=o,i}return Ju(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,at.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?e+"px":"";this.eContainer.style.height=t,this.eWrapper&&(this.eWrapper.style.height=t)},Xu([se("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Xu([ie],t.prototype,"postConstruct",null),t}(tt),Qu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zu=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ec=function(e){function t(t){var o=e.call(this)||this;return o.eContainer=t,o}return Qu(t,e),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsService.isEnableRangeSelection()&&!a(this.rangeService)){var t={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(t),this.addDestroyFunc((function(){return e.dragService.removeDragSource(t)}))}},Zu([ae("rangeService")],t.prototype,"rangeService",void 0),Zu([se("dragService")],t.prototype,"dragService",void 0),Zu([ie],t.prototype,"postConstruct",null),t}(tt),tc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),oc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ic=function(e){function t(t){var o=e.call(this)||this;return o.callback=t,o}return tc(t,e),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,t=this.gridOptionsService.isDomLayout("print"),o=e.getBodyContainerWidth(),i=e.getDisplayedColumnsLeftWidth(),n=e.getDisplayedColumnsRightWidth(),r=t?o+i+n:o;this.callback(r)},oc([se("columnModel")],t.prototype,"columnModel",void 0),oc([ie],t.prototype,"postConstruct",null),t}(tt),nc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),rc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},sc=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},ac=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sc(arguments[t]));return e};function lc(e){switch(e){case Lu.CENTER:case Lu.TOP_CENTER:case Lu.STICKY_TOP_CENTER:case Lu.BOTTOM_CENTER:return xu.CENTER;case Lu.LEFT:case Lu.TOP_LEFT:case Lu.STICKY_TOP_LEFT:case Lu.BOTTOM_LEFT:return xu.LEFT;case Lu.RIGHT:case Lu.TOP_RIGHT:case Lu.STICKY_TOP_RIGHT:case Lu.BOTTOM_RIGHT:return xu.RIGHT;case Lu.FULL_WIDTH:case Lu.TOP_FULL_WIDTH:case Lu.STICKY_TOP_FULL_WIDTH:case Lu.BOTTOM_FULL_WIDTH:return xu.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(function(e){e["LEFT"]="left",e["RIGHT"]="right",e["CENTER"]="center",e["FULL_WIDTH"]="fullWidth",e["TOP_LEFT"]="topLeft",e["TOP_RIGHT"]="topRight",e["TOP_CENTER"]="topCenter",e["TOP_FULL_WIDTH"]="topFullWidth",e["STICKY_TOP_LEFT"]="stickyTopLeft",e["STICKY_TOP_RIGHT"]="stickyTopRight",e["STICKY_TOP_CENTER"]="stickyTopCenter",e["STICKY_TOP_FULL_WIDTH"]="stickyTopFullWidth",e["BOTTOM_LEFT"]="bottomLeft",e["BOTTOM_RIGHT"]="bottomRight",e["BOTTOM_CENTER"]="bottomCenter",e["BOTTOM_FULL_WIDTH"]="bottomFullWidth"})(Lu||(Lu={})),function(e){e["LEFT"]="left",e["RIGHT"]="right",e["CENTER"]="center",e["FULL_WIDTH"]="fullWidth"}(xu||(xu={}));var uc=Vt([[Lu.CENTER,"ag-center-cols-container"],[Lu.LEFT,"ag-pinned-left-cols-container"],[Lu.RIGHT,"ag-pinned-right-cols-container"],[Lu.FULL_WIDTH,"ag-full-width-container"],[Lu.TOP_CENTER,"ag-floating-top-container"],[Lu.TOP_LEFT,"ag-pinned-left-floating-top"],[Lu.TOP_RIGHT,"ag-pinned-right-floating-top"],[Lu.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Lu.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Lu.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Lu.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Lu.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Lu.BOTTOM_CENTER,"ag-floating-bottom-container"],[Lu.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Lu.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Lu.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),cc=Vt([[Lu.CENTER,"ag-center-cols-viewport"],[Lu.TOP_CENTER,"ag-floating-top-viewport"],[Lu.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Lu.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),dc=Vt([[Lu.CENTER,"ag-center-cols-clipper"]]),pc=function(e){function t(t){var o=e.call(this)||this;return o.visible=!0,o.name=t,o}return nc(t,e),t.getRowContainerCssClasses=function(e){var t=uc.get(e),o=cc.get(e),i=dc.get(e);return{container:t,viewport:o,wrapper:i}},t.getPinned=function(e){switch(e){case Lu.BOTTOM_LEFT:case Lu.TOP_LEFT:case Lu.STICKY_TOP_LEFT:case Lu.LEFT:return"left";case Lu.BOTTOM_RIGHT:case Lu.TOP_RIGHT:case Lu.STICKY_TOP_RIGHT:case Lu.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([Lu.CENTER],(function(){return e.viewportSizeFeature=e.createManagedBean(new ju(e))}))},t.prototype.registerWithCtrlsService=function(){switch(this.name){case Lu.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Lu.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Lu.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Lu.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Lu.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Lu.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Lu.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Lu.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Lu.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Lu.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Lu.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Lu.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,t){e.indexOf(this.name)>=0&&t()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,t,o,i){var n=this;this.comp=e,this.eContainer=t,this.eViewport=o,this.eWrapper=i,this.createManagedBean(new Hu(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var r=[Lu.TOP_CENTER,Lu.TOP_LEFT,Lu.TOP_RIGHT],s=[Lu.STICKY_TOP_CENTER,Lu.STICKY_TOP_LEFT,Lu.STICKY_TOP_RIGHT],a=[Lu.BOTTOM_CENTER,Lu.BOTTOM_LEFT,Lu.BOTTOM_RIGHT],l=[Lu.CENTER,Lu.LEFT,Lu.RIGHT],u=ac(r,a,l,s),c=[Lu.CENTER,Lu.LEFT,Lu.RIGHT,Lu.FULL_WIDTH],d=[Lu.CENTER,Lu.TOP_CENTER,Lu.STICKY_TOP_CENTER,Lu.BOTTOM_CENTER],p=[Lu.LEFT,Lu.BOTTOM_LEFT,Lu.TOP_LEFT,Lu.STICKY_TOP_LEFT],h=[Lu.RIGHT,Lu.BOTTOM_RIGHT,Lu.TOP_RIGHT,Lu.STICKY_TOP_RIGHT];this.forContainers(p,(function(){n.pinnedWidthFeature=n.createManagedBean(new Uu(n.eContainer)),n.addManagedListener(n.eventService,at.EVENT_LEFT_PINNED_WIDTH_CHANGED,(function(){return n.onPinnedWidthChanged()}))})),this.forContainers(h,(function(){n.pinnedWidthFeature=n.createManagedBean(new qu(n.eContainer)),n.addManagedListener(n.eventService,at.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(function(){return n.onPinnedWidthChanged()}))})),this.forContainers(c,(function(){return n.createManagedBean(new $u(n.eContainer,n.eWrapper))})),this.forContainers(u,(function(){return n.createManagedBean(new ec(n.eContainer))})),this.forContainers(d,(function(){return n.createManagedBean(new ic((function(e){return n.comp.setContainerWidth(e+"px")})))})),ri()&&(this.forContainers([Lu.CENTER],(function(){var e=n.enableRtl?at.EVENT_LEFT_PINNED_WIDTH_CHANGED:at.EVENT_RIGHT_PINNED_WIDTH_CHANGED;n.addManagedListener(n.eventService,e,(function(){return n.refreshPaddingForFakeScrollbar()}))})),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},t.prototype.refreshPaddingForFakeScrollbar=function(){var e=this,t=e.enableRtl,o=e.columnModel,i=e.name,n=e.eWrapper,r=e.eContainer,s=t?Lu.LEFT:Lu.RIGHT;this.forContainers([Lu.CENTER,s],(function(){var e=o.getContainerWidth(s),a=t?"marginLeft":"marginRight";i===Lu.CENTER?n.style[a]=e?"0px":"16px":r.style[a]=e?"16px":"0px"}))},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_SCROLL_VISIBILITY_CHANGED,(function(){return e.onScrollVisibilityChanged()})),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return e.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return e.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_ROWS_CHANGED,(function(){return e.onDisplayedRowsChanged()})),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,t=[Lu.STICKY_TOP_CENTER,Lu.STICKY_TOP_LEFT,Lu.STICKY_TOP_RIGHT,Lu.STICKY_TOP_FULL_WIDTH],o=t.indexOf(this.name)>=0;if(o)this.comp.setDomOrder(!0);else{var i=function(){var t=e.gridOptionsService.is("ensureDomOrder"),o=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(t||o)};this.addManagedPropertyListener("domLayout",i),i()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([Lu.TOP_CENTER,Lu.STICKY_TOP_CENTER,Lu.BOTTOM_CENTER],(function(){var t=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",t)}))},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([Lu.CENTER],(function(){return e.onHorizontalViewportChanged()}))},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([Lu.CENTER],(function(){return e.onHorizontalViewportChanged()}))},t.prototype.onScrollVisibilityChanged=function(){if(this.name===Lu.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing(),t=e&&this.gridOptionsService.getScrollbarWidth()||0,o=0==t?"100%":"calc(100% + "+t+"px)";this.comp.setViewportHeight(o)}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,t=function(t){e.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc((function(){return e.eContainer.removeEventListener("touchmove",t)}))},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),t=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,t)},t.prototype.getCenterWidth=function(){return Ii(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Vi(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((function(){return t()}))},t.prototype.isViewportVisible=function(){return Ui(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return on(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Vi(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowHorizontalScroll");return e||on(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){Bi(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),ri()&&this.refreshPaddingForFakeScrollbar()},t.prototype.onDisplayedRowsChanged=function(){var e=this,t=this.name===Lu.TOP_FULL_WIDTH||this.name===Lu.STICKY_TOP_FULL_WIDTH||this.name===Lu.BOTTOM_FULL_WIDTH||this.name===Lu.FULL_WIDTH,o=function(o){var i=o.isFullWidth(),n=e.gridOptionsService.isDomLayout("print"),r=e.embedFullWidthRows||n,s=t?!r&&i:r||!i;return s},i=this.visible?this.getRowCtrls():[],n=i.filter(o);this.comp.setRowCtrls(n)},t.prototype.getRowCtrls=function(){switch(this.name){case Lu.TOP_CENTER:case Lu.TOP_LEFT:case Lu.TOP_RIGHT:case Lu.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Lu.STICKY_TOP_CENTER:case Lu.STICKY_TOP_LEFT:case Lu.STICKY_TOP_RIGHT:case Lu.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Lu.BOTTOM_CENTER:case Lu.BOTTOM_LEFT:case Lu.BOTTOM_RIGHT:case Lu.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},rc([se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),rc([se("dragService")],t.prototype,"dragService",void 0),rc([se("ctrlsService")],t.prototype,"ctrlsService",void 0),rc([se("columnModel")],t.prototype,"columnModel",void 0),rc([se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),rc([se("rowRenderer")],t.prototype,"rowRenderer",void 0),rc([ie],t.prototype,"postConstruct",null),t}(tt),hc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),fc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gc='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Lu.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Lu.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Lu.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Lu.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+Lu.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+Lu.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+Lu.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+Lu.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Lu.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Lu.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Lu.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Lu.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Lu.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Lu.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Lu.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Lu.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',mc=function(e){function t(){return e.call(this,gc)||this}return hc(t,e),t.prototype.init=function(){var e=this,t=function(e,t){var o=e+"px";t.style.minHeight=o,t.style.height=o},o={setRowAnimationCssOnBodyViewport:function(t,o){return e.setRowAnimationCssOnBodyViewport(t,o)},setColumnCount:function(t){return Ao(e.getGui(),t)},setRowCount:function(t){return Po(e.getGui(),t)},setTopHeight:function(o){return t(o,e.eTop)},setBottomHeight:function(o){return t(o,e.eBottom)},setTopDisplay:function(t){return e.eTop.style.display=t},setBottomDisplay:function(t){return e.eBottom.style.display=t},setStickyTopHeight:function(t){return e.eStickyTop.style.height=t},setStickyTopTop:function(t){return e.eStickyTop.style.top=t},setStickyTopWidth:function(t){return e.eStickyTop.style.width=t},setColumnMovingCss:function(t,o){return e.addOrRemoveCssClass(Bl,o)},updateLayoutClasses:function(t,o){var i=[e.eBodyViewport.classList,e.eBodyClipper.classList,e.eBody.classList];i.forEach((function(e){e.toggle(ul.AUTO_HEIGHT,o.autoHeight),e.toggle(ul.NORMAL,o.normal),e.toggle(ul.PRINT,o.print)})),e.addOrRemoveCssClass(ul.AUTO_HEIGHT,o.autoHeight),e.addOrRemoveCssClass(ul.NORMAL,o.normal),e.addOrRemoveCssClass(ul.PRINT,o.print)},setAlwaysVerticalScrollClass:function(t,o){return e.eBodyViewport.classList.toggle(Vl,o)},registerBodyViewportResizeListener:function(t){var o=e.resizeObserverService.observeResize(e.eBodyViewport,t);e.addDestroyFunc((function(){return o()}))},setPinnedTopBottomOverflowY:function(t){return e.eTop.style.overflowY=e.eBottom.style.overflowY=t},setCellSelectableCss:function(t,o){[e.eTop,e.eBodyViewport,e.eBottom].forEach((function(e){return e.classList.toggle(Hl,o)}))},setBodyViewportWidth:function(t){return e.eBodyViewport.style.width=t}};this.ctrl=this.createManagedBean(new jl),this.ctrl.setComp(o,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&_o(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,t){var o=this.eBodyViewport.classList;o.toggle(El.ANIMATION_ON,t),o.toggle(El.ANIMATION_OFF,!t)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},fc([se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),fc([ae("rangeService")],t.prototype,"rangeService",void 0),fc([or("eBodyViewport")],t.prototype,"eBodyViewport",void 0),fc([or("eStickyTop")],t.prototype,"eStickyTop",void 0),fc([or("eTop")],t.prototype,"eTop",void 0),fc([or("eBottom")],t.prototype,"eBottom",void 0),fc([or("gridHeader")],t.prototype,"headerRootComp",void 0),fc([or("eBodyClipper")],t.prototype,"eBodyClipper",void 0),fc([or("eBody")],t.prototype,"eBody",void 0),fc([ie],t.prototype,"init",null),t}(tr),vc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),yc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vc(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}},t.prototype.setScrollsVisible=function(e){var t=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(t){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var o={type:at.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(o)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},yc([se("ctrlsService")],t.prototype,"ctrlsService",void 0),yc([ie],t.prototype,"postConstruct",null),t=yc([re("scrollVisibleService")],t),t}(tt),bc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ec=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=o.gridInstanceSequence.next(),t}var o;return bc(t,e),o=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(e){e[o.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return qe(this.gridOptionsService,e,_u.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(e){var t=this.isElementInThisGrid(e.target);return t},t.prototype.isElementInThisGrid=function(e){var t=e;while(t){var i=t[o.GRID_DOM_KEY];if(s(i)){var n=i===this.gridInstanceId;return n}t=t.parentElement}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t,o,i=this.gridOptionsService.isDomLayout("normal"),n=e;if(null!=n.clientX||null!=n.clientY?(t=n.clientX,o=n.clientY):(t=n.x,o=n.y),i){var r=this.ctrlsService.getGridBodyCtrl(),s=r.getScrollFeature().getVScrollPosition(),a=r.getScrollFeature().getHScrollPosition();t+=a.left,o+=s.top}return{x:t,y:o}},t.gridInstanceSequence=new zn,t.GRID_DOM_KEY="__ag_grid_instance",wc([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t=o=wc([re("mouseEventService")],t),t}(tt),Sc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rc=function(){return Rc=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Rc.apply(this,arguments)},Oc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tc=function(e){function t(){var t=e.call(this)||this;return t.onPageDown=Y(t.onPageDown,100),t.onPageUp=Y(t.onPageUp,100),t}return Sc(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))},t.prototype.handlePageScrollingKey=function(e){var t=e.key,o=e.altKey,i=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,r=this.mouseEventService.getCellPositionForEvent(e),s=!1;switch(t){case bn.PAGE_HOME:case bn.PAGE_END:i||o||(this.onHomeOrEndKey(t),s=!0);break;case bn.LEFT:case bn.RIGHT:case bn.UP:case bn.DOWN:if(!r)return!1;!i||o||n||(this.onCtrlUpDownLeftRight(t,r),s=!0);break;case bn.PAGE_DOWN:if(!r)return!1;i||o||(this.onPageDown(r),s=!0);break;case bn.PAGE_UP:if(!r)return!1;i||o||(this.onPageUp(r),s=!0);break}return s&&e.preventDefault(),s},t.prototype.navigateTo=function(e){var t=e.scrollIndex,o=e.scrollType,i=e.scrollColumn,n=e.focusIndex,r=e.focusColumn;if(s(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),s(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,o),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:r,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:n,rowPinned:null,column:r};this.rangeService.setRangeToCell(a)}},t.prototype.onPageDown=function(e){var t=this.ctrlsService.getGridBodyCtrl(),o=t.getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),n=this.paginationProxy.getPixelOffset(),r=o.top+i,s=this.paginationProxy.getRowIndexAtPixel(r+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s):this.navigateToNextPage(e,s)},t.prototype.onPageUp=function(e){var t=this.ctrlsService.getGridBodyCtrl(),o=t.getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),n=o.top,r=this.paginationProxy.getRowIndexAtPixel(n+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r,!0):this.navigateToNextPage(e,r,!0)},t.prototype.navigateToNextPage=function(e,t,o){void 0===o&&(o=!1);var i,n=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(e.rowIndex),u=o?(null===l||void 0===l?void 0:l.rowHeight)-n-a:n-a,c=(null===l||void 0===l?void 0:l.rowTop)+u,d=this.paginationProxy.getRowIndexAtPixel(c+a);if(d===e.rowIndex){var p=o?-1:1;t=d=e.rowIndex+p}o?(i="bottom",d<r&&(d=r),t<r&&(t=r)):(i="top",d>s&&(d=s),t>s&&(t=s)),this.isRowTallerThanView(d)&&(t=d,i="top"),this.navigateTo({scrollIndex:t,scrollType:i,scrollColumn:null,focusIndex:d,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,t,o){var i=this;void 0===o&&(o=!1),this.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((function(){var n=i.getNextFocusIndexForAutoHeight(e,o);i.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})}),50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,t){var o;void 0===t&&(t=!1);var i=t?-1:1,n=this.getViewportHeight(),r=this.paginationProxy.getPageLastRow(),s=0,a=e.rowIndex;while(a>=0&&a<=r){var l=this.paginationProxy.getRow(a);if(l){var u=null!==(o=l.rowHeight)&&void 0!==o?o:0;if(s+u>n)break;s+=u}a+=i}return Math.max(0,Math.min(a,r))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition(),o=this.gridOptionsService.getScrollbarWidth(),i=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=o),i},t.prototype.isRowTallerThanView=function(e){var t=this.paginationProxy.getRow(e);if(!t)return!1;var o=t.rowHeight;return"number"===typeof o&&o>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,t){var o=this.cellNavigationService.getNextCellToFocus(e,t,!0),i=o.rowIndex,n=o.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})},t.prototype.onHomeOrEndKey=function(e){var t=e===bn.PAGE_HOME,o=this.columnModel.getAllDisplayedColumns(),i=t?o[0]:Te(o),n=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})},t.prototype.onTabKeyDown=function(e,t){var o=t.shiftKey,i=this.tabToNextCellCommon(e,o,t);if(i)t.preventDefault();else if(o){var n=e.getRowPosition(),r=n.rowIndex,s=n.rowPinned,a=s?0===r:r===this.paginationProxy.getPageFirstRow();a&&(t.preventDefault(),this.focusService.focusLastHeader(t))}else e instanceof _u&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(o)&&t.preventDefault()},t.prototype.tabToNextCell=function(e,t){var o=this.focusService.getFocusedCell();if(!o)return!1;var i=this.getCellByPosition(o);return!!(i||(i=this.rowRenderer.getRowByPosition(o),i&&i.isFullWidth()))&&this.tabToNextCellCommon(i,e,t)},t.prototype.tabToNextCellCommon=function(e,t,o){var i,n=e.isEditing();if(!n&&e instanceof _u){var r=e,s=r.getRowCtrl();s&&(n=s.isEditing())}return i=n?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,t,o):this.moveToNextEditingCell(e,t,o):this.moveToNextCellNotEditing(e,t),i||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,t,o){void 0===o&&(o=null);var i=e.getCellPosition();e.getGui().focus(),e.stopEditing();var n=this.findNextCellToFocusOn(i,t,!0);return null!=n&&(n.startEditing(null,null,!0,o),n.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,t,o){void 0===o&&(o=null);var i=e.getCellPosition(),n=this.findNextCellToFocusOn(i,t,!0);if(null==n)return!1;var r=n.getCellPosition(),s=this.isCellEditable(i),a=this.isCellEditable(r),l=r&&i.rowIndex===r.rowIndex&&i.rowPinned===r.rowPinned;if(s&&e.setFocusOutOnEditor(),!l){var u=e.getRowCtrl();u.stopEditing();var c=n.getRowCtrl();c.startRowEditing(void 0,void 0,void 0,o)}return a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,t){var o,i=this.columnModel.getAllDisplayedColumns();o=e instanceof Nu?Rc(Rc({},e.getRowPosition()),{column:t?i[0]:Te(i)}):e.getCellPosition();var n=this.findNextCellToFocusOn(o,t,!1);if(n instanceof _u)n.focusCell(!0);else if(n)return this.tryToFocusFullWidthRow(n.getRowPosition(),t);return s(n)},t.prototype.findNextCellToFocusOn=function(e,t,o){var i=e;while(1){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,t);var n=this.gridOptionsService.getCallback("tabToNextCell");if(s(n)){var r={backwards:t,editing:o,previousCellPosition:e,nextCellPosition:i||null},a=n(r);s(a)?(a.floating&&(G((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),a.rowPinned=a.floating),i={rowIndex:a.rowIndex,column:a.column,rowPinned:a.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+i.rowIndex,column:i.column}}),null}var u="fullRow"===this.gridOptionsService.get("editType");if(o&&!u){var c=this.isCellEditable(i);if(!c)continue}this.ensureCellVisible(i);var d=this.getCellByPosition(i);if(!d){var p=this.rowRenderer.getRowByPosition(i);if(!p||!p.isFullWidth()||o)continue;return p}if(!d.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),d}},t.prototype.isCellEditable=function(e){var t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)},t.prototype.getCellByPosition=function(e){var t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,t,o,i){var n=o,r=!1;while(n&&(n===o||!this.isValidNavigateCell(n)))this.gridOptionsService.is("enableRtl")?t===bn.LEFT&&(n=this.getLastCellOfColSpan(n)):t===bn.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextCellToFocus(t,n),r=a(n);if(r&&e&&e.key===bn.UP&&(n={rowIndex:-1,rowPinned:null,column:o.column}),i){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(s(l)){var u={key:t,previousCellPosition:o,nextCellPosition:n||null,event:e},c=l(u);s(c)?(c.floating&&(G((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),c.rowPinned=c.floating),n={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):n=null}}if(n)if(n.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+n.rowIndex,column:o.column},event:e||void 0})}else{var p=this.getNormalisedPosition(n);p?this.focusPosition(p):this.tryToFocusFullWidthRow(n)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,t){void 0===t&&(t=!1);var o=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;var n=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Te(o):o[0])};this.focusPosition(r);var s=null!=n&&this.rowPositionUtils.before(r,n),a={type:at.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var t=this.rowPositionUtils.getRowNode(e);return!!t},t.prototype.getLastCellOfColSpan=function(e){var t=this.getCellByPosition(e);if(!t)return e;var o=t.getColSpanningList();return 1===o.length?e:{rowIndex:e.rowIndex,column:Te(o),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var t=this.gridOptionsService.is("groupRowsSticky"),o=this.rowModel.getRow(e.rowIndex),i=t&&(null===o||void 0===o?void 0:o.sticky);!i&&a(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Oc([se("mouseEventService")],t.prototype,"mouseEventService",void 0),Oc([se("paginationProxy")],t.prototype,"paginationProxy",void 0),Oc([se("focusService")],t.prototype,"focusService",void 0),Oc([ae("rangeService")],t.prototype,"rangeService",void 0),Oc([se("columnModel")],t.prototype,"columnModel",void 0),Oc([se("rowModel")],t.prototype,"rowModel",void 0),Oc([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Oc([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Oc([se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Oc([se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Oc([se("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Oc([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Oc([ie],t.prototype,"postConstruct",null),t=Oc([re("navigationService")],t),t}(tt),_c=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Pc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dc=function(e){function t(t){var o=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.params=t,o}return _c(t,e),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,t=this.getGui(),o=this.params,i=function(t){Pn(e.gridOptionsService,t,o.node,o.column,!0)||o.onKeyDown(t)};this.addManagedListener(t,"keydown",i)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Pc([ie],t.prototype,"postConstruct",null),t}(Ns),Ac=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Mc=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=t,s.column=o.getColumn(),s.rowNode=o.getRowNode(),s.rowCtrl=o.getRowCtrl(),s.eRow=n,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var a=s.getGui();s.forceWrapper=o.isForceWrapper(),s.refreshWrapper(!1);var l=function(e,t,o){var i=o||a;null!=t&&""!=t?i.setAttribute(e,t):i.removeAttribute(e)},u={addOrRemoveCssClass:function(e,t){return s.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return tn(a,e)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(e){return l("tabindex",e.toString())},setRole:function(e){return co(a,e)},setColId:function(e){return l("col-id",e)},setTitle:function(e){return l("title",e)},setIncludeSelection:function(e){return s.includeSelection=e},setIncludeRowDrag:function(e){return s.includeRowDrag=e},setIncludeDndSource:function(e){return s.includeDndSource=e},setRenderDetails:function(e,t,o){return s.setRenderDetails(e,t,o)},setEditDetails:function(e,t,o){return s.setEditDetails(e,t,o)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=o,o.setComp(u,s.getGui(),s.eCellWrapper,i,r),s}return Ac(t,e),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,t,o){var i=this.cellEditor&&!this.cellEditorPopupWrapper;if(!i){this.firstRender=null==this.firstRender;var n=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var r=o||n,s=!r&&this.refreshCellRenderer(e);s||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(t)}},t.prototype.setEditDetails=function(e,t,o){e?this.createCellEditorInstance(e,t,o):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var t=this.includeRowDrag||this.includeDndSource||this.includeSelection,o=t||this.forceWrapper,i=o&&null==this.eCellWrapper;i&&(this.eCellWrapper=Ki('<div class="ag-cell-wrapper" role="presentation" aria-hidden="true"></div>'),this.getGui().appendChild(this.eCellWrapper));var n=!o&&null!=this.eCellWrapper;n&&(zi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!o);var r=!e&&o,s=r&&null==this.eCellValue;s&&(this.eCellValue=Ki('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!r&&null!=this.eCellValue;a&&(zi(this.eCellValue),this.eCellValue=void 0);var l=i||n||s||a;return l&&this.removeControls(),e||(t&&this.addControls(),o&&this.refreshAriaProperties()),l},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.refreshAriaProperties=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),t=[];this.includeSelection&&this.checkboxSelectionComp&&t.push(this.checkboxSelectionComp.getCheckboxId()),t.push(e),Co(this.getGui(),t.join(" "))},t.prototype.createCellEditorInstance=function(e,t,o){var i=this,n=this.editorVersion,r=e.newAgStackInstance();if(r){var s=e.params;r.then((function(e){return i.afterCellEditorCreated(n,e,s,t,o)}));var l=a(this.cellEditor);l&&s.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var t=this.getParentOfValue();ji(t);var o=null!=e?kt(e):null;null!=o&&(t.innerHTML=o)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),zi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),zi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==e.componentClass)return!1;var t=this.cellRenderer.refresh(e.params);return!0===t||void 0===t},t.prototype.createCellRendererInstance=function(e){var t=this,o=this.beans.gridOptionsService.is("suppressAnimationFrame"),i=!o,n=this.rendererVersion,r=e.componentClass,s=function(){var o=t.rendererVersion!==n||!t.isAlive();if(!o){var i=e.newAgStackInstance(),s=t.afterCellRendererCreated.bind(t,n,r);i&&i.then(s)}};i&&this.firstRender?this.beans.animationFrameService.createTask(s,this.rowNode.rowIndex,"createTasksP2"):s()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,t,o){var i=!this.isAlive()||e!==this.rendererVersion;if(i)this.beans.context.destroyBean(o);else if(this.cellRenderer=o,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var n=this.getParentOfValue();ji(n),n.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,t,o,i,n){var r=e!==this.editorVersion;if(r)this.beans.context.destroyBean(t);else{var s=t.isCancelBeforeStart&&t.isCancelBeforeStart();if(s)return this.beans.context.destroyBean(t),void this.cellCtrl.stopEditing(!0);if(!t.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(t);this.cellEditor=t,this.cellEditorGui=t.getGui();var a=i||void 0!==t.isPopup&&t.isPopup();a?this.addPopupCellEditor(o,n):this.addInCellEditor(),this.refreshEditStyles(!0,a),t.afterGuiAttached&&t.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,t){var o;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),null===(o=this.rowCtrl)||void 0===o||o.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),t=this.beans.gridOptionsService.getDocument();if(e.contains(t.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var o=this.getParentOfValue();o.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,t){var o=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Dc(e));var n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);var r=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=null!=t?t:i.getPopupPosition?i.getPopupPosition():"over",l=this.beans.gridOptionsService.is("enableRtl"),u={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},c=r.positionPopupByComponent.bind(r,u),d=this.beans.localeService.getLocaleTextFunc(),p=r.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:function(){o.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:d("ariaLabelCellEditor","Cell Editor")});p&&(this.hideEditorPopup=p.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),e.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),t=this.beans.gridOptionsService.getDocument();e.contains(t.activeElement)&&Qo()&&e.focus({preventScroll:!0}),ji(this.getParentOfValue())},t}(tr),Lc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xc=function(e){function t(t,o,i){var n=e.call(this)||this;n.cellComps={},n.beans=o,n.rowCtrl=t,n.setTemplate('<div comp-id="'+n.getCompId()+'" style="'+n.getInitialStyle(i)+'"/>');var r=n.getGui(),s=r.style,a={setDomOrder:function(e){return n.domOrder=e},setCellCtrls:function(e){return n.setCellCtrls(e)},showFullWidth:function(e){return n.showFullWidth(e)},getFullWidthCellRenderer:function(){return n.getFullWidthCellRenderer()},addOrRemoveCssClass:function(e,t){return n.addOrRemoveCssClass(e,t)},setUserStyles:function(e){return tn(r,e)},setTop:function(e){return s.top=e},setTransform:function(e){return s.transform=e},setRowIndex:function(e){return r.setAttribute("row-index",e)},setRole:function(e){return co(r,e)},setRowId:function(e){return r.setAttribute("row-id",e)},setRowBusinessKey:function(e){return r.setAttribute("row-business-key",e)},setTabIndex:function(e){return r.setAttribute("tabindex",e.toString())}};return t.setComp(a,n.getGui(),i),n.addDestroyFunc((function(){t.unsetComp(i)})),n}return Lc(t,e),t.prototype.getInitialStyle=function(e){var t=this.rowCtrl.getInitialTransform(e),o=this.rowCtrl.getInitialRowTop(e);return t?"transform: "+t:"top: "+o},t.prototype.showFullWidth=function(e){var t=this,o=function(e){if(t.isAlive()){var o=e.getGui();t.getGui().appendChild(o),t.rowCtrl.setupDetailRowAutoHeight(o),t.setFullWidthRowComp(e)}else t.beans.context.destroyBean(e)},i=e.newAgStackInstance();i&&i.then(o)},t.prototype.setCellCtrls=function(e){var t=this,o=Object.assign({},this.cellComps);e.forEach((function(e){var i=e.getInstanceId(),n=t.cellComps[i];null==n?t.newCellComp(e):o[i]=null}));var i=P(o).filter((function(e){return null!=e}));this.destroyCells(i),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var t=this;if(this.domOrder){var o=[];e.forEach((function(e){var i=t.cellComps[e.getInstanceId()];i&&o.push(i.getGui())})),Qi(this.getGui(),o)}},t.prototype.newCellComp=function(e){var t=new Mc(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=t,this.getGui().appendChild(t.getGui())},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=P(this.cellComps).filter((function(e){return null!=e}));this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var t=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc((function(){t.fullWidthCellRenderer=t.beans.context.destroyBean(t.fullWidthCellRenderer)}))},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var t=this;e.forEach((function(e){if(e){var o=e.getCtrl().getInstanceId();t.cellComps[o]===e&&(e.detach(),e.destroy(),t.cellComps[o]=null)}}))},t}(tr),Fc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nc=function(){return Nc=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Nc.apply(this,arguments)},Ic=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};function kc(){var e,t=tr.elementGettingCreated.getAttribute("name"),o=pc.getRowContainerCssClasses(t),i=t===Lu.CENTER,n=t===Lu.TOP_CENTER||t===Lu.STICKY_TOP_CENTER||t===Lu.BOTTOM_CENTER;return e=i?'<div class="'+o.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+o.container+'" ref="eContainer"></div>\n                </div>\n            </div>':n?'<div class="'+o.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+o.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+o.container+'" ref="eContainer"></div>',e}var Gc,Hc=function(e){function t(){var t=e.call(this,kc())||this;return t.rowComps={},t.name=tr.elementGettingCreated.getAttribute("name"),t.type=lc(t.name),t}return Fc(t,e),t.prototype.postConstruct=function(){var e=this,t={setViewportHeight:function(t){return e.eViewport.style.height=t},setRowCtrls:function(t){return e.setRowCtrls(t)},setDomOrder:function(t){e.domOrder=t},setContainerWidth:function(t){return e.eContainer.style.width=t}},o=this.createManagedBean(new pc(this.name));o.setComp(t,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var t=this,o=Nc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var i=function(e){var i=e.getInstanceId(),n=o[i];if(n)t.rowComps[i]=n,delete o[i],t.ensureDomOrder(n.getGui());else{var r=new xc(e,t.beans,t.type);t.rowComps[i]=r,t.appendRow(r.getGui())}};e.forEach(i),P(o).forEach((function(e){t.eContainer.removeChild(e.getGui()),e.destroy()})),co(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?Zi(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&($i(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Ic([se("beans")],t.prototype,"beans",void 0),Ic([or("eViewport")],t.prototype,"eViewport",void 0),Ic([or("eContainer")],t.prototype,"eContainer",void 0),Ic([or("eWrapper")],t.prototype,"eWrapper",void 0),Ic([ie],t.prototype,"postConstruct",null),Ic([ne],t.prototype,"preDestroy",null),t}(tr),Vc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bc=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var o=e.dragItem.columns;o&&o.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowPivot()&&t.columnsToPivot.push(e)))}))}},e.prototype.getIconName=function(){var e=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return e>0?this.pinned?ua.ICON_PINNED:ua.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Vc([se("columnModel")],e.prototype,"columnModel",void 0),Vc([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),e}(),jc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wc=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},zc=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.eContainer=t,this.centerContainer=!s(e)}return e.prototype.init=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl()}))},e.prototype.getIconName=function(){return this.pinned?ua.ICON_PINNED:ua.ICON_MOVE},e.prototype.onDragEnter=function(e){var t=e.dragItem.columns,o=e.dragSource.type===Vr.ToolPanel;if(o)this.setColumnsVisible(t,!0,"uiColumnDragged");else{var i=e.dragItem.visibleState,n=(t||[]).filter((function(e){return i[e.getId()]}));this.setColumnsVisible(n,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)},e.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},e.prototype.setColumnsVisible=function(e,t,o){if(void 0===o&&(o="api"),e){var i=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnModel.setColumnsVisible(i,t,o)}},e.prototype.setColumnsPinned=function(e,t,o){if(void 0===o&&(o="api"),e){var i=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnModel.setColumnsPinned(i,t,o)}},e.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},e.prototype.normaliseX=function(e){if(this.gridOptionsService.is("enableRtl")){var t=this.eContainer.clientWidth;e=t-e}return this.centerContainer&&(e+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),o=t+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>o-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t,o,i){var n,r=this;if(void 0===e&&(e=this.lastDraggingEvent),void 0===t&&(t=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),i){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,u=s.toIndex;this.moveColumns(l,u,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=e,!a(e.hDirection)){var c=this.normaliseX(e.x);t||this.checkCenterForScrolling(c);var d=this.normaliseDirection(e.hDirection),p=e.dragSource.type,h=(null===(n=e.dragSource.getDragItem().columns)||void 0===n?void 0:n.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==r.pinned})))||[];this.attemptMoveColumns({dragSourceType:p,allMovingColumns:h,hDirection:d,mouseX:c,fromEnter:t,fakeEvent:o})}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsService.is("enableRtl"))return e;switch(e){case jr.Left:return jr.Right;case jr.Right:return jr.Left;default:console.error("AG Grid: Unknown direction "+e)}},e.prototype.attemptMoveColumns=function(e){var t=e.dragSourceType,o=e.hDirection,i=e.mouseX,n=e.fromEnter,r=e.fakeEvent,s=o===jr.Left,a=o===jr.Right,l=e.allMovingColumns;if(t===Vr.HeaderCell){var u=[];l.forEach((function(e){var t=null,o=e.getParent();while(null!=o&&1===o.getDisplayedLeafColumns().length)t=o,o=o.getParent();null!=t?t.getLeafColumns().forEach((function(e){u.includes(e)||u.push(e)})):u.includes(e)||u.push(e)})),l=u}var c=l.slice();this.columnModel.sortColumnsLikeGridColumns(c);var d=this.calculateValidMoves(c,a,i),p=this.calculateOldIndex(c);if(0!==d.length){var h=d[0],f=null!==p&&!n;if(t==Vr.HeaderCell&&(f=null!==p),f&&!r){if(s&&h>=p)return;if(a&&h<=p)return}for(var g=this.columnModel.getAllDisplayedColumns(),m=[],v=null,y=0;y<d.length;y++){var C=d[y],b=this.columnModel.getProposedColumnOrder(c,C);if(this.columnModel.doesOrderPassRules(b)){var w=b.filter((function(e){return g.includes(e)}));if(null===v)v=w;else if(!Wn.areEqual(w,v))break;var E=this.groupFragCount(b);m.push({move:C,fragCount:E})}}0!==m.length&&(m.sort((function(e,t){return e.fragCount-t.fragCount})),this.moveColumns(l,m[0].move,"uiColumnMoved",!1))}},e.prototype.calculateOldIndex=function(e){var t=this.columnModel.getAllGridColumns(),o=De(e.map((function(e){return t.indexOf(e)}))),i=o[0],n=Te(o),r=n-i,s=r!==o.length-1;return s?null:i},e.prototype.moveColumns=function(e,t,o,i){this.columnModel.moveColumns(e,t,o,i),this.lastMovedInfo=i?null:{columns:e,toIndex:t}},e.prototype.groupFragCount=function(e){function t(e){var t=[],o=e.getOriginalParent();while(null!=o)t.push(o),o=o.getOriginalParent();return t}for(var o=0,i=function(i){var n,r=t(e[i]),s=t(e[i+1]);n=Wc(r.length>s.length?[r,s]:[s,r],2),r=n[0],s=n[1],r.forEach((function(e){-1===s.indexOf(e)&&o++}))},n=0;n<e.length-1;n++)i(n);return o},e.prototype.calculateValidMoves=function(e,t,o){var i=this.gridOptionsService.is("suppressMovableColumns")||e.some((function(e){return e.getColDef().suppressMovable}));if(i)return[];var n,r=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=r.filter((function(t){return Ie(e,t)})),l=r.filter((function(t){return!Ie(e,t)})),u=s.filter((function(t){return!Ie(e,t)})),c=0,d=o;if(t){var p=0;a.forEach((function(e){return p+=e.getActualWidth()})),d-=p}if(d>0){for(var h=0;h<l.length;h++){var f=l[h];if(d-=f.getActualWidth(),d<0)break;c++}t&&c++}if(c>0){var g=l[c-1];n=u.indexOf(g)+1}else n=u.indexOf(l[0]),-1===n&&(n=0);var m=[n],v=function(e,t){return e-t};if(t){var y=n+1,C=s.length-1;while(y<=C)m.push(y),y++;m.sort(v)}else{y=n,C=s.length-1;var b=s[y];while(y<=C&&this.isColumnHidden(r,b))y++,m.push(y),b=s[y];y=n-1;var w=0;while(y>=w)m.push(y),y--;m.sort(v).reverse()}return m},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ua.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ua.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ua.ICON_MOVE))},e.prototype.moveInterval=function(){var e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);var t=null,o=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=o.scrollHorizontally(-e):this.needToMoveRight&&(t=o.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,n=i.filter((function(e){return!e.getColDef().lockPinned}));if(n.length>0&&(this.dragAndDropService.setGhostIcon(ua.ICON_PINNED),this.failedMoveAttempts>7)){var r=this.needToMoveLeft?"left":"right";this.setColumnsPinned(n,r,"uiColumnDragged"),this.dragAndDropService.nudge()}}},jc([se("columnModel")],e.prototype,"columnModel",void 0),jc([se("dragAndDropService")],e.prototype,"dragAndDropService",void 0),jc([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),jc([se("ctrlsService")],e.prototype,"ctrlsService",void 0),jc([ie],e.prototype,"init",null),e}(),Uc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Kc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yc=function(e){function t(t,o){var i=e.call(this)||this;return i.pinned=t,i.eContainer=o,i}return Uc(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){switch(e.pinned){case"left":e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.leftRowContainerCtrl.getContainerElement()],[t.bottomLeftRowContainerCtrl.getContainerElement()],[t.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.rightRowContainerCtrl.getContainerElement()],[t.bottomRightRowContainerCtrl.getContainerElement()],[t.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.centerRowContainerCtrl.getViewportElement()],[t.bottomCenterRowContainerCtrl.getViewportElement()],[t.topCenterRowContainerCtrl.getViewportElement()]];break}}))},t.prototype.isInterestedIn=function(e){return e===Vr.HeaderCell||e===Vr.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new zc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new Bc(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Vr.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Kc([se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Kc([se("columnModel")],t.prototype,"columnModel",void 0),Kc([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Kc([ie],t.prototype,"postConstruct",null),Kc([ie],t.prototype,"init",null),t}(tt),qc=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Jc=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qc(arguments[t]));return e},Xc=function(){function e(){}return e.getHeaderClassesFromColDef=function(e,t,o,i){return a(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,o,i)},e.getToolPanelClassesFromColDef=function(e,t,o,i){return a(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,o,i)},e.getClassParams=function(e,t,o,i){return{colDef:e,column:o,columnGroup:i,api:t.api,columnApi:t.columnApi,context:t.context}},e.getColumnClassesFromCollDef=function(e,t,o,i,n){if(a(e))return[];var r;if("function"===typeof e){var s=this.getClassParams(t,o,i,n);r=e(s)}else r=e;return"string"===typeof r?[r]:Array.isArray(r)?Jc(r):[]},e}(),$c=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Qc=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zc=function(e){function t(o){var i=e.call(this,t.TEMPLATE,o)||this;return i.headerCompVersion=0,i.column=o.getColumnGroupChild(),i.pinned=o.getPinned(),i}return $c(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),o=function(e,o,i){var n=i||t;null!=o&&""!=o?n.setAttribute(e,o):n.removeAttribute(e)},i={setWidth:function(e){return t.style.width=e},addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setColId:function(e){return o("col-id",e)},setTitle:function(e){return o("title",e)},setAriaDescription:function(e){return yo(t,e)},setAriaSort:function(e){return e?xo(t,e):Fo(t)},setUserCompDetails:function(t){return e.setUserCompDetails(t)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);var n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var t=this;this.headerCompVersion++;var o=this.headerCompVersion;e.newAgStackInstance().then((function(e){return t.afterCompCreated(o,e)}))},t.prototype.afterCompCreated=function(e,t){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(t)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',Qc([or("eResize")],t.prototype,"eResize",void 0),Qc([or("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),Qc([ie],t.prototype,"postConstruct",null),Qc([ne],t.prototype,"destroyHeaderComp",null),t}(ml),ed=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),td=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},od=function(e){function t(o){return e.call(this,t.TEMPLATE,o)||this}return ed(t,e),t.prototype.postConstruct=function(){var e=this,t=this.getGui(),o=function(e,o){return void 0!=o?t.setAttribute(e,o):t.removeAttribute(e)},i={addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setResizableDisplayed:function(t){return Ai(e.eResize,t)},setWidth:function(e){return t.style.width=e},setColId:function(e){return t.setAttribute("col-id",e)},setAriaExpanded:function(e){return o("aria-expanded",e)},setTitle:function(e){return o("title",e)},setUserCompDetails:function(t){return e.setUserCompDetails(t)}};this.ctrl.setComp(i,t,this.eResize)},t.prototype.setUserCompDetails=function(e){var t=this;e.newAgStackInstance().then((function(e){return t.afterHeaderCompCreated(e)}))},t.prototype.afterHeaderCompCreated=function(e){var t=this,o=function(){return t.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(o),this.ctrl.setDragSource(e.getGui())):o()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',td([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),td([or("eResize")],t.prototype,"eResize",void 0),td([ie],t.prototype,"postConstruct",null),t}(ml),id=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),nd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e["COLUMN_GROUP"]="group",e["COLUMN"]="column",e["FLOATING_FILTER"]="filter"})(Gc||(Gc={}));var rd,sd=function(e){function t(t){var o=e.call(this)||this;o.headerComps={};var i=t.getType()==Gc.COLUMN_GROUP?"ag-header-row-column-group":t.getType()==Gc.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.setTemplate('<div class="ag-header-row '+i+'" role="row"></div>'),o.ctrl=t,o}return id(t,e),t.prototype.init=function(){var e=this,t={setTransform:function(t){return e.getGui().style.transform=t},setHeight:function(t){return e.getGui().style.height=t},setTop:function(t){return e.getGui().style.top=t},setHeaderCtrls:function(t){return e.setHeaderCtrls(t)},setWidth:function(t){return e.getGui().style.width=t},setAriaRowIndex:function(t){return Do(e.getGui(),t)}};this.ctrl.setComp(t)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var t=this;if(this.isAlive()){var o=this.headerComps;this.headerComps={},e.forEach((function(e){var i=e.getInstanceId(),n=o[i];delete o[i],null==n&&(n=t.createHeaderComp(e),t.getGui().appendChild(n.getGui())),t.headerComps[i]=n})),C(o,(function(e,o){t.getGui().removeChild(o.getGui()),t.destroyBean(o)}));var i=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");if(i||n){var r=P(this.headerComps);r.sort((function(e,t){var o=e.getCtrl().getColumnGroupChild().getLeft(),i=t.getCtrl().getColumnGroupChild().getLeft();return o-i}));var s=r.map((function(e){return e.getGui()}));Qi(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var t;switch(this.ctrl.getType()){case Gc.COLUMN_GROUP:t=new od(e);break;case Gc.FLOATING_FILTER:t=new Cl(e);break;default:t=new Zc(e);break}return this.createBean(t),t.setParentComponent(this),t},nd([ie],t.prototype,"init",null),nd([ne],t.prototype,"destroyHeaderCtrls",null),t}(tr),ad=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ld=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ud=0,cd=function(e){function t(t,o){var i=e.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=t,i.parentRowCtrl=o,i.instanceId=t.getUniqueId()+"-"+ud++,i}return ad(t,e),t.prototype.shouldStopEventPropagation=function(e){var t=this.focusService.getFocusedHeader(),o=t.headerRowIndex,i=t.column;return Dn(this.gridOptionsService,e,o,i)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),t=e.activeElement;return t===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var t=this.getWrapperHasFocus();switch(e.key){case bn.PAGE_DOWN:case bn.PAGE_UP:case bn.PAGE_HOME:case bn.PAGE_END:t&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,o=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,o,this),this.addDestroyFunc((function(){return e.gridOptionsService.setDomData(e.eGui,o,null)}))},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",ld([se("focusService")],t.prototype,"focusService",void 0),ld([se("beans")],t.prototype,"beans",void 0),ld([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(tt),dd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hd=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.columnOrGroup=t,r.eCell=o,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=n,r.beans=i,r}return dd(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?Te(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,be.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),t=s(this.columnOrGroup.getOldLeft()),o=this.beans.columnAnimationService.isActive()&&t&&!e;o?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup(),o=t.getLeft(),i=t.getOldLeft(),n=this.modifyLeftForPrintLayout(t,i),r=this.modifyLeftForPrintLayout(t,o);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===r&&e.setLeft(r)}))},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){var o=this.beans.gridOptionsService.isDomLayout("print");if(!o)return t;if("left"===e.getPinned())return t;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if("right"===e.getPinned()){var n=this.beans.columnModel.getBodyContainerWidth();return i+n+t}return i+t},t.prototype.setLeft=function(e){var t;if(s(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof be)t=this.columnOrGroup;else{var o=this.columnOrGroup,i=o.getLeafColumns();if(!i.length)return;i.length>1&&Lo(this.ariaEl,i.length),t=i[0]}var n=this.beans.columnModel.getAriaColumnIndex(t);Mo(this.ariaEl,n)},pd([ie],t.prototype,"postConstruct",null),t}(tt),fd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},md=function(e){function t(t,o){var i=e.call(this)||this;return i.columns=t,i.element=o,i}return fd(t,e),t.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},gd([se("columnHoverService")],t.prototype,"columnHoverService",void 0),gd([ie],t.prototype,"postConstruct",null),t}(tt),vd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),yd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cd=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.column=t,i}return vd(t,e),t.prototype.setComp=function(t,o,i,n){e.prototype.setGui.call(this,o),this.comp=t,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n;var r=this.column.getColDef(),s=!!r.filter||!!r.filterFramework,a=!!r.floatingFilter;this.active=s&&a,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,be.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=yn("filter",this.gridOptionsService,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new vr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){var t=this.gridOptionsService.getDocument(),o=t.activeElement,i=o===this.eGui;if(!i){var n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void n.focus();var r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var t=this.beans.columnModel,o=this.column;do{if(o=e?t.getDisplayedColBefore(o):t.getDisplayedColAfter(o),!o)break}while(!o.getColDef().filter||!o.getColDef().floatingFilter);return o},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t);var o=this.getWrapperHasFocus();switch(t.key){case bn.UP:case bn.DOWN:o||t.preventDefault();case bn.LEFT:case bn.RIGHT:if(o)return;t.stopPropagation();case bn.ENTER:o&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case bn.ESCAPE:o||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var t=this.eGui.contains(e.relatedTarget);if(!t){var o=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&xi(e.relatedTarget,"ag-floating-filter");if(o&&i&&e.target===this.eGui){var n=this.lastFocusEvent,r=!(!n||n.key!==bn.TAB);if(n&&r){var s=n.shiftKey;this.focusService.focusInto(this.eGui,s)}}var a=this.getRowIndex();this.beans.focusService.setFocusedHeader(a,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new md([this.column],this.eGui));var t=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,at.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupLeft=function(){var e=new hd(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var t=this.column.getColDef();this.suppressFilterButton=!!t.floatingFilterComponentParams&&!!t.floatingFilterComponentParams.suppressFilterButton;var o=this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return e.showParentFilter()}));o&&this.comp.setCompDetails(o)}},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var t=function(t){var o=e.comp.getFloatingFilterComp();if(o){var i=e.filterManager.getCurrentFloatingFilterParentModel(e.column);o.then((function(e){e&&e.onParentModelChanged(i,t)}))}};this.addManagedListener(this.column,be.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)}},t.prototype.setupWidth=function(){var e=this,t=function(){var t=e.column.getActualWidth()+"px";e.comp.setWidth(t)};this.addManagedListener(this.column,be.EVENT_WIDTH_CHANGED,t),t()},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},yd([se("filterManager")],t.prototype,"filterManager",void 0),yd([se("columnHoverService")],t.prototype,"columnHoverService",void 0),yd([se("menuFactory")],t.prototype,"menuFactory",void 0),t}(cd),bd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ed=function(e){function t(t,o,i,n,r){var s=e.call(this)||this;return s.pinned=t,s.column=o,s.eResize=i,s.comp=n,s.ctrl=r,s}return bd(t,e),t.prototype.postConstruct=function(){var e,t,o=this,i=this.column.getColDef(),n=[],r=function(){if(Ai(o.eResize,e),e){var i=o.horizontalResizeService.addResizeBar({eResizeBar:o.eResize,onResizeStart:o.onResizeStart.bind(o),onResizing:o.onResizing.bind(o,!1),onResizeEnd:o.onResizing.bind(o,!0)});if(n.push(i),t){var r=o.gridOptionsService.is("skipHeaderOnAutoSize"),s=function(){o.columnModel.autoSizeColumn(o.column,r,"uiColumnResized")};o.eResize.addEventListener("dblclick",s);var a=new Rs(o.eResize);a.addEventListener(Rs.EVENT_DOUBLE_TAP,s),o.addDestroyFunc((function(){o.eResize.removeEventListener("dblclick",s),a.removeEventListener(Rs.EVENT_DOUBLE_TAP,s),a.destroy()}))}}},s=function(){n.forEach((function(e){return e()})),n.length=0},a=function(){var n=o.column.isResizable(),a=!o.gridOptionsService.is("suppressAutoSize")&&!i.suppressAutoSize,l=n!==e||a!==t;l&&(e=n,t=a,s(),r())};a(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(a)},t.prototype.onResizing=function(e,t){var o=this.normaliseResizeAmount(t),i=[{key:this.column,newWidth:this.resizeStartWidth+o}];this.columnModel.setColumnWidths(i,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var t=e,o="left"!==this.pinned,i="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?o&&(t*=-1):i&&(t*=-1),t},wd([se("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),wd([se("columnModel")],t.prototype,"columnModel",void 0),wd([ie],t.prototype,"postConstruct",null),t}(tt),Sd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rd=function(e){function t(t,o,i){void 0===o&&(o="ag-checkbox"),void 0===i&&(i="checkbox");var n=e.call(this,t,o,i)||this;return n.labelAlignment="right",n.selected=!1,n.readOnly=!1,n.passive=!1,n}return Sd(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return this.eWrapper.classList.toggle("ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){var t=this.getInputElement();return t.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,o,i){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:o,event:i});var n=this.getInputElement(),r={type:at.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e,previousValue:o};this.eventService.dispatchEvent(r)},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var t=this.isSelected(),o=this.selected=e.target.checked;this.refreshSelectedClass(o),this.dispatchChange(o,t,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(kr),Od=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Td=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_d=function(e){function t(t){var o=e.call(this)||this;o.cbSelectAllVisible=!1,o.processingEventFromCheckbox=!1,o.column=t;var i=t.getColDef();return o.filteredOnly=!!(null===i||void 0===i?void 0:i.headerCheckboxSelectionFilteredOnly),o.currentPageOnly=!!(null===i||void 0===i?void 0:i.headerCheckboxSelectionCurrentPageOnly),o}return Od(t,e),t.prototype.onSpaceKeyPressed=function(e){var t=this.cbSelectAll,o=this.gridOptionsService.getDocument();t.isDisplayed()&&!t.getGui().contains(o.activeElement)&&(e.preventDefault(),t.setValue(!t.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Rd),this.cbSelectAll.addCssClass("ag-header-select-all"),co(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,at.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Rd.EVENT_CHANGED,this.onCbSelectAll.bind(this)),Eo(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue(),o=t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",i+" ("+o+")"),this.cbSelectAll.setInputAriaLabel(i+" ("+o+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},t.prototype.getSelectionCount=function(){var e=this,t=0,o=0,i=function(i){e.gridOptionsService.is("groupSelectsChildren")&&i.group||(i.isSelected()?t++:i.selectable&&o++)};return this.selectionService.getNodesToSelect(this.filteredOnly,this.currentPageOnly).forEach(i),{notSelected:o,selected:t}},t.prototype.checkRightRowModelType=function(e){var t=this.rowModel.getType(),o="clientSide"===t;return!!o||(console.warn("AG Grid: "+e+" is only available if using 'clientSide' rowModelType, you are using "+t+"."),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),t="uiSelectAll";this.currentPageOnly?t="uiSelectAllCurrentPage":this.filteredOnly&&(t="uiSelectAllFiltered");var o={source:t,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(o):this.selectionService.deselectAllRowNodes(o)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if("function"===typeof e){var t=e,o={column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context};e=t(o)}return!!e&&this.checkRightRowModelType("headerCheckboxSelection")},Td([se("gridApi")],t.prototype,"gridApi",void 0),Td([se("columnApi")],t.prototype,"columnApi",void 0),Td([se("rowModel")],t.prototype,"rowModel",void 0),Td([se("selectionService")],t.prototype,"selectionService",void 0),t}(tt),Pd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Dd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ad=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=t,i}return Pd(t,e),t.prototype.setComp=function(t,o,i,n){var r=this;e.prototype.setGui.call(this,o),this.comp=t,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Ed(this.getPinned(),this.column,i,t,this)),this.createManagedBean(new md([this.column],o)),this.createManagedBean(new hd(this.column,o,this.beans)),this.createManagedBean(new vr(o,{shouldStopEventPropagation:function(e){return r.shouldStopEventPropagation(e)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,be.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)},t.prototype.createParams=function(){var e=this,t=this.column.getColDef(),o={column:this.column,displayName:this.displayName,enableSorting:t.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(t){e.gridApi.showColumnMenuAfterButtonClick(e.column,t)},progressSort:function(t){e.sortController.progressSort(e.column,!!t,"uiColumnSorted")},setSort:function(t,o){e.sortController.setSortForColumn(e.column,t,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return o},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new _d(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t),t.key===bn.SPACE&&this.selectAllFeature.onSpaceKeyPressed(t),t.key===bn.ENTER&&this.onEnterKeyPressed(t)},t.prototype.onEnterKeyPressed=function(e){var t=this.comp.getUserCompInstance();if(t)if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){var o=e.shiftKey;this.sortController.progressSort(this.column,o,"uiColumnSorted")}},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,t={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var t=e.column.getColDef().headerTooltip;return t}},o=this.createManagedBean(new ru(t,this.beans));o.setComp(this.comp),this.refreshFunctions.push((function(){return o.refreshToolTip()}))},t.prototype.setupClassesFromColDef=function(){var e=this,t=function(){var t=e.column.getColDef(),o=Xc.getHeaderClassesFromColDef(t,e.gridOptionsService,e.column,null),i=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach((function(t){i.has(t)?i.delete(t):e.comp.addOrRemoveCssClass(t,!0)})),i.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!1)}))};this.refreshFunctions.push(t),t()},t.prototype.setDragSource=function(e){var t=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Vr.HeaderCell,eElement:e,defaultIconName:o?ua.ICON_HIDE:ua.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return t.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return t.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(e){var i;if(o){var n=(null===(i=null===e||void 0===e?void 0:e.columns)||void 0===i?void 0:i.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(e){var i;if(o){var n=(null===(i=null===e||void 0===e?void 0:e.columns)||void 0===i?void 0:i.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(n,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onColDefChanged=function(){this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(e){return e()}))},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),t=this.comp.getUserCompInstance(),o=null!=t&&this.userCompDetails.componentClass==e.componentClass,i=!!o&&this.attemptHeaderCompRefresh(e.params);i?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;var o=t.refresh(e);return o},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),t=this.gridOptionsService.is("suppressMovableColumns"),o=!t&&!e.suppressMovable&&!e.lockPosition;return!!o||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,t=function(){var t=e.column.getActualWidth();e.comp.setWidth(t+"px")};this.addManagedListener(this.column,be.EVENT_WIDTH_CHANGED,t),t()},t.prototype.setupMovingCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,be.EVENT_MOVING_CHANGED,t),t()},t.prototype.setupMenuClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,be.EVENT_MENU_VISIBLE_CHANGED,t),t()},t.prototype.setupSortableClass=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};t(),this.addRefreshFunction(t),this.addManagedListener(this.eventService,be.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,t=function(){var t=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};t(),this.addRefreshFunction(t)},t.prototype.setupAutoHeight=function(e){var t,o=this,i=function(t){if(o.isAlive()){var n=Fi(o.getGui()),r=n.paddingTop,s=n.paddingBottom,a=e.offsetHeight,l=a+r+s;if(t<5){var u=o.beans.gridOptionsService.getDocument(),c=!u||!u.contains(e),d=0==l;if(c||d)return void o.beans.frameworkOverrides.setTimeout((function(){return i(t+1)}),0)}o.columnModel.setColumnHeaderHeight(o.column,l)}},n=!1,r=function(){var e=o.column.isAutoHeaderHeight();e&&!n&&s(),!e&&n&&a()},s=function(){n=!0,i(0),o.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),t=o.resizeObserverService.observeResize(e,(function(){return i(0)}))},a=function(){n=!1,t&&t(),o.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),t=void 0};r(),this.addDestroyFunc((function(){return a()})),this.addManagedListener(this.column,be.EVENT_WIDTH_CHANGED,(function(){return n&&i(0)})),this.addManagedListener(this.eventService,be.EVENT_SORT_CHANGED,(function(){n&&o.beans.frameworkOverrides.setTimeout((function(){return i(0)}))})),this.addRefreshFunction(r)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),t=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(po(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,t=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var t=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",t)}};this.addManagedListener(this.eventService,at.EVENT_COLUMN_HOVER_CHANGED,t),t()},t.prototype.setupFilterCss=function(){var e=this,t=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,be.EVENT_FILTER_ACTIVE_CHANGED,t),t()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,t=function(t){return e.setActiveHeader("mouseenter"===t.type)};this.addManagedListener(this.getGui(),"mouseenter",t),this.addManagedListener(this.getGui(),"mouseleave",t)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},Dd([se("columnModel")],t.prototype,"columnModel",void 0),Dd([se("columnHoverService")],t.prototype,"columnHoverService",void 0),Dd([se("sortController")],t.prototype,"sortController",void 0),Dd([se("menuFactory")],t.prototype,"menuFactory",void 0),Dd([se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Dd([se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Dd([se("gridApi")],t.prototype,"gridApi",void 0),Dd([se("columnApi")],t.prototype,"columnApi",void 0),Dd([ne],t.prototype,"removeDragSource",null),t}(cd),Md=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ld=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xd=function(e){function t(t,o,i,n){var r=e.call(this)||this;return r.eResize=o,r.comp=t,r.pinned=i,r.columnGroup=n,r}return Md(t,e),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsService.is("suppressAutoSize")){var o=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var t=[],i=e.columnGroup.getDisplayedLeafColumns();i.forEach((function(e){e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&e.columnModel.autoSizeColumns({columns:t,skipHeader:o,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()}))}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var t=this;this.calculateInitialValues();var o=null;if(e&&(o=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),o){var i=o.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter((function(e){return e.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,t){var o=this.normaliseDragChange(t),i=this.resizeStartWidth+o;this.resizeColumns(i,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,t){void 0===t&&(t=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols){var i=e-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-i})}this.columnModel.resizeColumnSets({resizeSets:o,finished:t,source:"uiColumnDragged"}),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,t=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=t.filter((function(e){return e.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(t){return e.resizeStartWidth+=t.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(t){return e.resizeRatios.push(t.getActualWidth()/e.resizeStartWidth)}))},t.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t},Ld([se("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ld([se("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Ld([se("columnModel")],t.prototype,"columnModel",void 0),Ld([ie],t.prototype,"postConstruct",null),t}(tt),Fd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Id=function(e){function t(t,o){var i=e.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=o,i.comp=t,i}return Fd(t,e),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,_t.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(o){o.addEventListener("widthChanged",t),o.addEventListener("visibleChanged",t),e.removeChildListenersFuncs.push((function(){o.removeEventListener("widthChanged",t),o.removeEventListener("visibleChanged",t)}))}))},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(e){return e()})),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth(e+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},Nd([ie],t.prototype,"postConstruct",null),t}(tt),kd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Gd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hd=function(e){function t(t,o){var i=e.call(this,t,o)||this;return i.columnGroup=t,i}return kd(t,e),t.prototype.setComp=function(t,o,i){e.prototype.setGui.call(this,o),this.comp=t,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var n=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new md(r,o)),this.createManagedBean(new hd(this.columnGroup,o,this.beans)),this.createManagedBean(new Id(t,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new xd(t,i,n,this.columnGroup)),this.createManagedBean(new vr(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,t=this.displayName,o={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(t){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),t,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!t){var i=this.columnGroup,n=i.getLeafColumns();while(i.getParent()&&i.getParent().getLeafColumns().length===n.length)i=i.getParent();var r=i.getColGroupDef();r&&(t=r.headerName),t||(t=n?this.columnModel.getDisplayNameForColumn(n[0],"header",!0):"")}var s=this.userComponentFactory.getHeaderGroupCompDetails(o);this.comp.setUserCompDetails(s)},t.prototype.setupTooltip=function(){var e=this,t=this.columnGroup.getColGroupDef(),o={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return t&&t.headerTooltip}};t&&(o.getColDef=function(){return t});var i=this.createManagedBean(new ru(o,this.beans));i.setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Ee.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Ee.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,t=this.columnGroup.getColGroupDef(),o=Xc.getHeaderClassesFromColDef(t,this.gridOptionsService,null,this.columnGroup);o.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),o.forEach((function(t){return e.comp.addOrRemoveCssClass(t,!0)}))},t.prototype.setupMovingCss=function(){var e=this,t=this.columnGroup.getProvidedColumnGroup(),o=t.getLeafColumns(),i=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};o.forEach((function(t){e.addManagedListener(t,be.EVENT_MOVING_CHANGED,i)})),i()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.columnGroup)}},t.prototype.handleKeyDown=function(t){e.prototype.handleKeyDown.call(this,t);var o=this.getWrapperHasFocus();if(this.expandable&&o&&t.key===bn.ENTER){var i=this.columnGroup,n=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var t=this;if(!this.isSuppressMoving()){var o=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:Vr.HeaderCell,eElement:e,defaultIconName:i?ua.ICON_HIDE:ua.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return o.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return o.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(e){var o;if(i){var n=(null===(o=null===e||void 0===e?void 0:e.columns)||void 0===o?void 0:o.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(e){var o;if(i){var n=(null===(o=null===e||void 0===e?void 0:e.columns)||void 0===o?void 0:o.filter((function(e){return!e.getColDef().lockVisible})))||[];t.columnModel.setColumnsVisible(n,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(n)}))}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),t={};e.forEach((function(e){return t[e.getId()]=e.isVisible()}));var o=[];return this.columnModel.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(o.push(t),Me(e,t))})),e.forEach((function(e){return o.push(e)})),{columns:o,visibleState:t}},t.prototype.isSuppressMoving=function(){var e=!1;this.columnGroup.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));var t=e||this.gridOptionsService.is("suppressMovableColumns");return t},Gd([se("columnModel")],t.prototype,"columnModel",void 0),Gd([se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Gd([se("gridApi")],t.prototype,"gridApi",void 0),Gd([se("columnApi")],t.prototype,"columnApi",void 0),t}(cd),Vd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jd=0,Wd=function(e){function t(t,o,i){var n=e.call(this)||this;return n.instanceId=jd++,n.headerCellCtrls={},n.rowIndex=t,n.pinned=o,n.type=i,n}return Vd(t,e),t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Ko()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,at.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return m(this.headerCellCtrls).find((function(t){return t.getColumnGroupChild()===e}))},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){var e=this.gridOptionsService.isDomLayout("print");if(e){var t=null!=this.pinned;return t?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.columnModel.getHeaderRowCount(),t=[],o=0;this.columnModel.hasFloatingFilters()&&(e++,o=1);for(var i=this.columnModel.getColumnGroupHeaderRowHeight(),n=this.columnModel.getColumnHeaderRowHeight(),r=1+o,s=e-r,a=0;a<s;a++)t.push(i);t.push(n);for(a=0;a<o;a++)t.push(this.columnModel.getFloatingFiltersHeight());var l=0;for(a=0;a<this.rowIndex;a++)l+=t[a];var u=t[this.rowIndex]+"px";this.comp.setTop(l+"px"),this.comp.setHeight(u)},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=this.headerCellCtrls;this.headerCellCtrls={};var o=this.getColumnsInViewport();o.forEach((function(o){if(!o.isEmptyGroup()){var i=o.getUniqueId(),n=t[i];delete t[i];var r=n&&n.getColumnGroupChild()!=o;if(r&&(e.destroyBean(n),n=void 0),null==n)switch(e.type){case Gc.FLOATING_FILTER:n=e.createBean(new Cd(o,e));break;case Gc.COLUMN_GROUP:n=e.createBean(new Hd(o,e));break;default:n=e.createBean(new Ad(o,e));break}e.headerCellCtrls[i]=n}}));var i=function(t){var o=e.focusService.isHeaderWrapperFocused(t);if(!o)return!1;var i=e.columnModel.isDisplayed(t.getColumnGroupChild());return i};C(t,(function(t,o){var n=i(o);n?e.headerCellCtrls[t]=o:e.destroyBean(o)}));var n=P(this.headerCellCtrls);this.comp.setHeaderCtrls(n)},t.prototype.destroyCtrls=function(){var e=this;C(this.headerCellCtrls,(function(t,o){e.destroyBean(o)})),this.headerCellCtrls={}},t.prototype.getColumnsInViewport=function(){var e=this.gridOptionsService.isDomLayout("print");return e?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var t=[],o=this.getActualDepth();return["left",null,"right"].forEach((function(i){var n=e.columnModel.getVirtualHeaderGroupRow(i,o);t=t.concat(n)})),t},t.prototype.getActualDepth=function(){return this.type==Gc.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,t){var o=P(this.headerCellCtrls),i=o.find((function(t){return t.getColumnGroupChild()==e}));return!!i&&(i.focus(t),!0)},Bd([se("columnModel")],t.prototype,"columnModel",void 0),Bd([se("focusService")],t.prototype,"focusService",void 0),Bd([ne],t.prototype,"destroyCtrls",null),t}(tt),zd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ud=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kd=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Yd=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kd(arguments[t]));return e},qd=function(e){function t(t){var o=e.call(this)||this;return o.hidden=!1,o.groupsRowCtrls=[],o.pinned=t,o}return zd(t,e),t.prototype.setComp=function(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,at.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eViewport,"scroll",this.resetScrollLeft.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var t=new Yc(this.pinned,e);this.createManagedBean(t)},t.prototype.refresh=function(e){var t=this;void 0===e&&(e=!1);var o=new zn,i=this.focusService.getFocusHeaderToUseAfterRefresh(),n=function(){var e=t.columnModel.getHeaderRowCount()-1;t.groupsRowCtrls=t.destroyBeans(t.groupsRowCtrls);for(var i=0;i<e;i++){var n=t.createBean(new Wd(o.next(),t.pinned,Gc.COLUMN_GROUP));t.groupsRowCtrls.push(n)}},r=function(){var i=o.next(),n=!t.hidden&&(null==t.columnsRowCtrl||!e||t.columnsRowCtrl.getRowIndex()!==i),r=n||t.hidden;r&&(t.columnsRowCtrl=t.destroyBean(t.columnsRowCtrl)),n&&(t.columnsRowCtrl=t.createBean(new Wd(i,t.pinned,Gc.COLUMN)))},s=function(){var i=t.columnModel.hasFloatingFilters()&&!t.hidden,n=function(){t.filtersRowCtrl=t.destroyBean(t.filtersRowCtrl)};if(i){var r=o.next();if(t.filtersRowCtrl){var s=t.filtersRowCtrl.getRowIndex()!==r;e&&!s||n()}t.filtersRowCtrl||(t.filtersRowCtrl=t.createBean(new Wd(r,t.pinned,Gc.FLOATING_FILTER)))}else n()};n(),r(),s();var a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(i)},t.prototype.restoreFocusOnHeader=function(e){null!=e&&e.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=Yd(this.groupsRowCtrls);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new ic((function(t){return e.comp.setCenterWidth(t+"px")})))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.resetScrollLeft=function(){this.eViewport.scrollLeft=0},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var t="left"===this.pinned,o="right"===this.pinned;this.hidden=!0;var i=function(){var i=t?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=i){var n=0==i,r=e.hidden!==n,s=e.gridOptionsService.is("enableRtl"),a=e.gridOptionsService.getScrollbarWidth(),l=e.scrollVisibleService.isVerticalScrollShowing()&&(s&&t||!s&&o),u=l?i+a:i;e.comp.setPinnedContainerWidth(u+"px"),e.comp.setDisplayed(!n),r&&(e.hidden=n,e.refresh())}};this.addManagedListener(this.eventService,at.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,at.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,at.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,at.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof be){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(e)}if(0!==this.groupsRowCtrls.length)for(var t=0;t<this.groupsRowCtrls.length;t++){var o=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(o)return o}},t.prototype.getHtmlElementForColumnHeader=function(e){var t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null},t.prototype.getRowType=function(e){var t=this.getAllCtrls(),o=t[e];return o?o.getType():void 0},t.prototype.focusHeader=function(e,t,o){var i=this.getAllCtrls(),n=i[e];return!!n&&n.focusHeader(t,o)},t.prototype.getRowCount=function(){return this.getAllCtrls().length},Ud([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Ud([se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Ud([se("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Ud([se("columnModel")],t.prototype,"columnModel",void 0),Ud([se("focusService")],t.prototype,"focusService",void 0),t}(tt),Jd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Xd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$d=function(e){function t(t){var o=e.call(this)||this;return o.headerRowComps={},o.rowCompsList=[],o.pinned=t,o}return Jd(t,e),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var t={setDisplayed:function(t){return e.setDisplayed(t)},setCtrls:function(t){return e.setCtrls(t)},setCenterWidth:function(t){return e.eCenterContainer.style.width=t},setContainerTransform:function(t){return e.eCenterContainer.style.transform=t},setPinnedContainerWidth:function(t){var o=e.getGui();o.style.width=t,o.style.maxWidth=t,o.style.minWidth=t}},o=this.createManagedBean(new qd(this.pinned));o.setComp(t,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e="left"==this.pinned,o="right"==this.pinned,i=e?t.PINNED_LEFT_TEMPLATE:o?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var t,o=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var n=function(e){var i=e.getGui(),n=i.parentElement!=o.eRowContainer;n&&o.eRowContainer.appendChild(i),t&&$i(o.eRowContainer,i,t),t=i};e.forEach((function(e){var t=e.getInstanceId(),r=i[t];delete i[t];var s=r||o.createBean(new sd(e));o.headerRowComps[t]=s,o.rowCompsList.push(s),n(s)})),P(i).forEach((function(e){return o.destroyRowComp(e)}))},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Xd([or("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Xd([ie],t.prototype,"init",null),Xd([ne],t.prototype,"destroyRowComps",null),t}(tr),Qd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zd=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e[e["UP"]=0]="UP",e[e["DOWN"]=1]="DOWN",e[e["LEFT"]=2]="LEFT",e[e["RIGHT"]=3]="RIGHT"})(rd||(rd={}));var ep,tp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qd(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCon=t.gridBodyCtrl}))},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.getHeaderRowType=function(e){var t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)},t.prototype.navigateVertically=function(e,t,o){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;var i=t.headerRowIndex,n=t.column,r=this.getHeaderRowCount(),s=e===rd.UP,a=s?i-1:i+1,l=null,u=!1;a<0&&(a=0,l=n,u=!0),a>=r&&(a=-1);var c=this.getHeaderRowType(i);if(!u){if(c===Gc.COLUMN_GROUP){var d=n;l=s?n.getParent():d.getDisplayedChildren()[0]}else if(c===Gc.FLOATING_FILTER)l=n;else{d=n;l=s?d.getParent():d}if(!l)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:o})},t.prototype.navigateHorizontally=function(e,t,o){void 0===t&&(t=!1);var i,n,r=this.focusService.getFocusedHeader(),s=e===rd.LEFT,a=this.gridOptionsService.is("enableRtl");return s!==a?(n="Before",i=this.headerPositionUtils.findHeader(r,n)):(n="After",i=this.headerPositionUtils.findHeader(r,n)),i||!t?this.focusService.focusHeaderPosition({headerPosition:i,direction:n,fromTab:t,allowUserOverride:!0,event:o}):this.focusNextHeaderRow(r,n,o)},t.prototype.focusNextHeaderRow=function(e,t,o){var i,n=e.headerRowIndex,r=null;return"Before"===t?n>0&&(i=n-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"end")):(i=n+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"start")),this.focusService.focusHeaderPosition({headerPosition:r,direction:t,fromTab:!0,allowUserOverride:!0,event:o})},t.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var o;if(e instanceof _t){var i=e.getDisplayedLeafColumns();o="Before"===t?Te(i):i[0]}else o=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(o)}},Zd([se("focusService")],t.prototype,"focusService",void 0),Zd([se("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Zd([se("animationFrameService")],t.prototype,"animationFrameService",void 0),Zd([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Zd([ie],t.prototype,"postConstruct",null),t=Zd([re("headerNavigationService")],t),t}(tt),op=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ip=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return op(t,e),t.prototype.setComp=function(e,t,o){this.comp=e,this.eGui=t,this.createManagedBean(new vr(o,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,at.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,at.EVENT_GRID_STYLES_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e,t=this.columnModel,o=0,i=t.getHeaderRowCount(),n=t.hasFloatingFilters();n&&(i++,o=1);var r=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),a=1+o,l=i-a;if(e=o*t.getFloatingFiltersHeight(),e+=l*r,e+=s,this.headerHeight!==e){this.headerHeight=e;var u=e+1+"px";this.comp.setHeightAndMinHeight(u),this.eventService.dispatchEvent({type:at.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onTabKeyDown=function(e){var t=this.gridOptionsService.is("enableRtl"),o=e.shiftKey!==t?rd.LEFT:rd.RIGHT;(this.headerNavigationService.navigateHorizontally(o,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var t=null;switch(e.key){case bn.LEFT:t=rd.LEFT;case bn.RIGHT:s(t)||(t=rd.RIGHT),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case bn.UP:t=rd.UP;case bn.DOWN:s(t)||(t=rd.DOWN),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var t=this.gridOptionsService.getDocument(),o=e.relatedTarget;!o&&this.eGui.contains(t.activeElement)||this.eGui.contains(o)||this.focusService.clearFocusedHeader()},ip([se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ip([se("focusService")],t.prototype,"focusService",void 0),ip([se("columnModel")],t.prototype,"columnModel",void 0),ip([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(tt),rp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ap=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return rp(t,e),t.prototype.postConstruct=function(){var e=this,t={addOrRemoveCssClass:function(t,o){return e.addOrRemoveCssClass(t,o)},setHeightAndMinHeight:function(t){e.getGui().style.height=t,e.getGui().style.minHeight=t}},o=this.createManagedBean(new np);o.setComp(t,this.getGui(),this.getFocusableElement());var i=function(t){e.createManagedBean(t),e.appendChild(t)};i(new $d("left")),i(new $d(null)),i(new $d("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',sp([ie],t.prototype,"postConstruct",null),t}(tr),lp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),up=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lp(t,e),t.prototype.addResizeBar=function(e){var t=this,o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};this.dragService.addDragSource(o,!0);var i=function(){return t.dragService.removeDragSource(o)};return i},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var o=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(o)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},up([se("dragService")],t.prototype,"dragService",void 0),up([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t=up([re("horizontalResizeService")],t),t}(tt),dp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dp(t,e),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var o=this;this.showPopup(e,(function(i){o.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:i})}),t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,o){var i=this;this.showPopup(e,(function(n){i.popupService.positionPopupByComponent({type:o,eventSource:t,ePopup:n,keepWithinBounds:!0,position:"under",column:e})}),t)},t.prototype.showPopup=function(e,t,o){var i=this,n=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!n)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var r,s=document.createElement("div");co(s,"presentation"),s.classList.add("ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",(function(e){return i.trapFocusWithin(e,s)})),n.guiPromise.then((function(e){return s.appendChild(e)}));var a=function(){var e;return null===(e=n.filterPromise)||void 0===e?void 0:e.then((function(e){var t;return null===(t=null===e||void 0===e?void 0:e.afterGuiDetached)||void 0===t?void 0:t.call(e)}))},l=o||this.ctrlsService.getGridBodyCtrl().getGui(),u=function(t){e.setMenuVisible(!1,"contextMenu");var n=t instanceof KeyboardEvent;if(i.tabListener&&(i.tabListener=i.tabListener()),n&&o&&Ui(o)){var r=i.focusService.findTabbableParent(o);r&&r.focus()}a()},c=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:u,positionCallback:function(){return t(s)},anchorToElement:l,ariaLabel:c("ariaLabelColumnMenu","Column Menu")});d&&(this.hidePopup=r=d.hideFunc),n.filterPromise.then((function(e){t(s),e.afterGuiAttached&&e.afterGuiAttached({container:"columnMenu",hidePopup:r})})),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.key!==bn.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},pp([se("filterManager")],t.prototype,"filterManager",void 0),pp([se("popupService")],t.prototype,"popupService",void 0),pp([se("focusService")],t.prototype,"focusService",void 0),pp([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t=pp([re("menuFactory")],t),t}(tt),fp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mp=(function(e){function t(o){var i=e.call(this,t.getTemplate(o.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=o,o.items&&o.items.forEach((function(e){return i.addItem(e)})),i}fp(t,e),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new vr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((function(){var t,o,i;return null===(i=null===(o=null===(t=e.activeItem)||void 0===t?void 0:t.tabbedItem)||void 0===o?void 0:o.afterDetachedCallback)||void 0===i?void 0:i.call(o)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var t=this.gridOptionsService.getDocument();switch(e.key){case bn.RIGHT:case bn.LEFT:if(!this.eHeader.contains(t.activeElement))return;var o=e.key===bn.RIGHT,i=this.gridOptionsService.is("enableRtl"),n=this.items.indexOf(this.activeItem),r=o!==i?Math.min(n+1,this.items.length-1):Math.max(n-1,0);if(n===r)return;e.preventDefault();var s=this.items[r];this.showItemWrapper(s),s.eHeaderButton.focus();break;case bn.UP:case bn.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var t=this,o=t.focusService,i=t.eHeader,n=t.eBody,r=t.activeItem,s=this.gridOptionsService.getDocument(),a=s.activeElement,l=e.target;if(e.preventDefault(),i.contains(a))o.focusInto(n,e.shiftKey);else{var u=null;o.isTargetUnderManagedComponent(n,l)&&(e.shiftKey&&(u=this.focusService.findFocusableElementBeforeTabGuard(n,l)),u||(u=r.eHeaderButton)),!u&&n.contains(a)&&(u=o.findNextFocusableElement(n,!1,e.shiftKey),u||(u=r.eHeaderButton)),u&&u.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");co(t,"tab"),t.setAttribute("tabIndex","-1"),t.appendChild(e.title),t.classList.add("ag-tab"),this.eHeader.appendChild(t),mo(t,e.titleLabel);var o={tabbedItem:e,eHeaderButton:t};this.items.push(o),t.addEventListener("click",this.showItemWrapper.bind(this,o))},t.prototype.showItem=function(e){var t=this.items.find((function(t){return t.tabbedItem===e}));t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t,o,i=this,n=e.tabbedItem,r=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ji(this.eBody),n.bodyPromise.then((function(e){i.eBody.appendChild(e);var t=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,t),n.afterAttachedCallback&&n.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var o=n.getScrollableContainer&&n.getScrollableContainer()||e;i.lastScrollListener=i.addManagedListener(o,"scroll",(function(){i.tabbedItemScrollMap.set(n.name,o.scrollTop)}));var r=i.tabbedItemScrollMap.get(n.name);void 0!==r&&setTimeout((function(){o.scrollTop=r}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(o=(t=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===o||o.call(t)),r.classList.add("ag-tab-selected"),this.activeItem=e):X(this.params.onActiveItemClicked)},gp([se("focusService")],t.prototype,"focusService",void 0),gp([or("eHeader")],t.prototype,"eHeader",void 0),gp([or("eBody")],t.prototype,"eBody",void 0),gp([ie],t.prototype,"postConstruct",null)}(tr),function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}()),vp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yp=50,Cp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.polyfillFunctions=[],t}return mp(t,e),t.prototype.observeResize=function(e,t){var o=this,i=this.gridOptionsService.getDocument(),n=i.defaultView||window,r=K(t,yp),s=function(){var t=new n.ResizeObserver(r);return t.observe(e),function(){return t.disconnect()}},a=function(){var i=Xi(e),n=Ji(e),r=!0,s=function(){if(r){var a=Xi(e),l=Ji(e),u=a!==i||l!==n;u&&(i=a,n=l,t()),o.doNextPolyfillTurn(s)}};return s(),function(){return r=!1}},l=this.gridOptionsService.is("suppressBrowserResizeObserver"),u=!!n.ResizeObserver;return u&&!l?s():a()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var t=function(){var t=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],t.forEach((function(e){return e()}))};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(t,yp)}},t=vp([re("resizeObserverService")],t),t}(tt),bp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ep=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return bp(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,o){this.verifyAnimationFrameOn(o);var i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[o],i),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort((function(e,o){return e.index!==o.index?t*(o.index-e.index):o.createOrder-e.createOrder})),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");var t=this.createTasksP1,o=t.list,i=this.createTasksP2,n=i.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0,u=this.ctrlsService.getGridBodyCtrl();while(l||a<e){var c=u.getScrollFeature().scrollGridIfNeeded();if(!c){var d=void 0;if(o.length)this.sortTaskList(t),d=o.pop().task;else if(n.length)this.sortTaskList(i),d=n.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}d=r.pop()}this.cancelledTasks.has(d)||d()}a=(new Date).getTime()-s}o.length||n.length||r.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),t=this.gridOptionsService.getDocument(),o=t.defaultView||window;o.requestAnimationFrame?o.requestAnimationFrame(e):o.webkitRequestAnimationFrame?o.webkitRequestAnimationFrame(e):o.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var t=this,o=!1;return function(){t.isOn()?o||(o=!0,t.addDestroyTask((function(){o=!1,e()}))):t.getFrameworkOverrides().setTimeout(e,0)}},wp([se("ctrlsService")],t.prototype,"ctrlsService",void 0),wp([ie],t.prototype,"init",null),t=wp([re("animationFrameService")],t),t}(tt),Sp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Op="ag-resizer-wrapper",Tp='<div class="'+Op+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',_p=function(e){function t(t,o){var i=e.call(this)||this;return i.element=t,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},o),i}return Sp(t,e),t.prototype.center=function(){var e=this.offsetParent,t=e.clientHeight,o=e.clientWidth,i=o/2-this.getWidth()/2,n=t/2-this.getHeight()/2;this.offsetElement(i,n)},t.prototype.initialisePosition=function(){var e=this.config,t=e.centered,o=e.forcePopupParentAsOffsetParent,i=e.minWidth,n=e.width,r=e.minHeight,s=e.height,a=e.x,l=e.y;this.offsetParent||this.setOffsetParent();var u=0,c=0,d=!!this.element.offsetParent;if(d){var p=this.findBoundaryElement(),h=window.getComputedStyle(p);if(null!=h.minWidth){var f=p.offsetWidth-this.element.offsetWidth;c=parseInt(h.minWidth,10)-f}if(null!=h.minHeight){var g=p.offsetHeight-this.element.offsetHeight;u=parseInt(h.minHeight,10)-g}}if(this.minHeight=r||u,this.minWidth=i||c,n&&this.setWidth(n),s&&this.setHeight(s),n&&s||this.refreshSize(),t)this.center();else if(a||l)this.offsetElement(a,l);else if(d&&o&&this.boundaryEl){var m=parseFloat(this.boundaryEl.style.top),v=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(v)?0:v,isNaN(m)?0:m)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,t){if(this.config.popup&&e!==this.movable){this.movable=e;var o=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(o),this.moveElementDragListener=o):(this.dragService.removeDragSource(o),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var t=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((function(o){var i=e,n=!!i[o],r=t.getResizerElement(o),s={dragStartPixels:0,eElement:r,onDragStart:function(e){return t.onResizeStart(e,o)},onDragging:t.onResize.bind(t),onDragStop:function(e){return t.onResizeEnd(e,o)}};(n||!t.isAlive()&&!n)&&(n?(t.dragService.addDragSource(s),t.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",t.resizable[o]=n)}))},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,t=e.height,o=e.width;-1!==o&&(this.element.style.width=o+"px"),-1!==t&&(this.element.style.height=t+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var t=this.config.popup,o=this.element,i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))ln(o,e),e=ki(o),i=!0;else if(this.positioned){var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var s=this.offsetParent.clientHeight,a=t?this.position.y:n.top,l=t?0:r.top;s&&e+a>s+l&&(e=s-a)}this.getHeight()!==e&&(i?(o.style.maxHeight="unset",o.style.minHeight="unset"):t?ln(o,e):(o.style.height=e+"px",o.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var t=this.element,o=this.config.popup,i=!1;if("string"===typeof e&&-1!==e.indexOf("%"))sn(t,e),e=Gi(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var n=this.offsetParent.clientWidth,r=o?this.position.x:this.element.getBoundingClientRect().left;n&&e+r>n&&(e=n-r)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?sn(t,e):(t.style.width=e+"px",t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var o=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:t}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top))},t.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=e.e,o=e.isLeft,i=e.isTop,n=e.anywhereWithin,r=e.topBuffer,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!o,!!n,s)?0:s,u=this.shouldSkipY(t,!!i,r,a)?0:a;return{movementX:l,movementY:u}},t.prototype.shouldSkipX=function(e,t,o,i){var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left,l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return!!l||(l=t?i<0&&e.clientX>a+r.left||i>0&&e.clientX<a+r.left:o?i<0&&e.clientX>s.right||i>0&&e.clientX<a+r.left:i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)},t.prototype.shouldSkipY=function(e,t,o,i){void 0===o&&(o=0);var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top,l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return!!l||(l=t?i<0&&e.clientY>a+r.top+o||i>0&&e.clientY<a+r.top:i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var t=new DOMParser,o=t.parseFromString(Tp,"text/html").body;e.appendChild(o.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+Op);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");var o=this.config,i=o.popup,n=o.forcePopupParentAsOffsetParent;i||n||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,t=e.parentElement;return t?Array.prototype.slice.call(t.children).filter((function(e){return!e.classList.contains("ag-hidden")})):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],t=0,o=0,i=0;i<e.length;i++){var n=e[i],r=!!n.style.flex&&"0 0 auto"!==n.style.flex;if(n!==this.element){var s=this.minHeight||0,a=this.minWidth||0;if(r){var l=window.getComputedStyle(n);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=n.offsetHeight,a=n.offsetWidth;t+=s,o+=a}}return{height:t,width:o}},t.prototype.applySizeToSiblings=function(e){var t=null,o=this.getSiblings();if(o){for(var i=0;i<o.length;i++){var n=o[i];n!==t&&(e?n.style.height=n.offsetHeight+"px":n.style.width=n.offsetWidth+"px",n.style.flex="0 0 auto",n===this.element&&(t=o[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some((function(e){return e}))},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var t=this.config,o=t.popup,i=t.forcePopupParentAsOffsetParent,n=this.currentResizer,r=n.isTop,s=n.isRight,a=n.isBottom,l=n.isLeft,u=s||l,c=a||r,d=this.calculateMouseMovement({e:e,isLeft:l,isTop:r}),p=d.movementX,h=d.movementY,f=this.position.x,g=this.position.y,m=0,v=0;if(u&&p){var y=l?-1:1,C=this.getWidth(),b=C+p*y,w=!1;l&&(m=C-b,(f+m<=0||b<=this.minWidth)&&(w=!0,m=0)),w||this.setWidth(b)}if(c&&h){y=r?-1:1;var E=this.getHeight(),S=E+h*y,R=!1;r?(v=E-S,(g+v<=0||S<=this.minHeight)&&(R=!0,v=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&E<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(R=!0),R||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((o||i)&&m||v)&&this.offsetElement(f+m,g+v)}},t.prototype.onResizeEnd=function(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var o={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(o)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t,o=this.position,i=o.x,n=o.y;this.config.calculateTopBuffer&&(t=this.config.calculateTopBuffer());var r=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:t}),s=r.movementX,a=r.movementY;this.offsetElement(i+s,n+a),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){var e=this.element;while(e){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){while(this.resizeListeners.length){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Rp([se("popupService")],t.prototype,"popupService",void 0),Rp([se("dragService")],t.prototype,"dragService",void 0),t}(tt),Pp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Dp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ap=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCtrl=t.centerRowContainerCtrl}))},t.prototype.getPreferredWidthForColumn=function(e,t){var o=this.getHeaderCellForColumn(e);if(!o)return-1;var i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(o),this.addElementsToContainerAndGetWidth(i)},t.prototype.getPreferredWidthForColumnGroup=function(e){var t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var t=this,o=document.createElement("form");o.style.position="fixed";var i=this.centerRowContainerCtrl.getContainerElement();i.appendChild(o),e.forEach((function(e){return t.cloneItemIntoDummy(e,o)}));var n=o.offsetWidth;i.removeChild(o);var r=this.getAutoSizePadding();return n+r},t.prototype.getAutoSizePadding=function(){var e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(o){var i=o.getHtmlElementForColumnHeader(e);null!=i&&(t=i)})),t},t.prototype.cloneItemIntoDummy=function(e,t){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var i=document.createElement("div"),n=i.classList,r=["ag-header-cell","ag-header-group-cell"].some((function(e){return o.classList.contains(e)}));r?(n.add("ag-header","ag-header-row"),i.style.position="static"):n.add("ag-row");var s=e.parentElement;while(s){var a=["ag-header-row","ag-row"].some((function(e){return s.classList.contains(e)}));if(a){for(var l=0;l<s.classList.length;l++){var u=s.classList[l];"ag-row-position-absolute"!=u&&n.add(u)}break}s=s.parentElement}i.appendChild(o),t.appendChild(i)},Dp([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Dp([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Dp([se("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),Dp([ie],t.prototype,"postConstruct",null),t=Dp([re("autoWidthCalculator")],t),t}(tt),Mp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Lp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xp=function(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fp=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Np=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fp(arguments[t]));return e},Ip=function(e){function t(t,o){var i=e.call(this)||this;return i.createRowCon=t,i.destroyRowCtrls=o,i.stickyRowCtrls=[],i.containerHeight=0,i}return Mp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridBodyCtrl=t.gridBodyCtrl}))},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=0;if(this.gridOptionsService.is("groupRowsSticky")){var t=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),i=function(i){t.push(i);var n=i;while(n.expanded)n=Te(n.childrenAfterSort);var r=n.rowTop+n.rowHeight,s=o+e+i.rowHeight;i.stickyRowTop=r<s?e+(r-s):e,e=0,t.forEach((function(t){var o=t.stickyRowTop+t.rowHeight;e<o&&(e=o)}))};while(1){var n=o+e,r=this.rowModel.getRowIndexAtPixel(n),s=this.rowModel.getRow(r);if(null==s)break;if(s.level<0)break;var a=[],l=s.parent;while(l.level>=0)a.push(l),l=l.parent;var u=a.reverse().find((function(e){return t.indexOf(e)<0&&e.displayed}));if(u)i(u);else{if(!(s.group&&s.expanded&&!s.footer&&s.rowTop<n))break;i(s)}}this.refreshNodesAndContainerHeight(t,e)}else this.refreshNodesAndContainerHeight([],e)},t.prototype.refreshNodesAndContainerHeight=function(e,t){var o,i,n,r=this,s=this.stickyRowCtrls.filter((function(t){return-1===e.indexOf(t.getRowNode())})),a=e.filter((function(e){return-1===r.stickyRowCtrls.findIndex((function(t){return t.getRowNode()===e}))})),l={};s.forEach((function(e){l[e.getRowNode().id]=e,r.stickyRowCtrls=r.stickyRowCtrls.filter((function(t){return t!==e}))}));try{for(var u=xp(Object.values(l)),c=u.next();!c.done;c=u.next()){var d=c.value;d.getRowNode().sticky=!1}}catch(h){o={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}this.destroyRowCtrls(l,!1);var p=a.map((function(e){return e.sticky=!0,r.createRowCon(e,!1,!1)}));(n=this.stickyRowCtrls).push.apply(n,Np(p)),this.stickyRowCtrls.forEach((function(e){return e.setRowTop(e.getRowNode().stickyRowTop)})),this.stickyRowCtrls.sort((function(e,t){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),this.containerHeight!==t&&(this.containerHeight=t,this.gridBodyCtrl.setStickyTopHeight(t))},Lp([se("rowModel")],t.prototype,"rowModel",void 0),Lp([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Lp([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Lp([ie],t.prototype,"postConstruct",null),t}(tt),kp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Gp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hp=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Vp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hp(arguments[t]));return e},Bp=10,jp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCtrlsByRowIndex={},t.zombieRowCtrls={},t.allRowCtrls=[],t.topRowCtrls=[],t.bottomRowCtrls=[],t.refreshInProgress=!1,t.dataFirstRenderedFired=!1,t}return kp(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()}))},t.prototype.initialise=function(){this.addManagedListener(this.eventService,at.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,at.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,at.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")&&("clientSide"!=this.rowModel.getType()?G((function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side Row Model")}),"rowRenderer.stickyWorksWithCsrmOnly"):this.gridOptionsService.isTreeData()?G((function(){return console.warn("AG Grid: The feature Sticky Row Groups does not work with Tree Data.")}),"rowRenderer.stickyDoesNotWorkWithTreeData"):this.stickyRowFeature=this.createManagedBean(new Ip(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new Wp(t)}},t.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptionsService.getNum("keepDetailRowsCount");return s(e)&&e>0?e:Bp},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=P(this.rowCtrlsByRowIndex),t=this.gridOptionsService.is("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");(t||o)&&e.sort((function(e,t){return e.getRowNode().rowIndex-t.getRowNode.rowIndex}));var i=P(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Vp(e,i,n)},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach((function(t){return t.onCellFocused(e)})),this.getFullWidthRowCtrls().forEach((function(t){return t.onFullWidthRowFocused(e)}))},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_CELL_FOCUSED,(function(t){e.onCellFocusChanged(t)})),this.addManagedListener(this.eventService,at.EVENT_CELL_FOCUS_CLEARED,(function(){e.onCellFocusChanged()})),this.addManagedListener(this.eventService,at.EVENT_FLASH_CELLS,(function(t){e.getAllCellCtrls().forEach((function(e){return e.onFlashCells(t)}))})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_HOVER_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onColumnHover()}))})),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){e.printLayout&&e.getAllCellCtrls().forEach((function(e){return e.onLeftChanged()}))}));var t=this.gridOptionsService.isEnableRangeSelection();t&&(this.addManagedListener(this.eventService,at.EVENT_RANGE_SELECTION_CHANGED,(function(){e.getAllCellCtrls().forEach((function(e){return e.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_MOVED,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PINNED,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_VISIBLE,(function(){e.getAllCellCtrls().forEach((function(e){return e.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,at.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnModel.getAllGridColumns();t&&t.forEach((function(t){var o=function(o){e.getAllCellCtrls().forEach((function(e){e.getColumn()===t&&o(e)}))},i=function(){o((function(e){return e.onLeftChanged()}))},n=function(){o((function(e){return e.onWidthChanged()}))},r=function(){o((function(e){return e.onFirstRightPinnedChanged()}))},s=function(){o((function(e){return e.onLastLeftPinnedChanged()}))},a=function(){o((function(e){return e.onColDefChanged()}))};t.addEventListener("leftChanged",i),t.addEventListener("widthChanged",n),t.addEventListener("firstRightPinnedChanged",r),t.addEventListener("lastLeftPinnedChanged",s),t.addEventListener("colDefChanged",a),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener("leftChanged",i),t.removeEventListener("widthChanged",n),t.removeEventListener("firstRightPinnedChanged",r),t.removeEventListener("lastLeftPinnedChanged",s),t.removeEventListener("colDefChanged",a)}))}))},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),t=e||this.gridOptionsService.is("embedFullWidthRows"),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)},t.prototype.getAllCellsForColumn=function(e){var t=[];return this.getAllRowCtrls().forEach((function(o){var i=o.getCellElement(e);i&&t.push(i)})),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,t){var o=this;e.forEach((function(e){e.destroyFirstPass(),e.destroySecondPass()})),e.length=0,t&&t.forEach((function(t){var i=new Nu(t,o.beans,!1,!1,o.printLayout);e.push(i)}))},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return a(e)||C(this.rowCtrlsByRowIndex,(function(o,i){var n=i.getRowNode();e.indexOf(n)>=0&&t.push(o)})),t},t.prototype.redrawRows=function(e){var t=null!=e&&e.length>0;if(t){var o=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(o)}this.redrawAfterModelUpdate({recycleRows:t})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=(null===e||void 0===e?void 0:e.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;var o=this.gridOptionsService.getDocument(),i=o.activeElement,n=this.gridOptionsService.getDomData(i,_u.DOM_DATA_KEY_CELL_CTRL),r=this.gridOptionsService.getDomData(i,Nu.DOM_DATA_KEY_ROW_CTRL),s=n||r;return s?t:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var o=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gridOptionsService.isAnimateRows(),n=o?this.recycleRows():null;o||this.removeAllRowComps(),this.redraw(n,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,o=this.gridOptionsService.is("suppressScrollOnNewData");t&&!o&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.context,type:"mock"})},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach((function(t){t.stopEditing(e)}))},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach((function(t){return e=e.concat(t.getAllCellCtrls())})),e},t.prototype.getAllRowCtrls=function(){var e=this,t=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Vp(this.topRowCtrls,this.bottomRowCtrls,t);return Object.keys(this.rowCtrlsByRowIndex).forEach((function(t){return o.push(e.rowCtrlsByRowIndex[t])})),o},t.prototype.addRenderedRowListener=function(e,t,o){var i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,o)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,o=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){return e.flashCell({flashDelay:t,fadeDelay:o})}))},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){if(e.refreshShouldDestroy()){var o=e.getRowCtrl();o&&o.refreshCell(e)}else e.refreshCell(t)})),this.getFullWidthRowCtrls(e.rowNodes).forEach((function(e){e.refreshFullWidth()}))},t.prototype.getCellRendererInstances=function(e){var t,o=this,i=this.getCellCtrls(e.rowNodes,e.columns).map((function(e){return e.getCellRenderer()})).filter((function(e){return null!=e}));if(null===(t=e.columns)||void 0===t?void 0:t.length)return i;var n=[],r=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((function(e){if((!r||o.isRowInMap(e.getRowNode(),r))&&e.isFullWidth()){var t=e.getFullWidthCellRenderer();t&&n.push(t)}})),Vp(n,i)},t.prototype.getCellEditorInstances=function(e){var t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((function(e){var o=e.getCellEditor();o&&t.push(o)})),t},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach((function(t){if(t.isEditing()){var o=t.getCellPosition();e.push(o)}})),e},t.prototype.mapRowNodes=function(e){if(e){var t={top:{},bottom:{},normal:{}};return e.forEach((function(e){var o=e.id;"top"===e.rowPinned?t.top[o]=e:"bottom"===e.rowPinned?t.bottom[o]=e:t.normal[o]=e})),t}},t.prototype.isRowInMap=function(e,t){var o=e.id,i=e.rowPinned;return"bottom"===i?null!=t.bottom[o]:"top"===i?null!=t.top[o]:null!=t.normal[o]},t.prototype.getCellCtrls=function(e,t){var o,i=this,n=this.mapRowNodes(e),r=[];s(t)&&(o={},t.forEach((function(e){var t=i.columnModel.getGridColumn(e);s(t)&&(o[t.getId()]=!0)})));var a=function(e){var t=e.getRowNode();(null==n||i.isRowInMap(t,n))&&e.getAllCellCtrls().forEach((function(e){var t=e.getColumn().getId(),i=o&&!o[t];i||r.push(e)}))};return this.getAllRowCtrls().forEach((function(e){return a(e)})),r},t.prototype.destroy=function(){this.removeAllRowComps(),e.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];C(this.rowCtrlsByRowIndex,(function(t,o){var i=null==o.getRowNode().id;i&&e.push(t)})),this.removeRowCtrls(e);var t={};return C(this.rowCtrlsByRowIndex,(function(e,o){var i=o.getRowNode();t[i.id]=o})),this.rowCtrlsByRowIndex={},t},t.prototype.removeRowCtrls=function(e){var t=this;e.forEach((function(e){var o=t.rowCtrlsByRowIndex[e];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete t.rowCtrlsByRowIndex[e]}))},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redrawAfterScroll()},t.prototype.redrawAfterScroll=function(){var e;if(this.stickyRowFeature&&Qo()&&(e=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(),null!=e){var t=this.getCellToRestoreFocusToAfterRefresh();null!=e&&null==t&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(e))}},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach((function(e){return t[e]=!0}));var o=Object.keys(this.rowCtrlsByRowIndex),i=o.filter((function(e){return!t[e]}));this.removeRowCtrls(i)},t.prototype.calculateIndexesToDraw=function(e){var t=this,o=li(this.firstRenderedRow,this.lastRenderedRow),i=function(e,i){var n=i.getRowNode().rowIndex;null!=n&&(n<t.firstRenderedRow||n>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(i)&&o.push(n)};return C(this.rowCtrlsByRowIndex,i),C(e,i),o.sort((function(e,t){return e-t})),o=o.filter((function(e){var o=t.paginationProxy.getRow(e);return o&&!o.sticky})),o},t.prototype.redraw=function(e,t,o){var i=this;void 0===t&&(t=!1),void 0===o&&(o=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var n=this.calculateIndexesToDraw(e);if(this.removeRowCompsNotToDraw(n),this.printLayout&&(t=!1),n.forEach((function(n){var r=i.createOrUpdateRowCtrl(n,e,t,o);s(r)})),e){var r=o&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout;r?this.beans.animationFrameService.addDestroyTask((function(){i.destroyRowCtrls(e,t),i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(){var e={type:at.EVENT_DISPLAYED_ROWS_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight(),o=this.pinningLeft!==e||t!==this.pinningRight;o&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach((function(t){var o=t.getRowNode().rowIndex;e.push(o.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var t=this,o=this.mapRowNodes(e);return P(this.rowCtrlsByRowIndex).filter((function(e){if(!e.isFullWidth())return!1;var i=e.getRowNode();return!(null!=o&&!t.isRowInMap(i,o))}))},t.prototype.refreshFullWidthRows=function(e){var t=[],o=!!e,i=o?{}:void 0;o&&i&&e.forEach((function(e){return i[e.id]=!0})),this.getFullWidthRowCtrls().forEach((function(e){var n=e.getRowNode();if(o&&i){var r=n.level>0&&n.parent?n.parent.id:void 0,s=!i[n.id]&&!i[r];if(s)return}var a=e.refreshFullWidth();if(!a){var l=e.getRowNode().rowIndex;t.push(l.toString())}})),this.removeRowCtrls(t),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,t,o,i){var n,r=this.rowCtrlsByRowIndex[e];r||(n=this.paginationProxy.getRow(e),s(n)&&s(t)&&t[n.id]&&n.alreadyRendered&&(r=t[n.id],t[n.id]=null));var a=!r;if(a){if(n||(n=this.paginationProxy.getRow(e)),!s(n))return;r=this.createRowCon(n,o,i)}return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r},t.prototype.destroyRowCtrls=function(e,t){var o=this,i=[];C(e,(function(e,n){n&&(o.cachedRowCtrls&&n.isCacheable()?o.cachedRowCtrls.addRow(n):(n.destroyFirstPass(),t?(o.zombieRowCtrls[n.getInstanceId()]=n,i.push((function(){n.destroySecondPass(),delete o.zombieRowCtrls[n.getInstanceId()]}))):n.destroySecondPass()))})),t&&(i.push((function(){o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),B(i))},t.prototype.getRowBuffer=function(){var e=this.gridOptionsService.getNum("rowBuffer");return"number"===typeof e?e<0&&(G((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),t=this.gridOptionsService.getRowHeightAsNumber();return e*t},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var o=this.getRowBufferInPixels(),i=this.ctrlsService.getGridBodyCtrl(),n=this.gridOptionsService.is("suppressRowVirtualisation"),r=!1,s=void 0,a=void 0;do{var l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getCurrentPagePixelRange(),c=u.pageFirstPixel,d=u.pageLastPixel,p=this.rowContainerHeightService.getDivStretchOffset(),h=i.getScrollFeature().getVScrollPosition(),f=h.top,g=h.bottom;n?(s=c+p,a=d+p):(s=Math.max(f+l-o,c)+p,a=Math.min(g+l+o,d)+p),this.firstVisibleVPixel=Math.max(f+l,c)+p,r=this.ensureAllRowsInRangeHaveHeightsCalculated(s,a)}while(r);var m=this.paginationProxy.getRowIndexAtPixel(s),v=this.paginationProxy.getRowIndexAtPixel(a),y=this.paginationProxy.getPageFirstRow(),C=this.paginationProxy.getPageLastRow();m<y&&(m=y),v>C&&(v=C),e=m,t=v}else e=0,t=-1;var b=this.gridOptionsService.isDomLayout("normal"),w=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),E=Math.max(this.getRowBuffer(),500);b&&!w&&t-e>E&&(t=e+E);var S=e!==this.firstRenderedRow,R=t!==this.lastRenderedRow;if(S||R){this.firstRenderedRow=e,this.lastRenderedRow=t;var O={type:at.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(O)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var t={type:at.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){e.beans.eventService.dispatchEvent(t)}))}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){var o=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return o&&this.updateContainerHeights(),o},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=!1,o=!0,i=e.getRowNode(),n=this.focusService.isRowNodeFocused(i),r=e.isEditing(),s=i.detail,a=n||r||s;if(!a)return t;var l=this.paginationProxy.isRowPresent(i);return l?o:t},t.prototype.createRowCon=function(e,t,o){var i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;var n=this.gridOptionsService.is("suppressAnimationFrame"),r=o&&!n&&!this.printLayout,s=new Nu(e,this.beans,t,r,this.printLayout);return s},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map((function(t){return e[t].getRowNode()}))},t.prototype.getRowByPosition=function(e){var t,o=e.rowIndex;switch(e.rowPinned){case"top":t=this.topRowCtrls[o];break;case"bottom":t=this.bottomRowCtrls[o];break;default:t=this.rowCtrlsByRowIndex[o],t||(t=this.getStickyTopRowCtrls().find((function(e){return e.getRowNode().rowIndex===o}))||null);break}return t},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,t){var o=null==e||null==t;if(o)return!1;var i=e>this.lastRenderedRow,n=t<this.firstRenderedRow,r=!n&&!i;return r},Gp([se("animationFrameService")],t.prototype,"animationFrameService",void 0),Gp([se("paginationProxy")],t.prototype,"paginationProxy",void 0),Gp([se("columnModel")],t.prototype,"columnModel",void 0),Gp([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Gp([se("rowModel")],t.prototype,"rowModel",void 0),Gp([se("focusService")],t.prototype,"focusService",void 0),Gp([se("beans")],t.prototype,"beans",void 0),Gp([se("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Gp([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Gp([ie],t.prototype,"postConstruct",null),t=Gp([re("rowRenderer")],t),t}(tt),Wp=function(){function e(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}return e.prototype.addRow=function(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){var t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}},e.prototype.getRow=function(e){if(null==e||null==e.id)return null;var t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);var o=t.getRowNode()!=e;return o?null:t},e.prototype.removeFromCache=function(e){var t=e.getRowNode().id;delete this.entriesMap[t],Me(this.entriesList,e)},e.prototype.getEntries=function(){return this.entriesList},e}(),zp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Up=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zp(t,e),t.prototype.formatValue=function(e,t,o,i,n){void 0===n&&(n=!0);var r,s=null,a=e.getColDef();if(i?r=i:n&&(r=a.valueFormatter),r){var l={value:o,node:t,data:t?t.data:null,colDef:a,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s="function"===typeof r?r(l):this.expressionService.evaluate(r,l)}else if(a.refData)return a.refData[o]||"";return null==s&&Array.isArray(o)&&(s=o.join(", ")),s},Up([se("expressionService")],t.prototype,"expressionService",void 0),t=Up([re("valueFormatterService")],t),t}(tt),Yp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),qp=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yp(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},t.prototype.isEmpty=function(e){var t="top"===e?this.pinnedTopRows:this.pinnedBottomRows;return l(t)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var o="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(l(o))return 0;for(var i=0;i<o.length;i++){var n=o[i],r=n.rowTop+n.rowHeight-1;if(r>=e)return i}return o.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var t={type:at.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var t={type:at.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.createNodesFromData=function(e,t){var o=this,i=[];if(e){var n=0;e.forEach((function(e,r){var s=new ea(o.beans);s.data=e;var a=t?ea.ID_PREFIX_TOP_PINNED:ea.ID_PREFIX_BOTTOM_PINNED;s.id=a+r,s.rowPinned=t?"top":"bottom",s.setRowTop(n),s.setRowHeight(o.gridOptionsService.getRowHeightForNode(s).height),s.setRowIndex(r),n+=s.rowHeight,i.push(s)}))}return i},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){l(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){l(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var t=Te(e);return t.rowTop+t.rowHeight},qp([se("beans")],t.prototype,"beans",void 0),qp([ie],t.prototype,"init",null),t=qp([re("pinnedRowModel")],t),t}(tt);
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e["Applied"]="Applied",e["StoreNotFound"]="StoreNotFound",e["StoreLoading"]="StoreLoading",e["StoreWaitingToLoad"]="StoreWaitingToLoad",e["StoreLoadingFailed"]="StoreLoadingFailed",e["StoreWrongType"]="StoreWrongType",e["Cancelled"]="Cancelled"})(ep||(ep={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var Xp,$p=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var o=0;o<e.children.length;o++)this.depthFirstSearchChangedPath(e.children[o],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,o){if(e.childrenAfterGroup)for(var i=0;i<e.childrenAfterGroup.length;i++){var n=e.childrenAfterGroup[i];n.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,o):o&&t(n)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.active&&!o?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){var t=e,o=0;while(!this.mapToItems[t.id]){var i={rowNode:t,children:null};this.mapToItems[t.id]=i,o++,t=t.parent}return o},e.prototype.populateColumnsMap=function(e,t){var o=this;if(this.keepingColumns&&t){var i=e;while(i)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach((function(e){return o.nodeIdsToColumns[i.id][e.getId()]=!0})),i=i.parent}},e.prototype.linkPathItems=function(e,t){for(var o=e,i=0;i<t;i++){var n=this.mapToItems[o.id],r=this.mapToItems[o.parent.id];r.children||(r.children=[]),r.children.push(n),o=o.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var o=this.nodeIdsToColumns[e.id],i=t.filter((function(e){return o[e.getId()]}));return i},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[e.id],i=t.filter((function(e){return!o[e.getId()]}));return i},e}(),Qp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zp=function(e){function t(o){var i=e.call(this)||this;return i.state=t.STATE_WAITING_TO_LOAD,i.version=0,i.id=o,i}return Qp(t,e),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var o=this.isRequestMostRecentAndLive(e);o&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,t){this.successCommon(e,t)},t.prototype.pageLoaded=function(e,t,o){this.successCommon(e,{rowData:t,rowCount:o})},t.prototype.isRequestMostRecentAndLive=function(e){var t=e===this.version,o=this.isAlive();return t&&o},t.prototype.successCommon=function(e,o){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(e);i&&(this.state=t.STATE_LOADED,this.processServerResult(o))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0);var o={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(o)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(tt),eh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),th=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oh=function(e,t){return function(o,i){t(o,i,e)}},ih=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeBlockLoadsCount=0,t.blocks=[],t.active=!0,t}var o;return eh(t,e),o=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var e=this.gridOptionsService.getNum("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Wn.debounce(this.performCheckBlocksToLoad.bind(this),e))},t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var e=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e},t.prototype.addBlock=function(e){this.blocks.push(e),e.addEventListener(Zp.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(e){Wn.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:o.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:o.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=this.getAvailableLoadingCount(),t=this.blocks.filter((function(e){return e.getState()===Zp.STATE_WAITING_TO_LOAD})).slice(0,e);this.registerLoads(t.length),t.forEach((function(e){return e.load()})),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var e=this.rowModel;return e.getBlockStates()}var t={};return this.blocks.forEach((function(e){var o=e.getBlockStateJson(),i=o.id,n=o.state;t[i]=n})),t},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(e){this.activeBlockLoadsCount+=e},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",th([se("rowModel")],t.prototype,"rowModel",void 0),th([ie],t.prototype,"postConstruct",null),th([oh(0,ue("loggerFactory"))],t.prototype,"setBeans",null),t=o=th([re("rowNodeBlockLoader")],t),t}(tt),nh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),rh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},sh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return nh(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,at.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,o,i){var n=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return n&&this.calculatePages(),n},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.is("groupRemoveSingleChildren")||this.gridOptionsService.is("groupRemoveLowestSingleChildren");return!!e||this.gridOptionsService.is("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var t={type:at.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows};this.eventService.dispatchEvent(t)},t.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var e={type:at.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.goToPage=function(e){if(this.active&&this.currentPage!==e&&"number"===typeof this.currentPage){this.currentPage=e;var t={type:at.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(t)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return a(this.topRowBounds)||a(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var t=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return t},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var t=this.getPageFirstRow(),o=this.getPageLastRow(),i=t;i<=o;i++){var n=this.getRow(i);n&&e(n)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=this.getPageForIndex(e);this.goToPage(t)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var t=this.getPageForIndex(e.rowIndex);return t===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(s(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:at.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var t=this.pageSize*this.currentPage,o=this.pageSize*(this.currentPage+1)-1;if(o>e&&(o=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),o===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var i=this.rowModel.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=i-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},rh([se("rowModel")],t.prototype,"rowModel",void 0),rh([ie],t.prototype,"postConstruct",null),t=rh([re("paginationProxy")],t),t}(tt),ah=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),lh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},uh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ah(t,e),t.prototype.processAllCellClasses=function(e,t,o,i){this.processClassRules(e.cellClassRules,t,o,i),this.processStaticCellClasses(e,t,o)},t.prototype.processClassRules=function(e,t,o,i){if(null!=e){for(var n=Object.keys(e),r={},s={},a=function(o){var i,a=n[o],u=e[a];"string"===typeof u?i=l.expressionService.evaluate(u,t):"function"===typeof u&&(i=u(t)),a.split(" ").forEach((function(e){null!=e&&""!=e.trim()&&(i?r[e]=!0:s[e]=!0)}))},l=this,u=0;u<n.length;u++)a(u);i&&Object.keys(s).forEach(i),Object.keys(r).forEach(o)}},t.prototype.getStaticCellClasses=function(e,t){var o,i=e.cellClass;if(!i)return[];if("function"===typeof i){var n=i;o=n(t)}else o=i;return"string"===typeof o&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,t,o){var i=this.getStaticCellClasses(e,t);i.forEach((function(e){o(e)}))},lh([se("expressionService")],t.prototype,"expressionService",void 0),t=lh([re("stylingService")],t),t}(tt),ch=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),dh=function(e){function t(t){return e.call(this,t,"ag-radio-button","radio")||this}return ch(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,at.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Rd),ph=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),hh=function(e){function t(t){return e.call(this,t,"ag-toggle-button")||this}return ph(t,e),t.prototype.setValue=function(t,o){return e.prototype.setValue.call(this,t,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Rd),fh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gh=function(e){function t(t,o,i){return void 0===o&&(o="ag-text-field"),void 0===i&&(i="text"),e.call(this,t,o,i)||this}return fh(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(t,o){var i=e.prototype.setValue.call(this,t,o);return this.eInput.value!==t&&(this.eInput.value=s(t)?t:""),i},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]"),t=function(t){t.key&&!e.test(t.key)&&t.preventDefault()};this.addManagedListener(this.eInput,"keypress",t),this.addManagedListener(this.eInput,"paste",(function(t){var o,i=null===(o=t.clipboardData)||void 0===o?void 0:o.getData("text");i&&i.split("").some((function(t){return!e.test(t)}))&&t.preventDefault()}))},t}(kr),mh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),vh=function(e){function t(t){return e.call(this,t,"ag-text-area",null,"textarea")||this}return mh(t,e),t.prototype.setValue=function(t,o){var i=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(kr),yh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ch=function(e){function t(t){return e.call(this,t,"ag-number-field","number")||this}return yh(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var e=parseFloat(t.eInput.value),o=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==o&&t.setValue(o)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,hn(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,hn(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,hn(this.eInput,"step",e)),this},t.prototype.setValue=function(t,o){t=this.adjustPrecision(t);var i=this.normalizeValue(t);return t!=i?this:e.prototype.setValue.call(this,t,o)},t}(gh),bh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wh=function(e){function t(t){return e.call(this,t,"ag-range-field","range")||this}return bh(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,o=t.min,i=t.max,n=t.step;null!=o&&this.setMinValue(o),null!=i&&this.setMaxValue(i),this.setStep(n||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){var o=t.target.value;e.setValue(o)}))},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,o){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var i=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,i},t}(kr),Eh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Sh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Rh=function(e){function t(o){var i=e.call(this,o,t.TEMPLATE)||this;return i.labelAlignment="top",i}return Eh(t,e),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,o=Or.EVENT_CHANGED;return this.addManagedListener(this.eText,o,(function(){var o=parseFloat(t.eText.getValue());t.eSlider.setValue(o.toString(),!0),e(o||0)})),this.addManagedListener(this.eSlider,o,(function(){var o=t.eSlider.getValue();t.eText.setValue(o,!0),e(parseFloat(o))})),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Or.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Sh([or("eLabel")],t.prototype,"eLabel",void 0),Sh([or("eSlider")],t.prototype,"eSlider",void 0),Sh([or("eText")],t.prototype,"eText",void 0),Sh([ie],t.prototype,"init",null),t}(Sr),Oh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Th=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_h=function(e){function t(o){void 0===o&&(o={});var i=e.call(this,t.getTemplate(o))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var n=o.title,r=o.enabled,s=o.items,a=o.suppressEnabledCheckbox,l=o.suppressOpenCloseIcons;return i.title=n,i.cssIdentifier=o.cssIdentifier||"default",i.enabled=null==r||r,i.items=s||[],i.alignItems=o.alignItems||"center",null!=a&&(i.suppressEnabledCheckbox=a),null!=l&&(i.suppressOpenCloseIcons=l),i}return Oh(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default",o=e.direction||"vertical";return'<div class="ag-group ag-'+t+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+o+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(vn("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(vn("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return e.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(t){switch(t.key){case bn.ENTER:case bn.SPACE:t.preventDefault(),e.toggleGroupExpand();break;case bn.RIGHT:case bn.LEFT:t.preventDefault(),e.toggleGroupExpand(t.key===bn.RIGHT);break}}))},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||So(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Ai(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Ai(this.eGroupOpenedIcon,e&&this.expanded),Ai(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e;var t="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(t),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Ai(this.eContainer,!0),this):(e=null!=e?e:!this.expanded,this.expanded===e||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Ai(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach((function(e){return t.addItem(e)}))},t.prototype.addItem=function(e){var t=this.eContainer,o=e instanceof tr?e.getGui():e;o.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),t.appendChild(o),this.items.push(o)},t.prototype.hideItem=function(e,t){var o=this.items[t];Ai(o,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange((function(o){t.setEnabled(o,!0),e(o)})),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Th([or("eTitleBar")],t.prototype,"eTitleBar",void 0),Th([or("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Th([or("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Th([or("eToolbar")],t.prototype,"eToolbar",void 0),Th([or("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Th([or("eTitle")],t.prototype,"eTitle",void 0),Th([or("eContainer")],t.prototype,"eContainer",void 0),Th([ie],t.prototype,"postConstruct",null),t}(tr),Ph=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Dh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e["TAB_GUARD"]="ag-tab-guard",e["TAB_GUARD_TOP"]="ag-tab-guard-top",e["TAB_GUARD_BOTTOM"]="ag-tab-guard-bottom"})(Xp||(Xp={}));var Ah,Mh=function(e){function t(t){var o=e.call(this)||this;o.skipTabGuardFocus=!1;var i=t.comp,n=t.eTopGuard,r=t.eBottomGuard,s=t.focusInnerElement,a=t.onFocusIn,l=t.onFocusOut,u=t.shouldStopEventPropagation,c=t.onTabKeyDown,d=t.handleKeyDown,p=t.eFocusableElement;return o.comp=i,o.eTopGuard=n,o.eBottomGuard=r,o.providedFocusInnerElement=s,o.eFocusableElement=p,o.providedFocusIn=a,o.providedFocusOut=l,o.providedShouldStopEventPropagation=u,o.providedOnTabKeyDown=c,o.providedHandleKeyDown=d,o}return Ph(t,e),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new vr(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)},onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(t){return e.addManagedListener(t,"focus",e.onFocus.bind(e))}))},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var t=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var o=this.tabGuardsAreActive();o&&this.deactivateTabGuards();var i=this.getNextFocusableElement(e.shiftKey);o&&setTimeout((function(){return t.activateTabGuards()}),0),i&&(i.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,t.focus()},Dh([se("focusService")],t.prototype,"focusService",void 0),Dh([ie],t.prototype,"postConstruct",null),t}(tt),Lh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xh=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Fh=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xh(arguments[t]));return e},Nh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lh(t,e),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var t=[this.eTopGuard,this.eBottomGuard],o={setTabIndex:function(e){t.forEach((function(t){return null!=e?t.setAttribute("tabIndex",e):t.removeAttribute("tabIndex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Mh({comp:o,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var t=document.createElement("div"),o="top"===e?Xp.TAB_GUARD_TOP:Xp.TAB_GUARD_BOTTOM;return t.classList.add(Xp.TAB_GUARD,o),co(t,"presentation"),t},t.prototype.addTabGuards=function(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];ji(this.getFocusableElement()),this.addTabGuards.apply(this,Fh(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(t,o){cn(t)||(t=t.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,o)},t}(tr),Ih=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),kh=function(){return kh=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},kh.apply(this,arguments)},Gh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hh=function(e){function t(t){void 0===t&&(t=1);var o=e.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return o.level=t,o.menuItems=[],o}return Ih(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent(),o=t&&t.getGui(),i=o&&o.classList.contains("ag-focus-managed");i||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case bn.UP:case bn.RIGHT:case bn.DOWN:case bn.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case bn.ESCAPE:var t=this.findTopMenu();t&&this.focusService.focusInto(t.getGui());break}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var t=this;null!=e&&e.forEach((function(e){"separator"===e?t.addSeparator():"string"===typeof e?console.warn("AG Grid: unrecognised menu item "+e):t.addItem(e)}))},t.prototype.addItem=function(e){var t=this,o=this.createManagedBean(new Uh(kh(kh({},e),{isAnotherSubMenuOpen:function(){return t.menuItems.some((function(e){return e.isSubMenuOpen()}))}})));o.setParentComponent(this),bo(o.getGui(),this.level),this.menuItems.push(o),this.appendChild(o.getGui()),this.addManagedListener(o,Uh.EVENT_MENU_ITEM_SELECTED,(function(e){t.dispatchEvent(e)})),this.addManagedListener(o,Uh.EVENT_MENU_ITEM_ACTIVATED,(function(e){t.activeMenuItem&&t.activeMenuItem!==e.menuItem&&t.activeMenuItem.deactivate(),t.activeMenuItem=e.menuItem}))},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter((function(e){return!e.isDisabled()}))[0];e&&e.activate()},t.prototype.addSeparator=function(){var e='\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>';this.appendChild(Ki(e))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;while(1){var o=e&&e.getParentComponent&&e.getParentComponent();if(!o||!(o instanceof t||o instanceof Uh))break;e=o}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case bn.UP:case bn.DOWN:var t=this.findNextItem(e===bn.UP);return void(t&&t!==this.activeMenuItem&&t.activate())}var o=this.gridOptionsService.is("enableRtl")?bn.RIGHT:bn.LEFT;e===o?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();t&&t instanceof Uh&&(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var t=this.menuItems.filter((function(e){return!e.isDisabled()}));if(t.length){if(!this.activeMenuItem)return e?Te(t):t[0];var o;e&&t.reverse();for(var i=!1,n=0;n<t.length;n++){var r=t[n];if(i){o=r;break}r===this.activeMenuItem&&(i=!0)}return o||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),e.prototype.destroy.call(this)},Gh([se("focusService")],t.prototype,"focusService",void 0),Gh([ie],t.prototype,"postConstruct",null),t}(Nh),Vh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jh=function(e){function t(t){var o=e.call(this)||this;return o.wrappedComponent=t,o.setTemplateFromElement(t.getGui()),o}return Vh(t,e),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}})},t.prototype.handleKeyDown=function(e){e.key===bn.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout((function(){return e.getGui().focus()}),0)},Bh([ie],t.prototype,"postConstruct",null),t}(Nh),Wh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uh=function(e){function t(t){var o=e.call(this)||this;return o.params=t,o.isActive=!1,o.subMenuIsOpen=!1,o.setTemplate('<div class="'+o.getClassName()+'" tabindex="-1" role="treeitem"></div>'),o}return Wh(t,e),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var t=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),wo(t,!0)):(this.addGuiEventListener("click",(function(t){return e.onItemSelected(t)})),this.addGuiEventListener("keydown",(function(t){t.key!==bn.ENTER&&t.key!==bn.SPACE||(t.preventDefault(),e.onItemSelected(t))})),this.addGuiEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return e.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return e.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(t){return e.addCssClass(t)}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var o=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var i,n=Ki('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var r=ho(this.getGui()),s=isNaN(r)?1:r+1,a=this.createBean(new Hh(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),n.appendChild(a.getGui()),this.addManagedListener(a,t.EVENT_MENU_ITEM_SELECTED,(function(e){return o.dispatchEvent(e)})),a.addGuiEventListener("mouseenter",(function(){return o.cancelDeactivate()})),i=function(){return o.destroyBean(a)},e&&setTimeout((function(){return a.activateFirstItem()}),0)}else{var l=this.params.subMenu,u=this.createBean(new jh(l));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",p=function(){return o.cancelDeactivate()};c.addEventListener(d,p),i=function(){return c.removeEventListener(d,p)},n.appendChild(c),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var h=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:n}),g=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:f,anchorToElement:h,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,So(h,!0),this.hideSubMenu=function(){m&&m.hideFunc(),o.subMenuIsOpen=!1,So(h,!1),i()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,So(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var t=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout((function(){t.isAlive()&&t.isActive&&t.openSubMenu()}),300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=Ki('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(yn("check",this.gridOptionsService)):this.params.icon&&(cn(this.params.icon)?e.appendChild(this.params.icon):"string"===typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=Ki('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Xn(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=Ki('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=Ki('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),t=this.getGui();if(this.params.subMenu){var o=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";So(t,!1),e.appendChild(yn(o,this.gridOptionsService))}t.appendChild(e)}},t.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),!this.params.subMenu||this.params.action){var o={type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(o)}},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return e.activate(!0)}),t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return e.deactivate()}),t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var t=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?t+"-"+e:t},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,zh([se("popupService")],t.prototype,"popupService",void 0),zh([ie],t.prototype,"init",null),t}(tr),Kh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Yh=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qh=function(e){function t(o){var i=e.call(this,t.getTemplate(o))||this;return i.closable=!0,i.config=o,i}return Kh(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,o=t.component,i=t.closable,n=t.hideTitleBar,r=t.title,s=t.minWidth,a=void 0===s?250:s,l=t.width,u=t.minHeight,c=void 0===u?250:u,d=t.height,p=t.centered,h=t.popup,f=t.x,g=t.y;this.positionableFeature=new _p(this.getGui(),{minWidth:a,width:l,minHeight:c,height:d,centered:p,x:f,y:g,popup:h,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();o&&this.setBodyComponent(o),n?Ai(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(null!=i?i:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(t){var o=e.gridOptionsService.getDocument();if(m.contains(t.relatedTarget)||m.contains(o.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var i=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");i&&i.focus()}})),h&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var o=this.closeButtonComp=new tr(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o);var i=o.getGui(),n=yn("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(n),this.addTitleBarButton(o),o.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var o=this.eTitleBarButtons,i=o.children,n=i.length;null==t&&(t=n),t=Math.max(0,Math.min(t,n)),e.addCssClass("ag-panel-title-bar-button");var r=e.getGui();0===t?o.insertAdjacentElement("afterbegin",r):t===n?o.insertAdjacentElement("beforeend",r):i[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Ni(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return Ii(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Yh([or("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Yh([or("eTitleBar")],t.prototype,"eTitleBar",void 0),Yh([or("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Yh([or("eTitle")],t.prototype,"eTitle",void 0),Yh([ie],t.prototype,"postConstruct",null),t}(tr),Jh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Xh=function(){return Xh=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Xh.apply(this,arguments)},$h=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Qh=function(e){function t(t){var o=e.call(this,Xh(Xh({},t),{popup:!0}))||this;return o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.lastPosition={x:0,y:0,width:0,height:0},o}return Jh(t,e),t.prototype.postConstruct=function(){var t=this,o=this.getGui(),i=this.config,n=i.movable,r=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),e.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",(function(e){o.contains(e.relatedTarget)||t.popupService.bringPopupToFront(o)})),n&&this.setMovable(n),s&&this.setMaximizable(s),r&&this.setResizable(r)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,o=t.alwaysOnTop,i=t.modal,n=t.title,r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:o,ariaLabel:n||r("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var t=this.lastPosition,o=t.x,i=t.y,n=t.width,r=t.height;this.setWidth(n),this.setHeight(r),this.positionableFeature.offsetElement(o,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Ai(this.maximizeIcon,!this.isMaximized),Ai(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(e){return e()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var t=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var o=this.eTitleBar;if(o&&e!==this.isMaximizable){var i=this.maximizeButtonComp=this.createBean(new tr('<div class="ag-dialog-button"></span>')),n=i.getGui();n.appendChild(this.maximizeIcon=yn("maximize",this.gridOptionsService)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(this.minimizeIcon=yn("minimize",this.gridOptionsService)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),Ai(this.minimizeIcon,!1),i.addManagedListener(n,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){t.isMaximized=!1,t.refreshMaximizeIcon()}))}},$h([se("popupService")],t.prototype,"popupService",void 0),t}(qh),Zh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ef=function(){return ef=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},ef.apply(this,arguments)},tf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},of=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},nf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(of(arguments[t]));return e},rf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return Zh(t,e),o=t,t.addKeyboardModeEvents=function(e,t){var i=o.instancesMonitored.get(e);i&&i.length>0?-1===i.indexOf(t)&&i.push(t):(o.instancesMonitored.set(e,[t]),e.addEventListener("keydown",o.toggleKeyboardMode),e.addEventListener("mousedown",o.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(e,t){var i=o.instancesMonitored.get(e),n=[];i&&i.length&&(n=nf(i).filter((function(e){return e!==t})),o.instancesMonitored.set(e,n)),0===n.length&&(e.removeEventListener("keydown",o.toggleKeyboardMode),e.removeEventListener("mousedown",o.toggleKeyboardMode))},t.toggleKeyboardMode=function(e){var t=o.keyboardModeActive,i="keydown"===e.type;if((!i||!(e.ctrlKey||e.metaKey||e.altKey))&&!(t&&i||!t&&!i)){o.keyboardModeActive=i;var n=e.target.ownerDocument;if(n){var r=o.instancesMonitored.get(n);r&&r.forEach((function(e){e.dispatchEvent({type:i?at.EVENT_KEYBOARD_FOCUS:at.EVENT_MOUSE_FOCUS})}))}}},t.prototype.init=function(){var e=this,t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl;var i=e.gridOptionsService.getDocument();o.addKeyboardModeEvents(i,e.gridCtrl),e.addDestroyFunc((function(){return e.unregisterGridCompController(e.gridCtrl)}))}))},t.prototype.unregisterGridCompController=function(e){var t=this.gridOptionsService.getDocument();o.removeKeyboardModeEvents(t,e)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return o.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(e.activeElement,Nu.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var e=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(e.activeElement,cd.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(e,t){var o=e;while(o){var i=this.gridOptionsService.getDomData(o,t);if(i)return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.getFocusEventParams=function(){var e=this.focusedCellPosition,t=e.rowIndex,o=e.rowPinned,i=e.column,n={rowIndex:t,rowPinned:o,column:i,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:o});return r&&(n.isFullWidthCell=r.isFullWidth()),n},t.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var e=ef({type:at.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}},t.prototype.setFocusedCell=function(e){var t=e.column,o=e.rowIndex,i=e.rowPinned,n=e.forceBrowserFocus,s=void 0!==n&&n,a=e.preventScrollOnBrowserFocus,l=void 0!==a&&a,u=this.columnModel.getGridColumn(t);if(u){this.focusedCellPosition=u?{rowIndex:o,rowPinned:r(i),column:u}:null;var c=ef(ef({type:at.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:l,floating:null});this.eventService.dispatchEvent(c)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned))},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(null==this.focusedHeaderPosition)return!1;var t=e.getColumnGroupChild(),o=e.getRowIndex(),i=e.getPinned(),n=this.focusedHeaderPosition,r=n.column,s=n.headerRowIndex;return t===r&&o===s&&i==r.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e){var t=e.direction,o=e.fromTab,i=e.allowUserOverride,n=e.event,r=e.headerPosition;if(i){var s=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount();if(o){var l=this.gridOptionsService.getCallback("tabToNextHeader");if(l){var u={backwards:"Before"===t,previousHeaderPosition:s,nextHeaderPosition:r,headerRowCount:a};r=l(u)}}else{l=this.gridOptionsService.getCallback("navigateToNextHeader");if(l&&n){var c={key:n.key,previousHeaderPosition:s,nextHeaderPosition:r,headerRowCount:a,event:n};r=l(c)}}}if(!r)return!1;if(-1===r.headerRowIndex)return this.focusGridView(r.column);this.headerNavigationService.scrollToColumn(r.column,t);var d=this.ctrlsService.getHeaderRowContainerCtrl(r.column.getPinned()),p=d.focusHeader(r.headerRowIndex,r.column,n);return p},t.prototype.focusFirstHeader=function(){var e=this.columnModel.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:e}}))},t.prototype.focusLastHeader=function(e){var t=this.headerNavigationService.getHeaderRowCount()-1,o=Te(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:o},event:e})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===r(t))},t.prototype.findFocusableElements=function(e,t,o){void 0===o&&(o=!1);var i=_i,n=Pi;t&&(n+=", "+t),o&&(n+=', [tabindex="-1"]');var r=Array.prototype.slice.apply(e.querySelectorAll(i)),s=Array.prototype.slice.apply(e.querySelectorAll(n));if(!s.length)return r;var a=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))};return a(r,s)},t.prototype.focusInto=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);var i=this.findFocusableElements(e,null,o),n=t?Te(i):i[0];return!!n&&(n.focus(),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(e,t){if(!t)return null;var o=this.findFocusableElements(e),i=o.indexOf(t);if(-1===i)return null;for(var n=-1,r=i-1;r>=0;r--)if(o[r].classList.contains(Xp.TAB_GUARD_TOP)){n=r;break}return n<=0?null:o[n-1]},t.prototype.findNextFocusableElement=function(e,t,o){void 0===e&&(e=this.eGridDiv);var i,n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),r=this.gridOptionsService.getDocument(),s=r.activeElement;i=t?n.findIndex((function(e){return e.contains(s)})):n.indexOf(s);var a=i+(o?-1:1);return a<0||a>=n.length?null:n[a]},t.prototype.isTargetUnderManagedComponent=function(e,t){if(!t)return!1;var o=e.querySelectorAll("."+vr.FOCUS_MANAGED_CLASS);if(!o.length)return!1;for(var i=0;i<o.length;i++)if(o[i].contains(t))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);var o=0;while(e&&null===Zo(e)&&++o<=t)e=e.parentElement;return null===Zo(e)?null:e},t.prototype.focusGridView=function(e,t){if(this.gridOptionsService.is("suppressCellFocus"))return t?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var i=o.rowIndex,n=o.rowPinned,s=this.getFocusedHeader();if(!e&&s&&(e=s.column),null==i||!e)return!1;if(this.navigationService.ensureCellVisible({rowIndex:i,column:e,rowPinned:n}),this.setFocusedCell({rowIndex:i,column:e,rowPinned:r(n),forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:i,rowPinned:n,column:e};this.rangeService.setRangeToCell(a)}return!0},t.prototype.focusNextGridCoreContainer=function(e){return!!this.gridCtrl.focusNextInnerContainer(e)||(e||this.gridCtrl.isDetailGrid()||this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,tf([se("eGridDiv")],t.prototype,"eGridDiv",void 0),tf([se("columnModel")],t.prototype,"columnModel",void 0),tf([se("headerNavigationService")],t.prototype,"headerNavigationService",void 0),tf([se("rowRenderer")],t.prototype,"rowRenderer",void 0),tf([se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),tf([ae("rangeService")],t.prototype,"rangeService",void 0),tf([se("navigationService")],t.prototype,"navigationService",void 0),tf([se("ctrlsService")],t.prototype,"ctrlsService",void 0),tf([ie],t.prototype,"init",null),t=o=tf([re("focusService")],t),t}(tt),sf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),af=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},lf=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},uf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lf(arguments[t]));return e};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e[e["vertical"]=0]="vertical",e[e["horizontal"]=1]="horizontal"})(Ah||(Ah={}));var cf,df=0,pf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}var o;return sf(t,e),o=t,t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.gridCtrl=t.gridCtrl,e.addManagedListener(e.gridCtrl,at.EVENT_KEYBOARD_FOCUS,(function(){e.popupList.forEach((function(e){return e.element.classList.add(rf.AG_KEYBOARD_FOCUS)}))})),e.addManagedListener(e.gridCtrl,at.EVENT_MOUSE_FOCUS,(function(){e.popupList.forEach((function(e){return e.element.classList.remove(rf.AG_KEYBOARD_FOCUS)}))}))}))},t.prototype.getPopupParent=function(){var e=this.gridOptionsService.get("popupParent");return e||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect(),i=this.keepXYWithinBounds(e.ePopup,t.top-o.top,Ah.vertical),n=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=n+"px";var r,s=o.right-o.left,a=s-n;function l(){return t.right-o.left-2}function u(){return t.left-o.left-n}this.gridOptionsService.is("enableRtl")?(r=u(),r<0&&(r=l()),r>a&&(r=0)):(r=l(),r>a&&(r=u()),r<0&&(r=0)),e.ePopup.style.left=r+"px",e.ePopup.style.top=i+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this,o=e.ePopup,i=e.nudgeX,n=e.nudgeY,r=e.skipObserver;this.positionPopup({ePopup:o,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:function(){return t.calculatePointerAlign(e.mouseEvent)},postProcessCallback:function(){return t.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)}})},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupByComponent=function(e){var t=this,o=e.eventSource.getBoundingClientRect(),i=e.alignSide||"left",n=e.position||"over",r=this.getParentRect(),s=function(){var t=o.left-r.left;"right"===i&&(t-=e.ePopup.offsetWidth-o.width);var s="over"===n?o.top-r.top:o.top-r.top+o.height;return{x:t,y:s}};this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,keepWithinBounds:e.keepWithinBounds,updatePosition:s,postProcessCallback:function(){return t.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)}})},t.prototype.callPostProcessPopup=function(e,t,o,i,n,r){var s=this.gridOptionsService.getCallback("postProcessPopup");if(s){var a={column:n,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:i};s(a)}},t.prototype.positionPopup=function(e){var t=this,i=e.ePopup,n=e.keepWithinBounds,r=e.nudgeX,s=e.nudgeY,a=e.skipObserver,l=e.updatePosition,u={width:0,height:0},c=function(o){void 0===o&&(o=!1);var a=l(),c=a.x,d=a.y;o&&i.clientWidth===u.width&&i.clientHeight===u.height||(u.width=i.clientWidth,u.height=i.clientHeight,r&&(c+=r),s&&(d+=s),n&&(c=t.keepXYWithinBounds(i,c,Ah.horizontal),d=t.keepXYWithinBounds(i,d,Ah.vertical)),i.style.left=c+"px",i.style.top=d+"px",e.postProcessCallback&&e.postProcessCallback())};if(c(),!a){var d=this.resizeObserverService.observeResize(i,(function(){return c(!0)}));setTimeout((function(){return d()}),o.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map((function(e){return e.element}))},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsService.getDocument(),t=this.getPopupParent();t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent);var o=getComputedStyle(t),i=t.getBoundingClientRect();return{top:i.top+parseFloat(o.borderTopWidth)||0,left:i.left+parseFloat(o.borderLeftWidth)||0,right:i.right+parseFloat(o.borderRightWidth)||0,bottom:i.bottom+parseFloat(o.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(e,t,o){var i=o===Ah.vertical,n=i?"clientHeight":"clientWidth",r=i?"top":"left",s=i?"offsetHeight":"offsetWidth",a=i?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),u=l.documentElement,c=this.getPopupParent(),d=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),h=c===l.body,f=e[s],g=i?ki:Gi,m=h?g(u)+u[a]:c[n];h&&(m-=Math.abs(p[r]-d[r]));var v=m-f;return Math.min(Math.max(t,0),Math.abs(v))},t.prototype.keepPopupPositionedRelativeTo=function(e){var t=this,o=this.getPopupParent(),i=o.getBoundingClientRect(),n=e.element.getBoundingClientRect(),r=i.top-n.top,s=i.left-n.left,a=r,l=s,u=e.ePopup.style.top,c=parseInt(u.substring(0,u.length-1),10),d=e.ePopup.style.left,p=parseInt(d.substring(0,d.length-1),10);return new Kn((function(i){t.getFrameworkOverrides().setInterval((function(){var i=o.getBoundingClientRect(),n=e.element.getBoundingClientRect(),u=0==n.top&&0==n.left&&0==n.height&&0==n.width;if(u)e.hidePopup();else{var d=i.top-n.top;if(d!=a){var h=t.keepXYWithinBounds(e.ePopup,c+r-d,Ah.vertical);e.ePopup.style.top=h+"px"}a=d;var f=i.left-n.left;if(f!=l){var g=t.keepXYWithinBounds(e.ePopup,p+s-f,Ah.horizontal);e.ePopup.style.left=g+"px"}l=f}}),200).then((function(e){var t=function(){null!=e&&window.clearInterval(e)};i(t)}))}))},t.prototype.addPopup=function(e){var t,o=this,i=e.modal,n=e.eChild,r=e.closeOnEsc,s=e.closedCallback,a=e.click,l=e.alwaysOnTop,u=e.afterGuiAttached,c=e.positionCallback,d=e.anchorToElement,p=e.ariaLabel,h=this.gridOptionsService.getDocument(),f=new Kn((function(e){return e((function(){}))}));if(!h)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:f};var g=this.popupList.findIndex((function(e){return e.element===n}));if(-1!==g){var m=this.popupList[g];return{hideFunc:m.hideFunc,stopAnchoringPromise:m.stopAnchoringPromise}}var v=this.getPopupParent();null==n.style.top&&(n.style.top="0px"),null==n.style.left&&(n.style.left="0px");var y=document.createElement("div"),C=this.environment.getTheme().allThemes;C.length&&(t=y.classList).add.apply(t,uf(C)),y.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||co(n,"dialog"),mo(n,p),this.focusService.isKeyboardMode()&&n.classList.add(rf.AG_KEYBOARD_FOCUS),y.appendChild(n),v.appendChild(y),l?this.setAlwaysOnTop(y,!0):this.bringPopupToFront(y);var b=!1,w=function(e){if(y.contains(h.activeElement)){var t=e.key;t===bn.ESCAPE&&R({keyboardEvent:e})}},E=function(e){return R({mouseEvent:e})},S=function(e){return R({touchEvent:e})},R=function(e){void 0===e&&(e={});var t=e.mouseEvent,i=e.touchEvent,r=e.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:t,touchEvent:i},n)||o.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:t,touchEvent:i})||b||(b=!0,v.removeChild(y),h.removeEventListener("keydown",w),h.removeEventListener("mousedown",E),h.removeEventListener("touchstart",S),h.removeEventListener("contextmenu",E),o.eventService.removeEventListener(at.EVENT_DRAG_STARTED,E),s&&s(t||i||r),o.popupList=o.popupList.filter((function(e){return e.element!==n})),f&&f.then((function(e){return e&&e()})))};return u&&u({hidePopup:R}),window.setTimeout((function(){r&&h.addEventListener("keydown",w),i&&(h.addEventListener("mousedown",E),o.eventService.addEventListener(at.EVENT_DRAG_STARTED,E),h.addEventListener("touchstart",S),h.addEventListener("contextmenu",E))}),0),c&&c(),d&&(f=this.keepPopupPositionedRelativeTo({element:d,ePopup:n,hidePopup:R})),this.popupList.push({element:n,wrapper:y,hideFunc:R,stopAnchoringPromise:f,instanceId:df++,isAnchored:!!d}),{hideFunc:R,stopAnchoringPromise:f}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(e){return e.isAnchored}))},t.prototype.isEventFromCurrentPopup=function(e,t){var o=e.mouseEvent,i=e.touchEvent,n=o||i;if(!n)return!1;var r=this.popupList.findIndex((function(e){return e.element===t}));if(-1===r)return!1;for(var s=r;s<this.popupList.length;s++){var a=this.popupList[s];if(Je(a.element,n))return!0}return this.isElementWithinCustomPopup(n.target)},t.prototype.isElementWithinCustomPopup=function(e){var t=this.gridOptionsService.getDocument();while(e&&e!==t.body){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,o=e.mouseEvent,i=e.touchEvent,n=null;if(o?n=o:i&&(n=i.touches[0]),n&&t){var r=o?o.screenX:0,s=o?o.screenY:0,a=Math.abs(t.screenX-r)<5,l=Math.abs(t.screenY-s)<5;if(a&&l)return!0}return!1},t.prototype.getWrapper=function(e){while(!e.classList.contains("ag-popup")&&e.parentElement)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var o=this.getWrapper(e);o&&(o.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=o.length,n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=n.length,s=this.getWrapper(e);if(s&&!(i<=1)&&t.contains(e)){var a=o.indexOf(s),l=s.querySelectorAll("div"),u=[];if(l.forEach((function(e){0!==e.scrollTop&&u.push([e,e.scrollTop])})),r){var c=s.classList.contains("ag-always-on-top");c?a!==i-1&&Te(n).insertAdjacentElement("afterend",s):a!==i-r-1&&n[0].insertAdjacentElement("beforebegin",s)}else a!==i-1&&Te(o).insertAdjacentElement("afterend",s);while(u.length){var d=u.pop();d[0].scrollTop=d[1]}var p={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:s};this.eventService.dispatchEvent(p)}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,af([se("focusService")],t.prototype,"focusService",void 0),af([se("ctrlsService")],t.prototype,"ctrlsService",void 0),af([se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),af([ie],t.prototype,"postConstruct",null),t=o=af([re("popupService")],t),t}(tt),hf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ff=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gf=(function(e){function t(o,i,n){void 0===o&&(o="default"),void 0===i&&(i="listbox");var r=e.call(this,t.getTemplate(o))||this;return r.cssIdentifier=o,r.ariaRole=i,r.listName=n,r.renderedRows=new Map,r.rowHeight=20,r}hf(t,e),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(t){return e.onFocusIn(t)},onFocusOut:function(t){return e.onFocusOut(t)},focusInnerElement:function(t){return e.focusInnerElement(t)},onTabKeyDown:function(t){return e.onTabKeyDown(t)},handleKeyDown:function(t){return e.handleKeyDown(t)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,at.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),t=e("ariaDefaultListName",this.listName||"List"),o=this.eContainer;co(o,this.ariaRole),mo(o,t)},t.prototype.addResizeObserver=function(){var e=this,t=function(){return e.drawVirtualRows()},o=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(o)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var t=e.target;return t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=fo(t)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case bn.UP:case bn.DOWN:this.navigate(e.key===bn.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.forceFocusOutOfContainer(e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var t=this.lastFocusedRowIndex+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout((function(){if(t.isAlive()){var o=t.renderedRows.get(e);o&&o.eDiv.focus()}}),10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach((function(t,o){return e(t.rowComponent,o)}))},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!==typeof e||e<0||e>=t)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var o=e*this.rowHeight,i=o+this.rowHeight,n=this.getGui(),r=n.scrollTop,s=n.offsetHeight,a=r+s,l=r>o,u=a<i;if(l)n.scrollTop=o;else if(u){var c=i-s;n.scrollTop=c}}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var t=this;if(null!=this.model&&this.isAlive()){var o=this.model.getRowCount();this.eContainer.style.height=o*this.rowHeight+"px",q((function(){return t.eContainer.clientHeight>=o*t.rowHeight}),(function(){t.isAlive()&&(t.canSoftRefresh(e)?t.drawVirtualRows(!0):(t.clearVirtualRows(),t.drawVirtualRows()))}))}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"===typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach((function(t,o){return e.removeRow(o)}))},t.prototype.drawVirtualRows=function(e){if(this.isAlive()){var t=this.getGui(),o=t.scrollTop,i=o+t.offsetHeight,n=Math.floor(o/this.rowHeight),r=Math.floor(i/this.rowHeight);this.ensureRowsRendered(n,r,e)}},t.prototype.ensureRowsRendered=function(e,t,o){var i=this;this.renderedRows.forEach((function(o,n){(n<e||n>t)&&n!==i.lastFocusedRowIndex&&i.removeRow(n)})),o&&this.refreshRows();for(var n=e;n<=t;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)},t.prototype.insertRow=function(e){var t=this,o=this.model.getRow(e),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),co(i,"tree"===this.ariaRole?"treeitem":"option"),Oo(i,this.model.getRowCount()),To(i,e+1),i.setAttribute("tabindex","-1"),"function"===typeof this.model.isRowSelected){var n=this.model.isRowSelected(e);No(i,!!n),Io(i,n)}i.style.height=this.rowHeight+"px",i.style.top=this.rowHeight*e+"px";var r=this.componentCreator(o,i);r.addGuiEventListener("focusin",(function(){return t.lastFocusedRowIndex=e})),i.appendChild(r.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:r,eDiv:i,value:o})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,t=this.model.getRowCount();this.renderedRows.forEach((function(o,i){var n,r;if(i>=t)e.removeRow(i);else{var s=e.model.getRow(i);(null===(r=(n=e.model).areRowsEqual)||void 0===r?void 0:r.call(n,o.value,s))?e.componentUpdater(s,o.rowComponent):e.removeRow(i)}}))},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",(function(){return e.drawVirtualRows()}),{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),e.prototype.destroy.call(this))},ff([se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ff([or("eContainer")],t.prototype,"eContainer",void 0),ff([ie],t.prototype,"postConstruct",null)}(Nh),["mouseover","mouseout","mouseenter","mouseleave"]),mf=["touchstart","touchend","touchmove","touchcancel"],vf=function(){function e(){this.isOutsideAngular=function(e){return Ie(gf,e)}}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.setInterval=function(e,t){return new Kn((function(o){o(window.setInterval(e,t))}))},e.prototype.addEventListener=function(e,t,o,i){var n=Ie(mf,t);e.addEventListener(t,o,{capture:!!i,passive:n})},e.prototype.dispatchEvent=function(e,t,o){t()},e.prototype.frameworkComponent=function(e){return null},e.prototype.isFrameworkComponent=function(e){return!1},e}(),yf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Cf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},bf=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},wf=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bf(arguments[t]));return e},Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yf(t,e),t.prototype.getNextCellToFocus=function(e,t,o){return void 0===o&&(o=!1),o?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,t){var o,i,n=e===bn.UP,r=e===bn.DOWN,s=e===bn.LEFT;if(n||r)i=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),o=t.column;else{var a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.is("enableRtl");i=t.rowIndex,o=s!==l?a[0]:Te(a)}return{rowIndex:i,rowPinned:null,column:o}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,t){var o=t,i=!1;while(!i){switch(e){case bn.UP:o=this.getCellAbove(o);break;case bn.DOWN:o=this.getCellBelow(o);break;case bn.RIGHT:o=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(o):this.getCellToRight(o);break;case bn.LEFT:o=this.gridOptionsService.is("enableRtl")?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,console.warn("AG Grid: unknown key for navigation "+e);break}i=!o||this.isCellGoodToFocusOn(o)}return o},t.prototype.isCellGoodToFocusOn=function(e){var t,o=e.column;switch(e.rowPinned){case"top":t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex);break}if(!t)return!1;var i=o.isSuppressNavigable(t);return!i},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,o=e.rowPinned;if(this.isLastRowInContainer(e))switch(o){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var i=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(i);return n||{rowIndex:t+1,rowPinned:o}},t.prototype.getNextStickyPosition=function(e,t){if(this.gridOptionsService.is("groupRowsSticky")&&e&&e.sticky){var o=wf(this.rowRenderer.getStickyTopRowCtrls()).sort((function(e,t){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})),i=t?-1:1,n=o.findIndex((function(t){return t.getRowNode().rowIndex===e.rowIndex})),r=o[n+i];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,o=e.rowIndex;if("top"===t){var i=this.pinnedRowModel.getPinnedTopRowData().length-1;return i<=o}if("bottom"===t){var n=this.pinnedRowModel.getPinnedBottomRowData().length-1;return n<=o}var r=this.paginationProxy.getPageLastRow();return r<=o},t.prototype.getRowAbove=function(e){var t=e.rowIndex,o=e.rowPinned,i=o?0===t:t===this.paginationProxy.getPageFirstRow();if(i)return"top"===o?null:o&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var n=this.rowModel.getRow(e.rowIndex),r=this.getNextStickyPosition(n,!0);return r||{rowIndex:t-1,rowPinned:o}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),o=e.rowIndex,i=e.rowPinned,n=this.columnModel.getDisplayedColAfter(e.column);if(!n){n=t[0];var r=this.getRowBelow(e);if(a(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;o=r?r.rowIndex:null,i=r?r.rowPinned:null}return{rowIndex:o,column:n,rowPinned:i}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnModel.getAllDisplayedColumns(),o=e.rowIndex,i=e.rowPinned,n=this.columnModel.getDisplayedColBefore(e.column);if(!n){n=Te(t);var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(a(r))return null;if(!r.rowPinned&&!this.paginationProxy.isRowInPage(r))return null;o=r?r.rowIndex:null,i=r?r.rowPinned:null}return{rowIndex:o,column:n,rowPinned:i}},Cf([se("columnModel")],t.prototype,"columnModel",void 0),Cf([se("rowModel")],t.prototype,"rowModel",void 0),Cf([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Cf([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Cf([se("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Cf([re("cellNavigationService")],t),t}(tt),Sf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Of=function(e,t){return function(o,i){t(o,i,e)}},Tf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Sf(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,at.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,at.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsService.get("alignedGrids");t&&t.forEach((function(t){if(t.api){var o=t.api.__getAlignedGridService();e(o)}}))}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent((function(t){t.onColumnEvent(e)}))},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent((function(t){t.onScrollEvent(e)}))},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent((function(){var o=t.ctrlsService.getGridBodyCtrl();o.getScrollFeature().setHorizontalScrollPosition(e.left)}))},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent((function(){switch(e.type){case at.EVENT_COLUMN_MOVED:case at.EVENT_COLUMN_VISIBLE:case at.EVENT_COLUMN_PINNED:case at.EVENT_COLUMN_RESIZED:var o=e;t.processColumnEvent(o);break;case at.EVENT_COLUMN_GROUP_OPENED:var i=e;t.processGroupOpenedEvent(i);break;case at.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}}))},t.prototype.processGroupOpenedEvent=function(e){var t=e.columnGroup,o=null;if(t){var i=t.getGroupId();o=this.columnModel.getProvidedColumnGroup(i)}t&&!o||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(o,t.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,o=this,i=e.column,n=null;if(i&&(n=this.columnModel.getPrimaryColumn(i.getColId())),!i||n){var r=this.getMasterColumns(e);switch(e.type){case at.EVENT_COLUMN_MOVED:var s=e,a=e.columnApi.getColumnState(),l=a.map((function(e){return{colId:e.colId}}));this.columnModel.applyColumnState({state:l,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex);break;case at.EVENT_COLUMN_VISIBLE:var u=e;a=e.columnApi.getColumnState(),l=a.map((function(e){return{colId:e.colId,hide:e.hide}}));this.columnModel.applyColumnState({state:l},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+u.visible);break;case at.EVENT_COLUMN_PINNED:var c=e;a=e.columnApi.getColumnState(),l=a.map((function(e){return{colId:e.colId,pinned:e.pinned}}));this.columnModel.applyColumnState({state:l},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+c.pinned);break;case at.EVENT_COLUMN_RESIZED:var d=e,p={};r.forEach((function(t){o.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth()),p[t.getId()]={key:t.getColId(),newWidth:t.getActualWidth()}})),null===(t=d.flexColumns)||void 0===t||t.forEach((function(e){p[e.getId()]&&delete p[e.getId()]})),this.columnModel.setColumnWidths(Object.values(p),!1,d.finished,"alignedGridChanged");break}var h=this.ctrlsService.getGridBodyCtrl(),f=h.isVerticalScrollShowing(),g=this.gridOptionsService.get("alignedGrids");g&&g.forEach((function(e){e.api&&e.api.setAlwaysShowVerticalScroll(f)}))}},Rf([se("columnModel")],t.prototype,"columnModel",void 0),Rf([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Rf([Of(0,ue("loggerFactory"))],t.prototype,"setBeans",null),Rf([ie],t.prototype,"init",null),t=Rf([re("alignedGridsService")],t),t}(tt),_f=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Pf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Df=function(e,t){return function(o,i){t(o,i,e)}},Af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f(t,e),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedListener(this.eventService,at.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return C(this.selectedNodes,(function(t,o){o&&e.push(o)})),e},t.prototype.getSelectedRows=function(){var e=[];return C(this.selectedNodes,(function(t,o){o&&o.data&&e.push(o.data)})),e},t.prototype.removeGroupsFromSelection=function(){var e=this;C(this.selectedNodes,(function(t,o){o&&o.group&&(e.selectedNodes[o.id]=void 0)}))},t.prototype.updateGroupsFromChildrenSelections=function(e,t){if(!this.gridOptionsService.is("groupSelectsChildren"))return!1;if("clientSide"!==this.rowModel.getType())return!1;var o=this.rowModel,i=o.getRootNode();t||(t=new $p(!0,i),t.setInactive());var n=!1;return t.forEachChangedNodeDepthFirst((function(t){if(t!==i){var o=t.calculateSelectedFromChildren();n=t.selectThisNode(null!==o&&o,void 0,e)||n}})),n},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e,t){var o=this,i={},n=0;return C(this.selectedNodes,(function(r,s){if(s&&s.id!==e.id){var a=o.selectedNodes[s.id];n+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),o.groupSelectsChildren&&s.parent&&(i[s.parent.id]=s.parent)}})),C(i,(function(e,o){var i=o.calculateSelectedFromChildren();o.selectThisNode(null!==i&&i,void 0,t)})),n},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:this.selectedNodes[t.id]=void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){var o=s(t)&&e.id!==t.id;if(o&&t){var i=t.id,n=this.selectedNodes[i]==e;n&&(this.selectedNodes[t.id]=t)}},t.prototype.syncInNewRowNode=function(e){s(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var e=this.rowModel,t=e.getTopLevelNodes();if(null!==t){var o=[];return i(t),o}}function i(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(r.isSelected())o.push(r);else{var s=r;s.group&&s.children&&i(s.children)}}}},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return C(this.selectedNodes,(function(t,o){o&&e++})),0===e},t.prototype.deselectAllRowNodes=function(e){var t=function(e){return e.selectThisNode(!1,void 0,i)},o="clientSide"===this.rowModel.getType(),i=e.source,n=e.justFiltered,r=e.justCurrentPage;if(r||n){if(!o)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(n,r).forEach(t)}else C(this.selectedNodes,(function(e,o){o&&t(o)})),this.reset();o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);var s={type:at.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(s)},t.prototype.getNodesToSelect=function(e,t){var o=this;if(void 0===e&&(e=!1),void 0===t&&(t=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var i=[];if(t)return this.paginationProxy.forEachNodeOnPage((function(e){if(e.group)if(e.expanded)o.groupSelectsChildren||i.push(e);else{var t=function(e){var o;i.push(e),(null===(o=e.childrenAfterFilter)||void 0===o?void 0:o.length)&&e.childrenAfterFilter.forEach(t)};t(e)}else i.push(e)})),i;var n=this.rowModel;return e?(n.forEachNodeAfterFilter((function(e){i.push(e)})),i):(n.forEachNode((function(e){i.push(e)})),i)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var t=e.source,o=e.justFiltered,i=e.justCurrentPage,n=function(e){return e.selectThisNode(!0,void 0,t)};this.getNodesToSelect(o,i).forEach(n),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);var r={type:at.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(r)},Pf([se("rowModel")],t.prototype,"rowModel",void 0),Pf([se("paginationProxy")],t.prototype,"paginationProxy",void 0),Pf([Df(0,ue("loggerFactory"))],t.prototype,"setBeans",null),Pf([ie],t.prototype,"init",null),t=Pf([re("selectionService")],t),t}(tt),Mf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Lf=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){"undefined"===typeof e&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnModel.getColumnGroup(e,t)},e.prototype.getProvidedColumnGroup=function(e){return this.columnModel.getProvidedColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},e.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},e.prototype.applyColumnState=function(e){return this.columnModel.applyColumnState(e,"api")},e.prototype.getColumnState=function(){return this.columnModel.getColumnState()},e.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},e.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnModel.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnModel.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnModel.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnModel.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnModel.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnModel.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnModel.setColumnsPinned(e,t,"api")},e.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},e.prototype.moveColumn=function(e,t){this.columnModel.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnModel.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnModel.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnModel.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnModel.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,o,i){void 0===o&&(o=!0),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,o,i)},e.prototype.setColumnWidths=function(e,t,o){void 0===t&&(t=!0),this.columnModel.setColumnWidths(e,!1,t,o)},e.prototype.setPivotMode=function(e){this.columnModel.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getPivotResultColumn=function(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnModel.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnModel.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnModel.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnModel.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnModel.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnModel.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnModel.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnModel.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnModel.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnModel.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnModel.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnModel.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnModel.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnModel.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnModel.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},e.prototype.autoSizeColumn=function(e,t){return this.columnModel.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t})},e.prototype.autoSizeAllColumns=function(e){this.columnModel.autoSizeAllColumns(e,"api")},e.prototype.setPivotResultColumns=function(e){this.columnModel.setSecondaryColumns(e,"api")},e.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},e.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Wn.removeAllReferences.bind(window,this,"Column API"),100)},e.prototype.getAllColumns=function(){return Et("28.0","getAllColumns","getColumns"),this.getColumns()},e.prototype.getOriginalColumnGroup=function(e){return Et("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(e)},e.prototype.getPrimaryColumns=function(){return Et("28.0","getPrimaryColumns","getColumns"),this.getColumns()},e.prototype.getSecondaryColumns=function(){return Et("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},e.prototype.setSecondaryColumns=function(e){Et("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(e)},e.prototype.getSecondaryPivotColumn=function(e,t){return Et("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(e,t)},Mf([se("columnModel")],e.prototype,"columnModel",void 0),Mf([ne],e.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),e=Mf([re("columnApi")],e),e}(),xf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ff=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Nf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return xf(t,e),t.prototype.init=function(){var e=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(at.EVENT_CELL_VALUE_CHANGED,(function(t){return e.callColumnCellValueChangedHandler(t)}),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",(function(t){return e.isTreeData=t.currentValue}))},t.prototype.getValue=function(e,t,o,i){if(void 0===o&&(o=!1),void 0===i&&(i=!1),this.initialised||this.init(),t){var n,r=e.getColDef(),s=r.field,a=e.getColId(),l=t.data,u=t.groupData&&void 0!==t.groupData[a],c=!i&&t.aggData&&void 0!==t.aggData[a];if(o&&r.filterValueGetter?n=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.isTreeData&&c?n=t.aggData[a]:this.isTreeData&&r.valueGetter?n=this.executeValueGetter(r.valueGetter,l,e,t):this.isTreeData&&s&&l?n=x(l,s,e.isFieldContainsDots()):u?n=t.groupData[a]:c?n=t.aggData[a]:r.valueGetter?n=this.executeValueGetter(r.valueGetter,l,e,t):s&&l&&(n=x(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof n&&0===n.indexOf("=")){var d=n.substring(1);n=this.executeValueGetter(d,l,e,t)}if(null==n){var p=this.getOpenedGroup(t,e);if(null!=p)return p}return n}},t.prototype.getOpenedGroup=function(e,t){if(this.gridOptionsService.is("showOpenedGroup")){var o=t.getColDef();if(o.showRowGroup){var i=t.getColDef().showRowGroup,n=e.parent;while(null!=n){if(n.rowGroupColumn&&(!0===i||i===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}}},t.prototype.setValue=function(e,t,o,i){var n=this.columnModel.getPrimaryColumn(t);if(!e||!n)return!1;a(e.data)&&(e.data={});var r=n.getColDef(),l=r.field,u=r.valueSetter;if(a(l)&&a(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var c,d={node:e,data:e.data,oldValue:this.getValue(n,e),newValue:o,colDef:n.getColDef(),column:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};if(d.newValue=o,c=s(u)?"function"===typeof u?u(d):this.expressionService.evaluate(u,d):this.setValueUsingField(e.data,l,o,n.isFieldContainsDots()),void 0===c&&(c=!0),!c)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),d.newValue=this.getValue(n,e);var p={type:at.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:d.column,api:d.api,columnApi:d.columnApi,colDef:d.colDef,context:d.context,data:e.data,node:e,oldValue:d.oldValue,newValue:d.newValue,value:d.newValue,source:i};return this.eventService.dispatchEvent(p),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var t=e.colDef.onCellValueChanged;"function"===typeof t&&t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,t,o,i){if(!t)return!1;var n=!1;if(i){var r=t.split("."),s=e;while(r.length>0&&s){var a=r.shift();0===r.length?(n=s[a]==o,n||(s[a]=o)):s=s[a]}}else n=e[t]==o,n||(e[t]=o);return!n},t.prototype.executeFilterValueGetter=function(e,t,o,i){var n={data:t,node:i,column:o,colDef:o.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return"function"===typeof e?e(n):this.expressionService.evaluate(e,n)},t.prototype.executeValueGetter=function(e,t,o,i){var n=o.getColId(),r=this.valueCache.getValue(i,n);if(void 0!==r)return r;var s,a={data:t,node:i,column:o,colDef:o.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return s="function"===typeof e?e(a):this.expressionService.evaluate(e,a),this.valueCache.setValue(i,n,s),s},t.prototype.getValueCallback=function(e,t){var o=this.columnModel.getPrimaryColumn(t);return o?this.getValue(o,e):null},t.prototype.getKeyForNode=function(e,t){var o=this.getValue(e,t),i=e.getColDef().keyCreator,n=o;if(i){var r={value:o,colDef:e.getColDef(),column:e,node:t,data:t.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};n=i(r)}return"string"===typeof n||null==n||(n=String(n),"[object Object]"===n&&G((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]")),n},Ff([se("expressionService")],t.prototype,"expressionService",void 0),Ff([se("columnModel")],t.prototype,"columnModel",void 0),Ff([se("valueCache")],t.prototype,"valueCache",void 0),Ff([ie],t.prototype,"init",null),t=Ff([re("valueService")],t),t}(tt),If=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),kf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gf=function(e,t){return function(o,i){t(o,i,e)}},Hf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return If(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{var o=this.createExpressionFunction(e),i=o(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup);return i}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+n),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=o,o},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},kf([Gf(0,ue("loggerFactory"))],t.prototype,"setBeans",null),t=kf([re("expressionService")],t),t}(tt),Vf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return Vf(t,e),t.prototype.getTemplate=function(e,t){var o=this.templateCache[e];if(o)return o;var i=this.waitingCallbacks[e],n=this;if(!i){i=[],this.waitingCallbacks[e]=i;var r=new XMLHttpRequest;r.onload=function(){n.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&i.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var o=this.waitingCallbacks[t],i=0;i<o.length;i++){var n=o[i];n()}}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+t)},t=Bf([re("templateService")],t),t}(tt),Wf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),zf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uf=function(e,t){return function(o,i){t(o,i,e)}},Kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wf(t,e),t.prototype.setBeans=function(e){this.logging=e.is("debug")},t.prototype.create=function(e){return new Yf(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},zf([Uf(0,ue("gridOptionsService"))],t.prototype,"setBeans",null),t=zf([re("loggerFactory")],t),t}(tt),Yf=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)},e}(),qf=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Jf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qf(t,e),t.prototype.setComp=function(e,t,o){var i=this;this.view=e,this.eGridHostDiv=t,this.eGui=o,this.dragAndDropService.addDropTarget({getContainer:function(){return i.eGui},isInterestedIn:function(e){return e===Vr.HeaderCell||e===Vr.ToolPanel},getIconName:function(){return ua.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Sl(this.view)),this.addRtlSupport(),this.addManagedListener(this,at.EVENT_KEYBOARD_FOCUS,(function(){i.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,at.EVENT_MOUSE_FOCUS,(function(){i.view.addOrRemoveKeyboardFocusClass(!1)}));var n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return n()})),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,t=this.focusService.findTabbableParent(this.getGui());return(null===(e=null===t||void 0===t?void 0:t.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return me.isRegistered(de.RowGroupingModule)},t.prototype.showSideBar=function(){return me.isRegistered(de.SideBarModule)},t.prototype.showStatusBar=function(){return me.isRegistered(de.StatusBarModule)},t.prototype.showWatermark=function(){return me.isRegistered(de.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){var e={type:at.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var t=this.gridOptionsService.getDocument(),o=this.view.getFocusableContainers(),i=o.findIndex((function(e){return e.contains(t.activeElement)})),n=i+(e?-1:1);return!(n<=0||n>=o.length)&&this.focusService.focusInto(o[n])},t.prototype.focusInnerElement=function(e){var t=this.view.getFocusableContainers();if(e){if(t.length>1)return this.focusService.focusInto(Te(t),!0);var o=Te(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(o,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},Jf([se("focusService")],t.prototype,"focusService",void 0),Jf([se("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Jf([se("columnModel")],t.prototype,"columnModel",void 0),Jf([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Jf([se("mouseEventService")],t.prototype,"mouseEventService",void 0),Jf([se("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(tt),$f=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Qf=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zf=function(e){function t(t){var o=e.call(this)||this;return o.eGridDiv=t,o}return $f(t,e),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var t={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(t){return e.addCssClass(t)},addOrRemoveKeyboardFocusClass:function(t){return e.addOrRemoveCssClass(rf.AG_KEYBOARD_FOCUS,t)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(t){e.getGui().style.userSelect=null!=t?t:"",e.getGui().style.webkitUserSelect=null!=t?t:""},setCursor:function(t){e.getGui().style.cursor=null!=t?t:""}};this.ctrl=this.createManagedBean(new Xf);var o=this.createTemplate();this.setTemplate(o),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(t){return e.ctrl.focusInnerElement(t)}})},t.prototype.insertGridIntoDom=function(){var e=this,t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc((function(){e.eGridDiv.removeChild(t),e.logger.log("Grid removed from DOM")}))},t.prototype.updateLayoutClasses=function(e,t){var o=this.eRootWrapperBody.classList;o.toggle(ul.AUTO_HEIGHT,t.autoHeight),o.toggle(ul.NORMAL,t.normal),o.toggle(ul.PRINT,t.print),this.addOrRemoveCssClass(ul.AUTO_HEIGHT,t.autoHeight),this.addOrRemoveCssClass(ul.NORMAL,t.normal),this.addOrRemoveCssClass(ul.PRINT,t.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",t=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",o=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",i=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",n='<div class="ag-root-wrapper" role="presentation">\n                '+e+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+t+"\n                </div>\n                "+o+"\n                <ag-pagination></ag-pagination>\n                "+i+"\n            </div>";return n},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter((function(e){return Ui(e)}))},Qf([se("loggerFactory")],t.prototype,"loggerFactory",void 0),Qf([or("gridBody")],t.prototype,"gridBodyComp",void 0),Qf([or("sideBar")],t.prototype,"sideBarComp",void 0),Qf([or("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Qf([ie],t.prototype,"postConstruct",null),t}(Nh),eg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),tg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},og=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},ig=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(og(arguments[t]));return e},ng=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return eg(t,e),o=t,t.prototype.progressSort=function(e,t,o){var i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,o)},t.prototype.setSortForColumn=function(e,t,o,i){"asc"!==t&&"desc"!==t&&(t=null);var n=this.gridOptionsService.isColumnsSortingCoupledToGroup(),r=[e];if(n&&e.getColDef().showRowGroup){e.getColDef().field||(r=[]);var s=this.columnModel.getSourceColumnsForGroupColumn(e),a=null===s||void 0===s?void 0:s.filter((function(e){return e.getColDef().sortable}));a&&(r=ig(r,a))}r.forEach((function(e){return e.setSort(t,i)}));var l=(o||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort");l||this.clearSortBarTheseColumns(r,i),this.updateSortIndex(e),this.dispatchSortChangedEvents(i)},t.prototype.updateSortIndex=function(e){var t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),i=t&&o||e,n=this.getIndexableColumnsOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(e){return e.setSortIndex(null)}));var r=n.filter((function(e){return e!==i})),s=i.getSort()?ig(r,[i]):r;s.forEach((function(e,t){return e.setSortIndex(t)}))},t.prototype.onSortChanged=function(e){this.dispatchSortChangedEvents(e)},t.prototype.isSortActive=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),t=e.filter((function(e){return!!e.getSort()}));return t&&t.length>0},t.prototype.dispatchSortChangedEvents=function(e){var t={type:at.EVENT_SORT_CHANGED,source:e};this.eventService.dispatchEvent(t)},t.prototype.clearSortBarTheseColumns=function(e,t){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(o){e.includes(o)||o.setSort(void 0,t)}))},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):o.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var i=e.getColDef().field?e.getSort():this.getDisplaySortForColumn(e),n=t[0];if("mixed"!==i){var r=t.indexOf(i),s=r<0,a=r==t.length-1;n=s||a?t[0]:t[r+1]}return o.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("AG Grid: invalid sort type "+n),null):n},t.prototype.getColumnsOrderedForSort=function(){var e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),t={};return e.forEach((function(e,o){return t[e.getId()]=o})),e.sort((function(e,o){var i=e.getSortIndex(),n=o.getSortIndex();if(null!=i&&null!=n)return i-n;if(null==i&&null==n){var r=t[e.getId()],s=t[o.getId()];return r>s?1:-1}return null==n?-1:1})),e},t.prototype.getIndexableColumnsOrdered=function(){var e=this;return this.gridOptionsService.isColumnsSortingCoupledToGroup()?this.getColumnsOrderedForSort().filter((function(t){if(t.getColDef().showRowGroup){if(t.getColDef().field&&t.getSort())return!0;var o=e.columnModel.getSourceColumnsForGroupColumn(t);return null===o||void 0===o?void 0:o.some((function(e){return!!e.getSort()}))}return!!t.getSort()})):this.getColumnsWithSortingOrdered()},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.getColumnsOrderedForSort();return e.filter((function(e){return!!e.getSort()}))},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),colId:e.getId()}}))},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{sort:e.getSort(),column:e}}))},t.prototype.canColumnDisplayMixedSort=function(e){var t=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!e.getColDef().showRowGroup;return t&&o},t.prototype.getDisplaySortForColumn=function(e){var t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(null===t||void 0===t?void 0:t.length))return e.getSort();var o=!!e.getColDef().field,i=o?ig([e],t):t,n=i[0].getSort(),r=i.every((function(e){return e.getSort()==n}));return r?n:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(e){var t=this,o=this.gridOptionsService.isColumnsSortingCoupledToGroup();if(!o)return this.getColumnsWithSortingOrdered().indexOf(e);var i=this.columnModel.getGroupDisplayColumnForGroup(e.getId());if(i)return e.getSort()?this.getDisplaySortIndexForColumn(i):null;var n=this.getIndexableColumnsOrdered().filter((function(e){return!t.columnModel.getGroupDisplayColumnForGroup(e.getId())}));return n.indexOf(e)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],tg([se("columnModel")],t.prototype,"columnModel",void 0),t=o=tg([re("sortController")],t),t}(tt),rg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ag=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rg(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e;var t={type:at.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:at.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=sg([re("columnHoverService")],t),t}(tt),lg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ug=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return lg(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){return e.gridBodyCtrl=t.gridBodyCtrl}))},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridBodyCtrl.setColumnMovingCss(!1)}))},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout((function(){return e.forEach((function(e){return e()}))}),0),window.setTimeout((function(){return t.forEach((function(e){return e()}))}),300))},ug([se("ctrlsService")],t.prototype,"ctrlsService",void 0),ug([ie],t.prototype,"postConstruct",null),t=ug([re("columnAnimationService")],t),t}(tt),dg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dg(t,e),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady((function(t){e.centerRowContainerCon=t.centerRowContainerCtrl,e.addManagedListener(e.eventService,at.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,at.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()}))},t.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsService.getRowHeightAsNumber(),t=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(t>0){var o=Math.floor(t/e);this.gridOptionsService.set("paginationPageSize",o)}}},pg([se("ctrlsService")],t.prototype,"ctrlsService",void 0),pg([ie],t.prototype,"postConstruct",null),t=pg([re("paginationAutoPageSizeService")],t),t}(tt),fg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return fg(t,e),t.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,o){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=o)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},gg([ie],t.prototype,"init",null),t=gg([re("valueCache")],t),t}(tt),vg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),yg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cg="paste",bg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vg(t,e),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,at.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==Cg&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.is("aggregateOnlyChangedColumns"),i=new $p(o,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i)}this.rowRenderer.refreshCells()}},yg([se("rowModel")],t.prototype,"rowModel",void 0),yg([se("rowRenderer")],t.prototype,"rowRenderer",void 0),yg([ie],t.prototype,"init",null),t=yg([re("changeDetectionService")],t),t}(tt),wg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Eg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wg(t,e),t.prototype.adaptFunction=function(e,t){var o=this.componentMetadataProvider.retrieve(e);return o&&o.functionAdapter?o.functionAdapter(t):null},t.prototype.adaptCellRendererFunction=function(e){var t=function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){return this.eGui},t.prototype.init=function(t){var o=e(t),i=typeof o;this.eGui="string"!==i&&"number"!==i&&"boolean"!==i?null!=o?o:Ki("<span></span>"):Ki("<span>"+o+"</span>")},t}();return t},t.prototype.doesImplementIComponent=function(e){return!!e&&(e.prototype&&"getGui"in e.prototype)},Eg([se("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=Eg([re("agComponentUtils")],t),t}(tt),Rg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Og=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rg(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Og([se("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Og([ie],t.prototype,"postConstruct",null),t=Og([re("componentMetadataProvider")],t),t}(tt),_g=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Pg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dg=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Ag=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Dg(arguments[t]));return e},Mg=25,Lg=10,xg=8,Fg=4,Ng=4,Ig=6,kg={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:5*Fg,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:7*xg,headerCellMinWidth:48,listItemHeight:4*xg,rowHeight:6*xg,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:8*Ng,headerCellMinWidth:24,listItemHeight:6*Ng,rowHeight:7*Ng,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:8*Ig,headerCellMinWidth:36,listItemHeight:4*Ig,rowHeight:7*Ig,chartMenuPanelWidth:240}},Gg={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Hg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.calculatedSizes={},t}return _g(t,e),t.prototype.postConstruct=function(){var e,t=this,o=null!==(e=this.getTheme().el)&&void 0!==e?e:this.eGridDiv;this.mutationObserver=new MutationObserver((function(){t.calculatedSizes={},t.fireGridStylesChangedEvent()})),this.mutationObserver.observe(o||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:at.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var t=this.getTheme(),o=t.themeFamily,i=t.el;if(o&&0===o.indexOf("ag-theme")){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[o]||(this.calculatedSizes[o]={});var n=this.calculatedSizes[o][e];return null!=n?n:(this.calculatedSizes[o][e]=this.calculateValueForSassProperty(e,o,i),this.calculatedSizes[o][e])}},t.prototype.calculateValueForSassProperty=function(e,t,o){var i,n="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),r=kg[n][e],s=this.gridOptionsService.getDocument();if(o||(o=this.eGridDiv),!Gg[e])return r;var a=Gg[e],l=s.createElement("div"),u=Array.from(o.classList);(i=l.classList).add.apply(i,Ag([t],u)),l.style.position="absolute";var c=a.reduce((function(e,t){var o=s.createElement("div");return o.style.position="static",o.classList.add(t),e.appendChild(o),o}),l),d=0;if(s.body){s.body.appendChild(l);var p=-1!==e.toLowerCase().indexOf("height")?"height":"width";d=parseInt(window.getComputedStyle(c)[p],10),s.body.removeChild(l)}return d||r},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,t=this.eGridDiv,o=null,i=[];while(t){if(o=e.exec(t.className),o){var n=t.className.match(e);n&&(i=n);break}t=t.parentElement||void 0}if(!o)return{allThemes:i};var r=o[0];return{theme:r,el:t,themeFamily:r.replace(/-dark$/,""),allThemes:i}},t.prototype.getFromTheme=function(e,t){var o;return null!==(o=this.getSassVariable(t))&&void 0!==o?o:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(Mg,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.setRowHeightVariable=function(e){var t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),o=e+"px";t!=o&&this.eGridDiv.style.setProperty("--ag-line-height",o)},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return s(e)?Math.max(e,Lg):Lg},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),e.prototype.destroy.call(this)},Pg([se("eGridDiv")],t.prototype,"eGridDiv",void 0),Pg([ie],t.prototype,"postConstruct",null),t=Pg([re("environment")],t),t}(tt),Vg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jg=function(e,t){return function(o,i){t(o,i,e)}},Wg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return Vg(t,e),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,at.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=ei(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition().top,o=this.getUiBodyHeight(),i=t!==this.scrollY||o!==this.uiBodyHeight;i&&(this.scrollY=t,this.uiBodyHeight=o,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+t+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(t)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:at.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:at.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();return t.bottom-t.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=this.modelHeight-this.getUiBodyHeight(),o=e/t,i=this.maxScrollY*o;return i},Bg([se("ctrlsService")],t.prototype,"ctrlsService",void 0),Bg([jg(0,ue("loggerFactory"))],t.prototype,"agWire",null),Bg([ie],t.prototype,"postConstruct",null),t=Bg([re("rowContainerHeightService")],t),t}(tt),zg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Ug=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zg(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},t.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){var t=function(e){return e.childrenAfterGroup};this.recurseDown(e.childrenAfterGroup,t)}},t.prototype.recurseDown=function(e,t){var o=this;e&&e.forEach((function(e){if(e.group){var i;if(e.hasChildren()&&o.recurseDown(t(e),t),o.groupSelectsChildren){var n=(t(e)||[]).find((function(e){return!0===e.selectable}));i=s(n)}else i=!!o.isRowSelectableFunc&&o.isRowSelectableFunc(e);e.setRowSelectable(i)}}))},Ug([ie],t.prototype,"init",null),t=Ug([re("selectableService")],t),t}(tt),Yg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),qg=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jg=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t.areListenersSetup=!1,t}return Yg(t,e),t.prototype.postConstruct=function(){var e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",yn(e?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",yn(e?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",yn(e?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",yn(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.is("pagination"),t=e&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,at.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(t){var o=t.el,i=t.fn;e.addManagedListener(o,"click",i),e.addManagedListener(o,"keydown",(function(e){e.key!==bn.ENTER&&e.key!==bn.SPACE||(e.preventDefault(),i())}))})),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),o=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(o)},t.prototype.formatNumber=function(e){var t=this.gridOptionsService.getCallback("paginationNumberFormatter");if(t){var o={value:e};return t(o)}var i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),r=i("decimalSeparator",".");return pi(e,n,r)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),o=e("to","to"),i=e("of","of"),n=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+o+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+i+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+n+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+t+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+i+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay(),n=t&&e===o-1;this.nextButtonDisabled=n||i,this.lastButtonDisabled=!t||i||e===o-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,t){wo(e,t),e.classList.toggle("ag-disabled",t),t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","0")},t.prototype.updateRowLabels=function(){var e,t,o=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?e=t=0:(e=i*o+1,t=e+i-1,n&&t>r&&(t=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.rowNodeBlockLoader.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),o=e?this.paginationProxy.getMasterRowCount():null;if(1===o){var i=this.paginationProxy.getRow(0),n=i&&i.group&&!(i.groupData||i.aggData);if(n)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(o);else{var r=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=r,this.lbRecordCount.innerHTML=r}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},qg([se("paginationProxy")],t.prototype,"paginationProxy",void 0),qg([se("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),qg([or("btFirst")],t.prototype,"btFirst",void 0),qg([or("btPrevious")],t.prototype,"btPrevious",void 0),qg([or("btNext")],t.prototype,"btNext",void 0),qg([or("btLast")],t.prototype,"btLast",void 0),qg([or("lbRecordCount")],t.prototype,"lbRecordCount",void 0),qg([or("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),qg([or("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),qg([or("lbCurrent")],t.prototype,"lbCurrent",void 0),qg([or("lbTotal")],t.prototype,"lbTotal",void 0),qg([ie],t.prototype,"postConstruct",null),t}(tr),Xg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),$g=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(function(e){e[e["Loading"]=0]="Loading",e[e["NoRows"]=1]="NoRows"})(cf||(cf={}));var Qg=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.inProgress=!1,o.destroyRequested=!1,o.manuallyDisplayed=!1,o}return Xg(t,e),t.prototype.updateLayoutClasses=function(e,t){var o=this.eOverlayWrapper.classList;o.toggle(ul.AUTO_HEIGHT,t.autoHeight),o.toggle(ul.NORMAL,t.normal),o.toggle(ul.PRINT,t.print)},t.prototype.postConstruct=function(){this.createManagedBean(new Sl(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,at.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var t=this.eOverlayWrapper.classList;t.toggle("ag-overlay-loading-wrapper",e===cf.Loading),t.toggle("ag-overlay-no-rows-wrapper",e===cf.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var e={},t=this.userComponentFactory.getLoadingOverlayCompDetails(e),o=t.newAgStackInstance();this.showOverlay(o,cf.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var e={},t=this.userComponentFactory.getNoRowsOverlayCompDetails(e),o=t.newAgStackInstance();this.showOverlay(o,cf.NoRows)}},t.prototype.showOverlay=function(e,t){var o=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then((function(e){o.inProgress=!1,o.eOverlayWrapper.appendChild(e.getGui()),o.activeOverlay=e,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),ji(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',$g([se("userComponentFactory")],t.prototype,"userComponentFactory",void 0),$g([se("paginationProxy")],t.prototype,"paginationProxy",void 0),$g([se("gridApi")],t.prototype,"gridApi",void 0),$g([se("columnModel")],t.prototype,"columnModel",void 0),$g([or("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),$g([ie],t.prototype,"postConstruct",null),t}(tr),Zg=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),em=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zg(t,e),t.prototype.getFirstRow=function(){var e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}},t.prototype.getLastRow=function(){var e,t=null,o=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return o?(t="bottom",e=o-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):i&&(t="top",e=i-1),void 0===e?null:{rowIndex:e,rowPinned:t}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)},t.prototype.before=function(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(s(t.rowPinned))return"top"!==t.rowPinned;break}return e.rowIndex<t.rowIndex},t.prototype.rowMax=function(e){var t,o=this;return e.forEach((function(e){(void 0===t||o.before(t,e))&&(t=e)})),t},t.prototype.rowMin=function(e){var t,o=this;return e.forEach((function(e){(void 0===t||o.before(e,t))&&(t=e)})),t},em([se("rowModel")],t.prototype,"rowModel",void 0),em([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),em([se("paginationProxy")],t.prototype,"paginationProxy",void 0),t=em([re("rowPositionUtils")],t),t}(tt),om=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),im=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},nm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return om(t,e),t.prototype.createId=function(e){var t=e.rowIndex,o=e.rowPinned,i=e.column;return this.createIdFromValues({rowIndex:t,column:i,rowPinned:o})},t.prototype.createIdFromValues=function(e){var t=e.rowIndex,o=e.rowPinned,i=e.column;return t+"."+(null==o?"null":o)+"."+i.getId()},t.prototype.equals=function(e,t){var o=e.column===t.column,i=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return o&&i&&n},t=im([re("cellPositionUtils")],t),t}(tt),rm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sm=function(){function e(e){this.cellValueChanges=e}return e}(),am=function(e){function t(t,o,i,n){var r=e.call(this,t)||this;return r.initialRange=o,r.finalRange=i,r.ranges=n,r}return rm(t,e),t}(sm),lm=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){var t=e.cellValueChanges&&e.cellValueChanges.length>0;t&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.prototype.getCurrentStackSize=function(){return this.actionStack.length},e.DEFAULT_STACK_SIZE=10,e}(),um=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),cm=function(){return cm=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},cm.apply(this,arguments)},dm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pm=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},hm=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pm(arguments[t]));return e},fm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.activeCellEdit=null,t.activeRowEdit=null,t.isPasting=!1,t.isRangeInAction=!1,t.onCellValueChanged=function(e){var o={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=null!==t.activeCellEdit&&t.cellPositionUtils.equals(t.activeCellEdit,o),n=null!==t.activeRowEdit&&t.rowPositionUtils.sameRow(t.activeRowEdit,o),r=i||n||t.isPasting||t.isRangeInAction;if(r){var s=e.rowPinned,a=e.rowIndex,l=e.column,u=e.oldValue,c=e.value,d={rowPinned:s,rowIndex:a,columnId:l.getColId(),newValue:c,oldValue:u};t.cellValueChanges.push(d)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return um(t,e),t.prototype.init=function(){var e=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var t=this.gridOptionsService.getNum("undoRedoCellEditingLimit");t<=0||(this.undoStack=new lm(t),this.redoStack=new lm(t),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,at.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,at.EVENT_MODEL_UPDATED,(function(t){t.keepUndoRedoStack||e.clearStacks()})),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,at.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()})))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var t={type:at.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);var o=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),i={type:at.EVENT_UNDO_ENDED,source:e,operationPerformed:o};this.eventService.dispatchEvent(i)},t.prototype.redo=function(e){var t={type:at.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);var o=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),i={type:at.EVENT_REDO_ENDED,source:e,operationPerformed:o};this.eventService.dispatchEvent(i)},t.prototype.undoRedo=function(e,t,o,i,n){if(!e)return!1;var r=e.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,(function(e){return e[i]}),n),r instanceof am?this.processRange(r.ranges||[r[o]]):this.processCell(r.cellValueChanges),t.push(r),!0)},t.prototype.processAction=function(e,t,o){var i=this;e.cellValueChanges.forEach((function(e){var n=e.rowIndex,r=e.rowPinned,s=e.columnId,a={rowIndex:n,rowPinned:r},l=i.getRowNode(a);l.displayed&&l.setDataValue(s,t(e),o)}))},t.prototype.processRange=function(e){var t,o=this;this.rangeService.removeAllCellRanges(!0),e.forEach((function(i,n){if(i){var r=i.startRow,s=i.endRow;n===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},o.setLastFocusedCell(t));var a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};o.rangeService.addCellRange(a)}}))},t.prototype.processCell=function(e){var t=e[0],o=t.rowIndex,i=t.rowPinned,n={rowIndex:o,rowPinned:i},r=this.getRowNode(n),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,t){var o=e.rowIndex,i=e.columnId,n=e.rowPinned,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(i);if(s){r.ensureIndexVisible(o),r.ensureColumnVisible(s);var a={rowIndex:o,column:s,rowPinned:n};this.focusService.setFocusedCell(cm(cm({},a),{forceBrowserFocus:!0})),t&&this.rangeService.setRangeToCell(a)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_ROW_EDITING_STARTED,(function(t){e.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}})),this.addManagedListener(this.eventService,at.EVENT_ROW_EDITING_STOPPED,(function(){var t=new sm(e.cellValueChanges);e.pushActionsToUndoStack(t),e.activeRowEdit=null}))},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_CELL_EDITING_STARTED,(function(t){e.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}})),this.addManagedListener(this.eventService,at.EVENT_CELL_EDITING_STOPPED,(function(t){e.activeCellEdit=null;var o=t.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(o){var i=new sm(e.cellValueChanges);e.pushActionsToUndoStack(i)}}))},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_PASTE_START,(function(){e.isPasting=!0})),this.addManagedListener(this.eventService,at.EVENT_PASTE_END,(function(){var t=new sm(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1}))},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_FILL_START,(function(){e.isRangeInAction=!0})),this.addManagedListener(this.eventService,at.EVENT_FILL_END,(function(t){var o=new am(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(o),e.isRangeInAction=!1}))},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(function(){e.isRangeInAction=!0})),this.addManagedListener(this.eventService,at.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(function(){var t;t=e.rangeService&&e.gridOptionsService.isEnableRangeSelection()?new am(e.cellValueChanges,void 0,void 0,hm(e.rangeService.getCellRanges())):new sm(e.cellValueChanges),e.pushActionsToUndoStack(t),e.isRangeInAction=!1}))},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},dm([se("focusService")],t.prototype,"focusService",void 0),dm([se("ctrlsService")],t.prototype,"ctrlsService",void 0),dm([se("rowModel")],t.prototype,"rowModel",void 0),dm([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),dm([se("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),dm([se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),dm([se("columnModel")],t.prototype,"columnModel",void 0),dm([ae("rangeService")],t.prototype,"rangeService",void 0),dm([ie],t.prototype,"init",null),t=dm([re("undoRedoService")],t),t}(tt),gm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),mm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gm(t,e),t.prototype.findHeader=function(e,t){var o,i,n;if(e.column instanceof _t?(i="getDisplayedGroup"+t,o=this.columnModel[i](e.column)):(n="getDisplayedCol"+t,o=this.columnModel[n](e.column)),o)return{column:o,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var o=this.columnModel.getAllDisplayedColumns(),i=o["start"===t?0:o.length-1];if(i){var n=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()),r=n.getRowType(e);if(r==Gc.COLUMN_GROUP){var s=this.columnModel.getColumnGroupAtLevel(i,e);return{headerRowIndex:e,column:s}}return{headerRowIndex:null==r?-1:e,column:i}}},mm([se("columnModel")],t.prototype,"columnModel",void 0),mm([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t=mm([re("headerPositionUtils")],t),t}(tt),ym=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cm=function(){function e(){}return e.prototype.buildColumnDefs=function(e,t,o){var i=this,n=[],r={};return e.forEach((function(e){var s=i.createDefFromColumn(e,t,o),a=!0,l=s,u=e.getOriginalParent();while(u){var c=null;if(u.isPadding())u=u.getOriginalParent();else{var d=r[u.getGroupId()];if(d){d.children.push(l),a=!1;break}c=i.createDefFromGroup(u),c&&(c.children=[l],r[c.groupId]=c,l=c,u=u.getOriginalParent())}}a&&n.push(l)})),n},e.prototype.createDefFromGroup=function(e){var t=E(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t},e.prototype.createDefFromColumn=function(e,t,o){var i=E(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?o.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=!e.isVisible()||void 0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,i},e=ym([re("columnDefFactory")],e),e}(),bm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wm=function(){function e(){}return e.prototype.getInitialRowClasses=function(e){var t=[];return s(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Ge(t,this.processClassesFromGridOptions(e.rowNode)),Ge(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t},e.prototype.processClassesFromGridOptions=function(e){var t=[],o=function(e){"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((function(e){return t.push(e)}))},i=this.gridOptionsService.get("rowClass");if(i){if("function"===typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];o(i)}var n=this.gridOptionsService.getCallback("getRowClass");if(n){var r={data:e.data,node:e,rowIndex:e.rowIndex},s=n(r);o(s)}return t},e.prototype.preProcessRowClassRules=function(e){var t=[];return this.processRowClassRules(e,(function(e){t.push(e)}),(function(e){})),t},e.prototype.processRowClassRules=function(e,t,o){var i={data:e.data,node:e,rowIndex:e.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,t,o)},e.prototype.calculateRowLevel=function(e){return e.group?e.level:e.parent?e.parent.level+1:0},bm([se("stylingService")],e.prototype,"stylingService",void 0),bm([se("gridOptionsService")],e.prototype,"gridOptionsService",void 0),e=bm([re("rowCssClassCalculator")],e),e}(),Em=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Sm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Rm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Em(t,e),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(t){return e.isAccentedSort=t.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()}))},t.prototype.doFullSort=function(e,t){var o=function(e,t){return{currentPos:t,rowNode:e}},i=e.map(o);return i.sort(this.compareRowNodes.bind(this,t)),i.map((function(e){return e.rowNode}))},t.prototype.compareRowNodes=function(e,t,o){for(var i=t.rowNode,n=o.rowNode,r=0,s=e.length;r<s;r++){var a=e[r],l="desc"===a.sort,u=this.getValue(i,a.column),c=this.getValue(n,a.column),d=void 0,p=this.getComparator(a,i);d=p?p(u,c,i,n,l):Wn.defaultComparator(u,c,this.isAccentedSort);var h=!isNaN(d);if(h&&0!==d)return"asc"===a.sort?d:-1*d}return t.currentPos-o.currentPos},t.prototype.getComparator=function(e,t){var o=e.column,i=o.getColDef().comparator;if(null!=i)return i;if(o.getColDef().showRowGroup){var n=!t.group&&o.getColDef().field;if(n){var r=this.columnModel.getPrimaryColumn(n);if(r)return r.getColDef().comparator}}},t.prototype.getValue=function(e,t){var o,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);var n=e.rowGroupColumn===t;if(n){var r=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(r){var s=t.getColDef().keyCreator;if(s)return e.key;var a=null===(o=e.allLeafChildren)||void 0===o?void 0:o[0];return a?this.valueService.getValue(t,a,!1,!1):void 0}var l=this.columnModel.getGroupDisplayColumnForGroup(t.getId());if(!l)return;return null===(i=e.groupData)||void 0===i?void 0:i[l.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)},Sm([se("valueService")],t.prototype,"valueService",void 0),Sm([se("columnModel")],t.prototype,"columnModel",void 0),Sm([ie],t.prototype,"init",null),t=Sm([re("rowNodeSorter")],t),t}(tt),Om=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Tm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ready=!1,t.readyCallbacks=[],t}var o;return Om(t,e),o=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var e=this.createReadyParams();this.readyCallbacks.forEach((function(t){return t(e)})),this.readyCallbacks.length=0}},t.prototype.whenReady=function(e){this.ready?e(this.createReadyParams()):this.readyCallbacks.push(e)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(e){this.fakeHScrollComp=e,this.checkReady()},t.prototype.registerFakeVScrollComp=function(e){this.fakeVScrollComp=e,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(e){this.gridHeaderCtrl=e,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(e){this.centerRowContainerCtrl=e,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(e){this.leftRowContainerCtrl=e,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(e){this.rightRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(e){this.topCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(e){this.topLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(e){this.topRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(e){this.stickyTopCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(e){this.stickyTopLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(e){this.stickyTopRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(e){this.bottomCenterRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(e){this.bottomLeftRowContainerCtrl=e,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(e){this.bottomRightRowContainerCtrl=e,this.checkReady()},t.prototype.registerHeaderContainer=function(e,t){switch(t){case"left":this.leftHeaderRowContainerCtrl=e;break;case"right":this.rightHeaderRowContainerCtrl=e;break;default:this.centerHeaderRowContainerCtrl=e;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(e){this.gridBodyCtrl=e,this.checkReady()},t.prototype.registerGridCtrl=function(e){this.gridCtrl=e,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(e){switch(e){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=o=Tm([re(o.NAME)],t),t}(tt),Pm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Dm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Am=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registry={},t}return Pm(t,e),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var t=this.registry[e];if(null!=t)return new t},t=Dm([re("ctrlsFactory")],t),t}(tt),Mm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Lm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xm=function(e){function t(t,o){var i=e.call(this,t)||this;return i.direction=o,i.hideTimeout=null,i}return Mm(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,at.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Xo()||$o())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=ri(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,t=["mouseenter","mousedown","touchstart"],o=["mouseleave","touchend"],i=this.getGui();t.forEach((function(t){return e.addManagedListener(i,t,(function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),o.forEach((function(t){return e.addManagedListener(i,t,(function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},t.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,at.EVENT_BODY_SCROLL,(function(t){t.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,at.EVENT_BODY_SCROLL_END,(function(){e.hideTimeout=window.setTimeout((function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null}),400)}))},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},Lm([or("eViewport")],t.prototype,"eViewport",void 0),Lm([or("eContainer")],t.prototype,"eContainer",void 0),Lm([se("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Lm([se("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(tr),Fm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Nm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Im=function(e){function t(){return e.call(this,t.TEMPLATE,"horizontal")||this}return Fm(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var o=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,at.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",o),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new ic((function(e){return t.eContainer.style.width=e+"px"})))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),e.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=e+"px"}},t.prototype.onScrollVisibilityChanged=function(){e.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.columnModel.getDisplayedColumnsRightWidth(),o=!this.enableRtl&&e,i=this.gridOptionsService.getScrollbarWidth();o&&(t+=i),sn(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);var n=this.columnModel.getDisplayedColumnsLeftWidth(),r=this.enableRtl&&e;r&&(n+=i),sn(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=i)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,o=this.gridOptionsService.is("suppressHorizontalScroll"),i=e&&this.gridOptionsService.getScrollbarWidth()||0,n=0===i&&t?16:i,r=o?0:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),ln(this.getGui(),r),ln(this.eViewport,r),ln(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Nm([or("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),Nm([or("eRightSpacer")],t.prototype,"eRightSpacer",void 0),Nm([se("columnModel")],t.prototype,"columnModel",void 0),Nm([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Nm([ie],t.prototype,"postConstruct",null),t}(xm),km=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Gm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return km(t,e),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,at.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),o=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:at.EVENT_LEFT_PINNED_WIDTH_CHANGED})),o!=this.rightWidth&&(this.rightWidth=o,this.eventService.dispatchEvent({type:at.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Gm([se("columnModel")],t.prototype,"columnModel",void 0),Gm([ie],t.prototype,"postConstruct",null),t=Gm([re("pinnedWidthService")],t),t}(tt),Vm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Bm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events=[],t}return Vm(t,e),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var t=this;if(null!=this.clientSideRowModel){this.events.push(e);var o=function(){t.clientSideRowModel&&t.clientSideRowModel.onRowGroupOpened(),t.events.forEach((function(e){return t.eventService.dispatchEvent(e)})),t.events=[]};null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(o)),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(e)},Bm([se("animationFrameService")],t.prototype,"animationFrameService",void 0),Bm([se("rowModel")],t.prototype,"rowModel",void 0),Bm([ie],t.prototype,"postConstruct",null),t=Bm([re("rowNodeEventThrottle")],t),t}(tt),Wm=function(){return Wm=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},Wm.apply(this,arguments)},zm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Um=function(e,t){return function(o,i){t(o,i,e)}},Km=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Ym=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Km(arguments[t]));return e};
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */function qm(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}function Jm(e){return!0===e||"true"===e}var Xm,$m=function(){function e(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new fe}return Object.defineProperty(e.prototype,"context",{get:function(){return this.gridOptions["context"]},enumerable:!1,configurable:!0}),e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.api=e,this.columnApi=t},e.prototype.init=function(){this.gridOptionLookup=new Set(Ym(ft.ALL_PROPERTIES,ft.EVENT_CALLBACKS));var e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),e),this.getScrollbarWidth()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},e.prototype.is=function(e){return Jm(this.gridOptions[e])},e.prototype.get=function(e){return this.gridOptions[e]},e.prototype.getNum=function(e){return qm(this.gridOptions[e])},e.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},e.prototype.exists=function(e){return s(this.gridOptions[e])},e.prototype.mergeGridCommonParams=function(e){var t=this;if(e){var o=function(o){var i=o;return i.api=t.api,i.columnApi=t.columnApi,i.context=t.context,e(i)};return o}return e},e.prototype.set=function(e,t,o,i){if(void 0===o&&(o=!1),void 0===i&&(i={}),this.gridOptionLookup.has(e)){var n=this.gridOptions[e];if(o||n!==t){this.gridOptions[e]=t;var r=Wm({type:e,currentValue:t,previousValue:n},i);this.propertyEventService.dispatchEvent(r)}}},e.prototype.addEventListener=function(e,t){this.propertyEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.globalEventHandler=function(e,t){if(!this.destroyed){var o=ft.getCallbackForEvent(e);"function"===typeof this.gridOptions[o]&&this.gridOptions[o](t)}},e.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0,t=e?this.gridOptions.scrollbarWidth:ii();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:at.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},e.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&a(this.gridOptions.rowModelType)},e.prototype.isDomLayout=function(e){var t,o=null!==(t=this.get("domLayout"))&&void 0!==t?t:"normal";return o===e},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},e.prototype.isGetRowHeightFunction=function(){return"function"===typeof this.gridOptions.getRowHeight},e.prototype.getRowHeightForNode=function(e,t,o){if(void 0===t&&(t=!1),null==o&&(o=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:o,estimated:!0};var i={node:e,data:e.data},n=this.getCallback("getRowHeight")(i);if(this.isNumeric(n))return 0===n&&G((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,n),estimated:!1}}if(e.detail&&this.is("masterDetail"))return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var r=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:o;return{height:r,estimated:!1}},e.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||a(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.environment.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)},e.prototype.getDomDataKey=function(){return this.domDataKey},e.prototype.getDomData=function(e,t){var o=e[this.getDomDataKey()];return o?o[t]:void 0},e.prototype.setDomData=function(e,t,o){var i=this.getDomDataKey(),n=e[i];a(n)&&(n={},e[i]=n),n[t]=o},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&s(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&s(e)?e:document},e.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},e.prototype.getRowIdFunc=function(){var e=this.getCallback("getRowId");if(e)return e;var t=this.get("getRowNodeId");return t?function(e){return t(e.data)}:void 0},e.prototype.getAsyncTransactionWaitMillis=function(){return s(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},e.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},e.prototype.isTreeData=function(){return this.is("treeData")&&me.assertRegistered(de.RowGroupingModule,"Tree Data")},e.prototype.isMasterDetail=function(){return this.is("masterDetail")&&me.assertRegistered(de.MasterDetailModule,"masterDetail")},e.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&me.isRegistered(de.RangeSelectionModule)},e.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.get("autoGroupColumnDef"),t=this.isRowModelType("clientSide");return t&&!(null===e||void 0===e?void 0:e.comparator)},e.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"===typeof e?this.getCallback("groupAggFiltering"):Jm(e)?function(){return!0}:void 0},e.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Rt("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},e.prototype.isGroupUseEntireRow=function(e){return!e&&(!!this.gridOptions.groupDisplayType&&Rt("groupRows",this.gridOptions.groupDisplayType))},zm([se("gridOptions")],e.prototype,"gridOptions",void 0),zm([se("eventService")],e.prototype,"eventService",void 0),zm([se("environment")],e.prototype,"environment",void 0),zm([se("eGridDiv")],e.prototype,"eGridDiv",void 0),zm([Um(0,ue("gridApi")),Um(1,ue("columnApi"))],e.prototype,"agWire",null),zm([ie],e.prototype,"init",null),zm([ne],e.prototype,"destroy",null),e=zm([re("gridOptionsService")],e),e}(),Qm=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Zm=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ev=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qm(t,e),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(t,o,i){var n={key:t,defaultValue:o,variableValues:i};return e(n)};var t=this.gridOptionsService.get("localeTextFunc");if(t)return t;var o=this.gridOptionsService.get("localeText");return function(e,t,i){var n=o&&o[e];if(n&&i&&i.length){var r=0;while(1){if(r>=i.length)break;var s=n.indexOf("${variable}");if(-1===s)break;n=n.replace("${variable}",i[r++])}}return null!==n&&void 0!==n?n:t}},t=Zm([re("localeService")],t),t}(tt),tv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ov=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},iv=function(e){function t(){return e.call(this,t.TEMPLATE,"vertical")||this}return tv(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.createManagedBean(new $u(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,o=e&&this.gridOptionsService.getScrollbarWidth()||0,i=0===o&&t?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),sn(this.getGui(),i),sn(this.eViewport,i),sn(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',ov([ie],t.prototype,"postConstruct",null),t}(xm),nv=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},rv=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nv(arguments[t]));return e},sv=function(){function e(e,t,o){t?(this.gridOptions=t,(new av).create(e,t,(function(t){var o=new Zf(e);t.createBean(o)}),void 0,o)):console.error("AG Grid: no gridOptions provided to the grid")}return e.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},e}(),av=function(){function e(){}return e.prototype.create=function(e,t,o,i,n){var r=this,s=!!t.debug,a=this.getRegisteredModules(n),l=this.createBeansList(t.rowModelType,a),u=this.createProvidedBeans(e,t,n);if(l){var c={providedBeanInstances:u,beanClasses:l,debug:s},d=new Yf("AG Grid",(function(){return t.debug})),p=new Yf("Context",(function(){return c.debug})),h=new te(c,p),f=h.getBean("beans");this.registerModuleUserComponents(f,a),this.registerStackComponents(f,a),this.registerControllers(f,a),o(h),f.ctrlsService.whenReady((function(){r.setColumnsAndData(f),r.dispatchGridReadyEvent(f);var e=me.isRegistered(de.EnterpriseCoreModule);d.log("initialised successfully, enterprise = "+e)})),i&&i(h)}},e.prototype.registerControllers=function(e,t){t.forEach((function(t){t.controllers&&t.controllers.forEach((function(t){return e.ctrlsFactory.register(t)}))}))},e.prototype.registerStackComponents=function(e,t){var o=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(o)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,o=me.getRegisteredModules(),i=[],n={};function r(e,t){function o(t){n[t.moduleName]||(n[t.moduleName]=!0,i.push(t),me.register(t,e))}o(t),t.dependantModules&&t.dependantModules.forEach(r.bind(null,e))}return t&&t.forEach(r.bind(null,!0)),o&&o.forEach(r.bind(null,!me.isPackageBased())),i},e.prototype.registerModuleUserComponents=function(e,t){var o=this.extractModuleEntity(t,(function(e){return e.userComponents?e.userComponents:[]}));o.forEach((function(t){e.userComponentRegistry.registerDefaultComponent(t.componentName,t.componentClass)}))},e.prototype.createProvidedBeans=function(e,t,o){var i=o?o.frameworkOverrides:null;a(i)&&(i=new vf);var n={gridOptions:t,eGridDiv:e,globalEventListener:o?o.globalEventListener:null,frameworkOverrides:i};return o&&o.providedBeanInstances&&Object.assign(n,o.providedBeanInstances),n},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Rd},{componentName:"AgRadioButton",componentClass:dh},{componentName:"AgToggleButton",componentClass:hh},{componentName:"AgInputTextField",componentClass:gh},{componentName:"AgInputTextArea",componentClass:vh},{componentName:"AgInputNumberField",componentClass:Ch},{componentName:"AgInputRange",componentClass:wh},{componentName:"AgSelect",componentClass:Fr},{componentName:"AgSlider",componentClass:Rh},{componentName:"AgGridBody",componentClass:mc},{componentName:"AgHeaderRoot",componentClass:ap},{componentName:"AgSortIndicator",componentClass:_s},{componentName:"AgPagination",componentClass:Jg},{componentName:"AgOverlayWrapper",componentClass:Qg},{componentName:"AgGroupComponent",componentClass:_h},{componentName:"AgPanel",componentClass:qh},{componentName:"AgDialog",componentClass:Qh},{componentName:"AgRowContainer",componentClass:Hc},{componentName:"AgFakeHorizontalScroll",componentClass:Im},{componentName:"AgFakeVerticalScroll",componentClass:iv}],o=this.extractModuleEntity(e,(function(e){return e.agStackComponents?e.agStackComponents:[]}));return t=t.concat(o),t},e.prototype.createBeansList=function(e,t){var o=this.getRowModelClass(e,t);if(o){var i=[o,au,tm,nm,vm,hg,cl,Fa,Sg,Tg,Cp,tl,Wg,cp,ev,St,Jp,sl,io,fe,$m,pf,Af,fl,$t,tp,sh,jp,Hf,rt,jf,Tf,Tc,mg,Nf,Kf,eo,Ap,hp,ua,Lf,rf,Ec,Hg,Ef,Kp,uh,Cc,ng,ag,cg,Kg,Lt,bg,Ep,fm,so,Cm,wm,ih,Rm,_m,Hm,jm,Am],n=this.extractModuleEntity(t,(function(e){return e.beans?e.beans:[]}));i.push.apply(i,rv(n));var r=[];return i.forEach((function(e){r.indexOf(e)<0&&r.push(e)})),r}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],rv(e.map(t)))},e.prototype.setColumnsAndData=function(e){var t=e.gridOptionsService.get("columnDefs");e.columnModel.setColumnDefs(t||[],"gridInitializing"),e.rowModel.start()},e.prototype.dispatchGridReadyEvent=function(e){var t={type:at.EVENT_GRID_READY};e.eventService.dispatchEvent(t)},e.prototype.getRowModelClass=function(e,t){e||(e="clientSide");var o={};t.forEach((function(e){C(e.rowModels,(function(e,t){o[e]=t}))}));var i=o[e];if(s(i))return i;var n={clientSide:de.ClientSideRowModelModule,infinite:de.InfiniteRowModelModule,serverSide:de.ServerSideRowModelModule,viewport:de.ViewportRowModelModule};n[e]?me.assertRegistered(n[e],"rowModelType = '"+e+"'"):console.error("AG Grid: could not find row model for rowModelType = "+e)},e}(),lv=function(){function e(){}return e.prototype.wrap=function(e,t,o,i){var n=this;void 0===o&&(o=[]);var r=this.createWrapper(e,i);return t.forEach((function(e){n.createMethod(r,e,!0)})),o.forEach((function(e){n.createMethod(r,e,!1)})),r},e.prototype.unwrap=function(e){return e},e.prototype.createMethod=function(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))},e.prototype.createMethodProxy=function(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}},e}();
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */(function(e){e["InsideBase"]="insideBase",e["InsideEnd"]="insideEnd",e["Center"]="center",e["OutsideEnd"]="outsideEnd"})(Xm||(Xm={}));
/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v29.1.0
 * @link https://www.ag-grid.com/
 * @license MIT
 */
var uv="undefined"===typeof o.g?{}:o.g;uv.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,uv.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,uv.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,uv.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,uv.Node="undefined"===typeof Node?{}:Node,uv.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var cv,dv=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},pv=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dv(arguments[t]));return e},hv=function(){function e(t,o,i,n,r,s){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=o,this.eventService=i,this.columnModel=n,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.getCopyOfNodesMap=function(){return Wn.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){var o=this;if("string"!==typeof t){var i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map((function(t){return o.createNode(t,o.rootNode,e.TOP_LEVEL)})):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterAggFilter=i.childrenAfterAggFilter,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.updateRowData=function(e,t){var o={remove:[],update:[],add:[]},i=[];return this.executeRemove(e,o,i),this.executeUpdate(e,o,i),this.executeAdd(e,o),this.updateSelection(i,"rowDataChanged"),t&&Wn.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},e.prototype.updateSelection=function(e,t){var o=e.length>0;if(o&&e.forEach((function(e){e.setSelected(!1,!1,!0,t)})),this.selectionService.updateGroupsFromChildrenSelections(t),o){var i={type:at.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(i)}},e.prototype.executeAdd=function(t,o){var i,n=this,r=t.add,s=t.addIndex;if(!Wn.missingOrEmpty(r)){var a=r.map((function(t){return n.createNode(t,n.rootNode,e.TOP_LEVEL)}));if("number"===typeof s&&s>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=s;if(this.doingTreeData&&s>0&&u>0)for(var d=0;d<u;d++)if((null===(i=l[d])||void 0===i?void 0:i.rowIndex)==s-1){c=d+1;break}var p=l.slice(0,c),h=l.slice(c,l.length);this.rootNode.allLeafChildren=pv(p,a,h)}else this.rootNode.allLeafChildren=pv(this.rootNode.allLeafChildren,a);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),o.add=a}},e.prototype.executeRemove=function(e,t,o){var i=this,n=e.remove;if(!Wn.missingOrEmpty(n)){var r={};n.forEach((function(e){var n=i.lookupRowNode(e);n&&(n.isSelected()&&o.push(n),n.clearRowTopAndRowIndex(),r[n.id]=!0,delete i.allNodesMap[n.id],t.remove.push(n))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(e){return!r[e.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},e.prototype.executeUpdate=function(t,o,i){var n=this,r=t.update;Wn.missingOrEmpty(r)||r.forEach((function(t){var r=n.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&i.push(r),n.setMasterForRow(r,t,e.TOP_LEVEL,!1),o.update.push(r))}))},e.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsService.getRowIdFunc();if(o){var i=o({data:e,level:0});if(t=this.allNodesMap[i],!t)return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(t=this.rootNode.allLeafChildren.find((function(t){return t.data===e})),!t)return console.error("AG Grid: could not find data item as object was not found",e),console.error("Consider using getRowId to help the Grid find matching row data"),null;return t||null},e.prototype.createNode=function(e,t,o){var i=new ea(this.beans);return i.group=!1,this.setMasterForRow(i,e,o,!0),t&&!this.suppressParentsInRowNodes&&(i.parent=t),i.level=o,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},e.prototype.setMasterForRow=function(e,t,o,i){if(this.doingTreeData)e.setMaster(!1),i&&(e.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),i){var n=this.columnModel.getRowGroupColumns(),r=n?n.length:0,s=o+r;e.expanded=!!e.master&&this.isExpanded(s)}},e.prototype.isExpanded=function(e){var t=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===t||e<t},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),fv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),gv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mv=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},vv=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mv(arguments[t]));return e};(function(e){e[e["Normal"]=0]="Normal",e[e["AfterFilter"]=1]="AfterFilter",e[e["AfterFilterAndSort"]=2]="AfterFilterAndSort",e[e["PivotNodes"]=3]="PivotNodes"})(cv||(cv={}));var yv,Cv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRowHeightChanged_debounced=Wn.debounce(t.onRowHeightChanged.bind(t),100),t.rowsToDisplay=[],t}return fv(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:il.EVERYTHING}),t=!this.gridOptionsService.is("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:il.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,at.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,at.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,at.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:il.PIVOT})),this.addManagedListener(this.eventService,at.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,at.EVENT_GRID_STYLES_CHANGED,this.resetRowHeights.bind(this));var i=this.refreshModel.bind(this,{step:il.MAP,keepRenderedRows:!0,animate:t});this.addManagedPropertyListener("groupRemoveSingleChildren",i),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",i),this.rootNode=new ea(this.beans),this.nodeManager=new hv(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,o,i){var n,r=!1;do{n=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,o),u=Math.min(a,i),c=l;c<=u;c++){var d=this.getRow(c);if(d.rowHeightEstimated){var p=this.gridOptionsService.getRowHeightForNode(d);d.setRowHeight(p.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),t=0,o=new Set,i=this.gridOptionsService.isDomLayout("normal"),n=0;n<this.rowsToDisplay.length;n++){var r=this.rowsToDisplay[n];if(null!=r.id&&o.add(r.id),null==r.rowHeight){var s=this.gridOptionsService.getRowHeightForNode(r,i,e);r.setRowHeight(s.height,s.estimated)}r.setRowTop(t),r.setRowIndex(n),t+=r.rowHeight}return o},t.prototype.clearRowTopAndRowIndex=function(e,t){var o=e.isActive(),i=function(e){e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},n=function(e){if(i(e),i(e.detailNode),i(e.sibling),e.hasChildren()&&e.childrenAfterGroup){var t=-1==e.level,r=o&&!t&&!e.expanded;r||e.childrenAfterGroup.forEach(n)}};n(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,t,o){var i=this;void 0===o&&(o=0);var n=this.getRowIndexAtPixel(t),r=this.getRow(n),s=!this.gridOptionsService.is("suppressAnimationFrame");return r!==e[0]&&(e.forEach((function(e){Wn.removeFromArray(i.rootNode.allLeafChildren,e)})),e.forEach((function(e,t){Wn.insertIntoArray(i.rootNode.allLeafChildren,e,Math.max(n+o,0)+t)})),this.refreshModel({step:il.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var o=null!=t?this.getRowIndexAtPixel(t):null,i=null!=o?this.getRow(o):null;if(i&&e&&i!==e&&null!=t){var n=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(n),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var o=this.getRowIndexAtPixel(e);if(t=this.getRow(o||0),!t)return ol.Below}var i=t.rowTop,n=t.rowHeight;return e-i<n/2?ol.Above:ol.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(t)return e;var o=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))while(o.expanded&&o.childrenAfterSort&&o.childrenAfterSort.length>0)o=o.childrenAfterSort[0];return o.rowIndex},t.prototype.getRowBounds=function(e){if(Wn.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:il.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsService.isAnimateRows(),o=0===e.columns.length||e.columns.some((function(e){return e.isPrimary()})),i=o?il.FILTER:il.FILTER_AGGREGATES;this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:il.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:il.PIVOT}):this.refreshModel({step:il.AGGREGATE})},t.prototype.createChangePath=function(e){var t=Wn.missingOrEmpty(e),o=new $p(!1,this.rootNode);return(t||this.gridOptionsService.isTreeData())&&o.setInactive(),o},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;var t=e.rowNodeTransactions.filter((function(e){return null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0})),o=null==t||0==t.length;return o},t.prototype.buildRefreshModelParams=function(e){var t=il.EVERYTHING,o={everything:il.EVERYTHING,group:il.EVERYTHING,filter:il.FILTER,map:il.MAP,aggregate:il.AGGREGATE,sort:il.SORT,pivot:il.PIVOT};if(Wn.exists(e)&&(t=o[e]),!Wn.missing(t)){var i=!this.gridOptionsService.is("suppressAnimationFrame"),n={step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i};return n}console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(o).join(", "))},t.prototype.refreshModel=function(e){var t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(t&&!this.isSuppressModelUpdateAfterUpdateTransaction(t)){var o=this.createChangePath(t.rowNodeTransactions);switch(t.step){case il.EVERYTHING:this.doRowGrouping(t.groupState,t.rowNodeTransactions,t.rowNodeOrder,o,!!t.afterColumnsChanged);case il.FILTER:this.doFilter(o);case il.PIVOT:this.doPivot(o);case il.AGGREGATE:this.doAggregate(o);case il.FILTER_AGGREGATES:this.doFilterAggregates(o);case il.SORT:this.doSort(t.rowNodeTransactions,o);case il.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,i);var n={type:at.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(n)}},t.prototype.isEmpty=function(){var e=Wn.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Wn.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return Wn.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o,i=!t,n=!1,r=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(a){var l=i&&!n;i||a!==t&&a!==e||(i=!0);var u=a.group&&s;if(!u){var c=i&&!n,d=a.isParentOfNode(o);(c||d)&&r.push(a)}l&&(a!==t&&a!==e||(n=!0,o=a===t?t:e))})),r},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;var i=Wn.last(this.rowsToDisplay);if(i.rowTop<=e)return this.rowsToDisplay.length-1;var n=-1,r=-1;while(1){var s=Math.floor((t+o)/2),a=this.rowsToDisplay[s];if(this.isRowInPixel(a,e))return s;a.rowTop<e?t=s+1:a.rowTop>e&&(o=s-1);var l=n===t&&r===o;if(l)return s;n=t,r=o}},t.prototype.isRowInPixel=function(e,t){var o=e.rowTop,i=e.rowTop+e.rowHeight,n=o<=t&&i>t;return n},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,o){return e(t,o)}))},t.prototype.forEachNode=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:vv(this.rootNode.childrenAfterGroup||[]),callback:e,recursionType:cv.Normal,index:0,includeFooterNodes:t})},t.prototype.forEachNodeAfterFilter=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:vv(this.rootNode.childrenAfterAggFilter||[]),callback:e,recursionType:cv.AfterFilter,index:0,includeFooterNodes:t})},t.prototype.forEachNodeAfterFilterAndSort=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:vv(this.rootNode.childrenAfterSort||[]),callback:e,recursionType:cv.AfterFilterAndSort,index:0,includeFooterNodes:t})},t.prototype.forEachPivotNode=function(e,t){void 0===t&&(t=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:cv.PivotNodes,index:0,includeFooterNodes:t})},t.prototype.recursivelyWalkNodesAndCallback=function(e){var t,o=e.nodes,i=e.callback,n=e.recursionType,r=e.includeFooterNodes,s=e.index,a=o[0];r&&(null===(t=null===a||void 0===a?void 0:a.parent)||void 0===t?void 0:t.sibling)&&o.push(a.parent.sibling);for(var l=0;l<o.length;l++){var u=o[l];if(i(u,s++),u.hasChildren()&&!u.footer){var c=null;switch(n){case cv.Normal:c=u.childrenAfterGroup;break;case cv.AfterFilter:c=u.childrenAfterAggFilter;break;case cv.AfterFilterAndSort:c=u.childrenAfterSort;break;case cv.PivotNodes:c=u.leafGroup?null:u.childrenAfterSort;break}c&&(s=this.recursivelyWalkNodesAndCallback({nodes:vv(c),callback:i,recursionType:n,index:s,includeFooterNodes:r}))}}return s},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsService.isTreeData(),o=this.columnModel.isPivotActive(),i=function(n){n&&n.forEach((function(n){var r=function(){n.expanded=e,i(n.childrenAfterGroup)};if(t){var s=Wn.exists(n.childrenAfterGroup);s&&r()}else if(o){var a=!n.leafGroup;a&&r()}else{var l=n.group;l&&r()}}))};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:il.MAP});var n=e?"expandAll":"collapseAll",r={type:at.EVENT_EXPAND_COLLAPSE_ALL,source:n};this.eventService.dispatchEvent(r)},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,o,i,n){if(this.groupStage){if(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:o,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:n}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")){var r=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i);if(r){var s={type:at.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},t.prototype.restoreGroupState=function(e){e&&Wn.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,o){"boolean"===typeof e[o]&&(t.expanded=e[o])}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var e={};return Wn.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,o){return e[o]=t.expanded})),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var t="string"==typeof e&&0==e.indexOf(ea.ID_PREFIX_ROW_GROUP);if(t){var o=void 0;return this.forEachNode((function(t){t.id===e&&(o=t)})),o}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var o={type:at.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(o),this.refreshModel({step:il.EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var o=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){o.executeBatchUpdateRowData()}),i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],o=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(n){var r=e.nodeManager.updateRowData(n.rowDataTransaction,void 0);o.push(r),n.callback&&t.push(n.callback.bind(null,r)),"number"===typeof n.rowDataTransaction.addIndex&&(i=!0)})),this.commonUpdateRowData(o,void 0,i),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0),o.length>0){var n={type:at.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o};this.eventService.dispatchEvent(n)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,t),i="number"===typeof e.addIndex;return this.commonUpdateRowData([o],t,i),o},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.is("suppressMaintainUnsortedOrder");if(!e){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var o=0;o<this.rootNode.allLeafChildren.length;o++){var i=this.rootNode.allLeafChildren[o];t[i.id]=o}return t}},t.prototype.commonUpdateRowData=function(e,t,o){var i=!this.gridOptionsService.is("suppressAnimationFrame");o&&(t=this.createRowNodeOrder()),this.refreshModel({step:il.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var n={type:at.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n)},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:il.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode((function(t){t.setRowHeight(t.rowHeight,!0);var o=t.detailNode;o&&o.setRowHeight(o.rowHeight,!0),e=!0})),this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),e&&this.onRowHeightChanged()},gv([se("columnModel")],t.prototype,"columnModel",void 0),gv([se("selectionService")],t.prototype,"selectionService",void 0),gv([se("filterManager")],t.prototype,"filterManager",void 0),gv([se("valueCache")],t.prototype,"valueCache",void 0),gv([se("beans")],t.prototype,"beans",void 0),gv([se("filterStage")],t.prototype,"filterStage",void 0),gv([se("sortStage")],t.prototype,"sortStage",void 0),gv([se("flattenStage")],t.prototype,"flattenStage",void 0),gv([ae("groupStage")],t.prototype,"groupStage",void 0),gv([ae("aggregationStage")],t.prototype,"aggregationStage",void 0),gv([ae("pivotStage")],t.prototype,"pivotStage",void 0),gv([ae("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),gv([ie],t.prototype,"init",null),t=gv([re("rowModel")],t),t}(tt),bv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),wv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ev=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bv(t,e),t.prototype.execute=function(e){var t=e.changedPath;this.filterService.filter(t)},wv([se("filterService")],t.prototype,"filterService",void 0),t=wv([re("filterStage")],t),t}(tt),Sv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Rv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ov=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sv(t,e),t.prototype.execute=function(e){var t=this,o=this.sortController.getSortOptions(),i=Wn.exists(o)&&o.length>0,n=i&&Wn.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),r=o.some((function(e){return!!t.columnModel.getGroupDisplayColumnForGroup(e.column.getId())}));this.sortService.sort(o,i,n,e.rowNodeTransactions,e.changedPath,r)},Rv([se("sortService")],t.prototype,"sortService",void 0),Rv([se("sortController")],t.prototype,"sortController",void 0),Rv([se("columnModel")],t.prototype,"columnModel",void 0),t=Rv([re("sortStage")],t),t}(tt),Tv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_v=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tv(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=[],i={value:0},n=this.columnModel.isPivotMode(),r=n&&t.leafGroup,s=r?[t]:t.childrenAfterSort;this.recursivelyAddToRowsToDisplay(s,o,i,n,0);var a=o.length>0,l=!r&&a&&this.gridOptionsService.is("groupIncludeTotalFooter");return l&&(t.createFooter(),this.addRowNodeToRowsToDisplay(t.sibling,o,i,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,o,i,n){if(!Wn.missingOrEmpty(e))for(var r=this.gridOptionsService.is("groupHideOpenParents"),s=this.gridOptionsService.is("groupRemoveSingleChildren"),a=!s&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),l=0;l<e.length;l++){var u=e[l],c=u.hasChildren(),d=i&&!c,p=s&&c&&1===u.childrenAfterGroup.length,h=a&&c&&u.leafGroup&&1===u.childrenAfterGroup.length,f=i&&u.leafGroup,g=r&&u.expanded&&!u.master&&!f,m=!d&&!g&&!p&&!h;if(m&&this.addRowNodeToRowsToDisplay(u,t,o,n),!i||!u.leafGroup)if(c){var v=p||h;if(u.expanded||v){var y=v?n:n+1;this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,t,o,i,y),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(u.sibling,t,o,n)}}else if(u.master&&u.expanded){var C=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(C,t,o,n)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,o,i){var n=this.gridOptionsService.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(n?0:i)},t.prototype.createDetailNode=function(e){if(Wn.exists(e.detailNode))return e.detailNode;var t=new ea(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Wn.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t},_v([se("columnModel")],t.prototype,"columnModel",void 0),_v([se("beans")],t.prototype,"beans",void 0),t=_v([re("flattenStage")],t),t}(tt),Dv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Av=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dv(t,e),t.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},t.prototype.sort=function(e,t,o,i,n,r){var s=this,a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some((function(e){return e.isRowGroupActive()})),u={};o&&i&&(u=this.calculateDirtyNodes(i));var c=this.columnModel.isPivotMode(),d=function(i){s.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0);var d=c&&i.leafGroup,p=a&&l&&!i.leafGroup&&!r;if(!t||p||d){var h=i.childrenAfterAggFilter.slice(0);if(a&&i.childrenAfterSort){var f=i.childrenAfterSort.reduce((function(e,t,o){return e[t.id]=o,e}),{});h.sort((function(e,t){return(f[e.id]||0)-(f[t.id]||0)}))}i.childrenAfterSort=h}else i.childrenAfterSort=o?s.doDeltaSort(i,u,n,e):s.rowNodeSorter.doFullSort(i.childrenAfterAggFilter,e);if(i.sibling&&(i.sibling.childrenAfterSort=i.childrenAfterSort),s.updateChildIndexes(i),s.postSortFunc){var g={nodes:i.childrenAfterSort};s.postSortFunc(g)}};n&&n.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(n)},t.prototype.getPostSortFunc=function(){var e=this.gridOptionsService.getCallback("postSortRows");if(e)return e;var t=this.gridOptionsService.get("postSort");return t?function(e){return t(e.nodes)}:void 0},t.prototype.calculateDirtyNodes=function(e){var t={},o=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e&&e.forEach((function(e){o(e.add),o(e.update),o(e.remove)})),t},t.prototype.doDeltaSort=function(e,t,o,i){var n=this,r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,i);var a={},l=[];r.forEach((function(e){t[e.id]||!o.canSkip(e)?l.push(e):a[e.id]=!0}));var u=s.filter((function(e){return a[e.id]})),c=function(e,t){return{currentPos:t,rowNode:e}},d=l.map(c).sort((function(e,t){return n.rowNodeSorter.compareRowNodes(i,e,t)}));return this.mergeSortedArrays(i,d,u.map(c)).map((function(e){var t=e.rowNode;return t}))},t.prototype.mergeSortedArrays=function(e,t,o){var i=[],n=0,r=0;while(n<t.length&&r<o.length){var s=this.rowNodeSorter.compareRowNodes(e,t[n],o[r]);s<0?i.push(t[n++]):i.push(o[r++])}while(n<t.length)i.push(t[n++]);while(r<o.length)i.push(o[r++]);return i},t.prototype.updateChildIndexes=function(e){if(!Wn.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,o=0;o<t.length;o++){var i=t[o],n=0===o,r=o===e.childrenAfterSort.length-1;i.setFirstChild(n),i.setLastChild(r),i.setChildIndex(o)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var t=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData()){var o="AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).";return Wn.doOnce((function(){return console.warn(o)}),"sortService.hideOpenParentsWithTreeData"),!1}var i=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((function(e){e.hasChildren()&&i(e)}))};e&&e.executeFromRootNode((function(e){return i(e)}))}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var o=this;this.gridOptionsService.is("groupHideOpenParents")&&!Wn.missing(e)&&e.forEach((function(e){var i=o.columnModel.getGroupDisplayColumns();i.forEach((function(i){var n=i.getColDef().showRowGroup;if("string"===typeof n){var r=n,s=o.columnModel.getPrimaryColumn(r),a=s===e.rowGroupColumn;if(!a)if(t)e.setGroupValue(i.getId(),void 0);else{var l=e.getFirstChildOfFirstChild(s);l&&e.setGroupValue(i.getId(),l.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Av([se("columnModel")],t.prototype,"columnModel",void 0),Av([se("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Av([ie],t.prototype,"init",null),t=Av([re("sortService")],t),t}(tt),Lv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),xv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lv(t,e),t.prototype.filter=function(e){var t=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var o=this,i=function(t,i){t.hasChildren()?t.childrenAfterFilter=e&&!i?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,i=e.data&&o.filterManager.doesRowPassFilter({rowNode:e});return t||i})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var n=function(e,t){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var s=e.childrenAfterGroup[r],a=t||o.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?n(e.childrenAfterGroup[r],a):i(s,a)}i(e,t)},r=function(e){return n(e,!1)};t.executeFromRootNode(r)}else{var s=function(e){return i(e,!1)};t.forEachChangedNodeDepthFirst(s,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},xv([se("filterManager")],t.prototype,"filterManager",void 0),t=xv([re("filterService")],t),t}(tt),Nv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Iv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kv=function(e,t){var o="function"===typeof Symbol&&e[Symbol.iterator];if(!o)return e;var i,n,r=o.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r["return"])&&o.call(r)}finally{if(n)throw n.error}}return s},Gv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nv(t,e),t.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),t=this.gridOptionsService.is("immutableData"),o=this.gridOptionsService.is("resetRowDataOnUpdate");return!o&&(e||t)},t.prototype.setRowData=function(e){var t=this.createTransactionForRowData(e);if(t){var o=kv(t,2),i=o[0],n=o[1],r=this.clientSideRowModel.updateRowData(i,n);r&&this.rowRenderer.refreshFullWidthRows(r.update)}},t.prototype.createTransactionForRowData=function(e){if(Wn.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsService.getRowIdFunc();if(null!=t){var o={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),n=this.gridOptionsService.is("suppressMaintainUnsortedOrder"),r=n?void 0:{};return Wn.exists(e)&&e.forEach((function(e,n){var s=t({data:e,level:0}),a=i[s];if(r&&(r[s]=n),a){var l=a.data!==e;l&&o.update.push(e),i[s]=void 0}else o.add.push(e)})),Wn.iterateObject(i,(function(e,t){t&&o.remove.push(t.data)})),[o,r]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Iv([se("rowModel")],t.prototype,"rowModel",void 0),Iv([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Iv([ie],t.prototype,"postConstruct",null),t=Iv([re("immutableService")],t),t}(tt),Hv="29.1.0",Vv={version:Hv,moduleName:de.ClientSideRowModelModule,beans:[Ev,Ov,Pv,Mv,Fv,Gv],rowModels:{clientSide:Cv}},Bv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),jv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wv=function(e){function t(t,o,i){var n=e.call(this,t)||this;return n.parentCache=o,n.params=i,n.startRow=t*i.blockSize,n.endRow=n.startRow+i.blockSize,n}return Bv(t,e),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,t,o){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),Wn.exists(t)?e.setDataAndId(t,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();Wn.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){e.params.datasource.getRows(t)}),0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return e},t.prototype.forEachNode=function(e,t,o){var i=this;this.rowNodes.forEach((function(n,r){var s=i.startRow+r;s<o&&e(n,t.next())}))},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,t){void 0===t&&(t=!1),t||(this.lastAccessed=this.params.lastAccessedSequence.next());var o=e-this.startRow;return this.rowNodes[o]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var t=this.startRow+e,o=new ea(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(t),o.setRowTop(this.params.rowHeight*t),this.rowNodes.push(o)}},t.prototype.processServerResult=function(e){var t=this;this.rowNodes.forEach((function(o,i){var n=e.rowData?e.rowData[i]:void 0;t.setDataAndId(o,n,t.startRow+i)}));var o=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,o)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(e){e.clearRowTopAndRowIndex()}))},jv([se("beans")],t.prototype,"beans",void 0),jv([ie],t.prototype,"postConstruct",null),jv([ne],t.prototype,"destroyRowNodes",null),t}(Zp),zv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Uv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kv=function(e,t){return function(o,i){t(o,i,e)}},Yv=function(e){function t(t){var o=e.call(this)||this;return o.lastRowIndexKnown=!1,o.blocks={},o.blockCount=0,o.rowCount=t.initialRowCount,o.params=t,o}return zv(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var o=Math.floor(e/this.params.blockSize),i=this.blocks[o];if(!i){if(t)return;i=this.createBlock(o)}return i.getRow(e)},t.prototype.createBlock=function(e){var t=this.createBean(new Wv(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t},t.prototype.refreshCache=function(){var e=0==this.blockCount;e?this.purgeCache():(this.getBlocksInOrder().forEach((function(e){return e.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.destroyBlock(t)}))},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,t){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+t),this.checkRowCount(e,t),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var o=this,i=this.getBlocksInOrder().filter((function(t){return t!=e})),n=function(e,t){return t.getLastAccessed()-e.getLastAccessed()};i.sort(n);var r=this.params.maxBlocksInCache>0,s=r?this.params.maxBlocksInCache-1:null,a=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((function(e,t){var i=e.getState()===Wv.STATE_WAITING_TO_LOAD&&t>=a,n=!!r&&t>=s;if(i||n){if(o.isBlockCurrentlyDisplayed(e))return;if(o.isBlockFocused(e))return;o.removeBlockFromCache(e)}}))},t.prototype.isBlockFocused=function(e){var t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;var o=e.getStartRow(),i=e.getEndRow(),n=t.rowIndex>=o&&t.rowIndex<i;return n},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,o)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize,i=o+this.params.overflowSize;this.rowCount<i&&(this.rowCount=i)}},t.prototype.setRowCount=function(e,t){this.rowCount=e,Wn.exists(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var t=this,o=new zn;this.getBlocksInOrder().forEach((function(i){return i.forEachNode(e,o,t.rowCount)}))},t.prototype.getBlocksInOrder=function(){var e=function(e,t){return e.getId()-t.getId()},t=Wn.getAllValuesInObject(this.blocks).sort(e);return t},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:at.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.getBlocksInOrder().forEach((function(o){var i=o.getId()*e.params.blockSize;i>=e.rowCount&&t.push(o)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach((function(t){return e.removeBlockFromCache(t)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var o=this,i=[],n=-1,r=!1,s=new zn;Wn.missing(e)&&(r=!0);var a=!1;this.getBlocksInOrder().forEach((function(l){a||(r&&n+1!==l.getId()?a=!0:(n=l.getId(),l.forEachNode((function(o){var n=o===e||o===t;(r||n)&&i.push(o),n&&(r=!r)}),s,o.rowCount)))}));var l=a||r;return l?[]:i},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Uv([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Uv([se("focusService")],t.prototype,"focusService",void 0),Uv([Kv(0,ue("loggerFactory"))],t.prototype,"setBeans",null),Uv([ne],t.prototype,"destroyAllBlocks",null),t}(tt),qv=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),Jv=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qv(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,o,i){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})),this.verifyProps())},t.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){var e="AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.";Wn.doOnce((function(){return console.warn(e)}),"IRM.InitialGroupOrderComparator")}},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,at.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,at.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,at.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!Wn.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getRowIdFunc(),t=null!=e;t||this.selectionService.reset(),this.resetCache();var o=this.createModelUpdatedEvent();this.eventService.dispatchEvent(o)}},t.prototype.createModelUpdatedEvent=function(){return{type:at.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new zn},this.infiniteCache=this.createBean(new Yv(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,t){return e>0?e:t},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var t;return this.forEachNode((function(o){o.id===e&&(t=o)})),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return t>o?o:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var t=this.getRowNode(e.id);return!!t},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)},Jv([se("filterManager")],t.prototype,"filterManager",void 0),Jv([se("sortController")],t.prototype,"sortController",void 0),Jv([se("selectionService")],t.prototype,"selectionService",void 0),Jv([se("rowRenderer")],t.prototype,"rowRenderer",void 0),Jv([se("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Jv([ie],t.prototype,"init",null),Jv([ne],t.prototype,"destroyDatasource",null),t=Jv([re("rowModel")],t),t}(tt),$v="29.1.0",Qv={version:$v,moduleName:de.InfiniteRowModelModule,rowModels:{infinite:Xv}},Zv=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.getFileName=function(e){var t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?e+"."+t:e},e.prototype.getData=function(e){var t=this.createSerializingSession(e),o=this.beans.gridSerializer.serialize(t,e);return o},e}(),ey=function(){function e(e){this.groupColumns=[];var t=e.columnModel,o=e.valueService,i=e.gridOptionsService,n=e.processCellCallback,r=e.processHeaderCallback,s=e.processGroupHeaderCallback,a=e.processRowGroupCallback;this.columnModel=t,this.valueService=o,this.gridOptionsService=i,this.processCellCallback=n,this.processHeaderCallback=r,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return e.prototype.prepare=function(e){this.groupColumns=e.filter((function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,o,i,n){var r=this.gridOptionsService.is("groupHideOpenParents"),s=!r&&this.shouldRenderGroupSummaryCell(n,e,t)?this.createValueForGroupNode(n):this.valueService.getValue(e,n),a=this.processCell({accumulatedRowIndex:o,rowNode:n,column:e,value:s,processCellCallback:this.processCellCallback,type:i});return null!=a?a:""},e.prototype.shouldRenderGroupSummaryCell=function(e,t,o){var i,n=e&&e.group;if(!n)return!1;var r=this.groupColumns.indexOf(t);if(-1!==r){if(null===(i=e.groupData)||void 0===i?void 0:i[t.getId()])return!0;if(e.footer&&-1===e.level){var s=t.getColDef(),a=null==s||!0===s.showRowGroup;return a||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var l=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===o&&l},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var t=e.footer,o=[e.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())while(e.parent)e=e.parent,o.push(e.key);var i=o.reverse().join(" -> ");return t?"Total "+i:i},e.prototype.processCell=function(e){var t=e.accumulatedRowIndex,o=e.rowNode,i=e.column,n=e.value,r=e.processCellCallback,s=e.type;return r?r({accumulatedRowIndex:t,column:i,node:o,value:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:s}):null!=n?n:""},e}(),ty=function(){function e(){}return e.download=function(e,t){var o=document.defaultView||window;if(o){var i=document.createElement("a"),n=o.URL.createObjectURL(t);i.setAttribute("href",n),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(i),o.setTimeout((function(){o.URL.revokeObjectURL(n)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},e}(),oy=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),iy="\r\n",ny=function(e){function t(t){var o=e.call(this,t)||this;o.isFirstLine=!0,o.result="";var i=t.suppressQuotes,n=t.columnSeparator;return o.suppressQuotes=i,o.columnSeparator=n,o}return oy(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,iy),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,o){0!==o&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,o,i){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,t,"csv",o))},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';var t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t="");var o=t.replace(/"/g,'""');return'"'+o+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=iy),this.isFirstLine=!1},t}(ey),ry=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),sy=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ry(t,e),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var t=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},t,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParams(e),o=this.getData(t),i=new Blob(["\ufeff",o],{type:"text/plain"});return ty.download(this.getFileName(t.fileName),i),o},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,t){void 0===t&&(t=!1);var o=t?Object.assign({},e):this.getMergedParams(e);return this.getData(o)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,o=t.columnModel,i=t.valueService,n=t.gridOptionsService,r=e,s=r.processCellCallback,a=r.processHeaderCallback,l=r.processGroupHeaderCallback,u=r.processRowGroupCallback,c=r.suppressQuotes,d=r.columnSeparator;return new ny({columnModel:o,valueService:i,gridOptionsService:n,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},sy([se("columnModel")],t.prototype,"columnModel",void 0),sy([se("valueService")],t.prototype,"valueService",void 0),sy([se("gridSerializer")],t.prototype,"gridSerializer",void 0),sy([se("gridOptionsService")],t.prototype,"gridOptionsService",void 0),sy([ie],t.prototype,"postConstruct",null),t=sy([re("csvCreator")],t),t}(Zv),ly=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),uy=function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(function(e){e[e["HEADER_GROUPING"]=0]="HEADER_GROUPING",e[e["HEADER"]=1]="HEADER",e[e["BODY"]=2]="BODY"})(yv||(yv={}));var cy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ly(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var o=this.getColumnsToExport(t.allColumns,t.columnKeys),i=Wn.compose(this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t));return i(e).parse()},t.prototype.processRow=function(e,t,o,i){var n=t.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsService.context,s=this.gridOptionsService.api,a=this.gridOptionsService.columnApi,l=this.gridOptionsService.is("groupRemoveSingleChildren"),u=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),c=null!=t.rowPositions,d=c||!!t.onlySelected,p=this.gridOptionsService.is("groupHideOpenParents")&&!d,h=this.columnModel.isPivotMode()?i.leafGroup:!i.group,f=t.skipGroups||t.skipRowGroups,g=u&&i.leafGroup,m=1===i.allChildrenCount&&(l||g);if(f&&t.skipGroups&&Wn.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups"),!(!h&&(t.skipRowGroups||m||p)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&"top"===i.rowPinned||t.skipPinnedBottom&&"bottom"===i.rowPinned)){var v=-1===i.level;if(!v||i.leafGroup||i.footer){var y=n({node:i,api:s,columnApi:a,context:r});if(!y){var C=e.onNewBodyRow();if(o.forEach((function(e,t){C.onColumn(e,t,i)})),t.getCustomContentBelowRow){var b=t.getCustomContentBelowRow({node:i,api:s,columnApi:a,context:r});b&&e.addCustomContent(b)}}}}},t.prototype.appendContent=function(e){return function(t){var o=e.customFooter||e.appendContent;return o&&(e.customFooter&&Wn.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),t.addCustomContent(o)),t}},t.prototype.prependContent=function(e){return function(t){var o=e.customHeader||e.prependContent;return o&&(e.customHeader&&Wn.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),t.addCustomContent(o)),t}},t.prototype.prepareSession=function(e){return function(t){return t.prepare(e),t}},t.prototype.exportColumnGroups=function(e,t){var o=this;return function(i){if(e.skipColumnGroupHeaders)e.columnGroups&&Wn.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var n=new Pt,r=o.displayedGroupCreator.createDisplayedGroups(t,o.columnModel.getGridBalancedTree(),n,null);o.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}},t.prototype.exportHeaders=function(e,t){return function(o){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&Wn.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var i=o.onNewHeaderRow();t.forEach((function(e,t){i.onColumn(e,t,void 0)}))}return o}},t.prototype.processPinnedTopRows=function(e,t){var o=this;return function(i){var n=o.processRow.bind(o,i,e,t);return e.rowPositions?e.rowPositions.filter((function(e){return"top"===e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return o.pinnedRowModel.getPinnedTopRow(e.rowIndex)})).forEach(n):o.pinnedRowModel.forEachPinnedTopRow(n),i}},t.prototype.processRows=function(e,t){var o=this;return function(i){var n=o.rowModel,r=n.getType(),s="clientSide"===r,a="serverSide"===r,l=!s&&e.onlySelected,u=o.processRow.bind(o,i,e,t),c=e.exportedRows,d=void 0===c?"filteredAndSorted":c;if(e.rowPositions)e.rowPositions.filter((function(e){return null==e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return n.getRow(e.rowIndex)})).forEach(u);else if(o.columnModel.isPivotMode())s?n.forEachPivotNode(u,!0):n.forEachNode(u);else if(e.onlySelectedAllPages||l){var p=o.selectionService.getSelectedNodes();o.replicateSortedOrder(p),p.forEach(u)}else"all"===d?n.forEachNode(u):s?n.forEachNodeAfterFilterAndSort(u,!0):a?n.forEachNodeAfterFilterAndSort(u):n.forEachNode(u);return i}},t.prototype.replicateSortedOrder=function(e){var t=this,o=this.sortController.getSortOptions(),i=function(e,n){var r,s,a,l;return null!=e.rowIndex&&null!=n.rowIndex?e.rowIndex-n.rowIndex:e.level===n.level?(null===(r=e.parent)||void 0===r?void 0:r.id)===(null===(s=n.parent)||void 0===s?void 0:s.id)?t.rowNodeSorter.compareRowNodes(o,{rowNode:e,currentPos:null!==(a=e.rowIndex)&&void 0!==a?a:-1},{rowNode:n,currentPos:null!==(l=n.rowIndex)&&void 0!==l?l:-1}):i(e.parent,n.parent):e.level>n.level?i(e.parent,n):i(e,n.parent)};e.sort(i)},t.prototype.processPinnedBottomRows=function(e,t){var o=this;return function(i){var n=o.processRow.bind(o,i,e,t);return e.rowPositions?e.rowPositions.filter((function(e){return"bottom"===e.rowPinned})).sort((function(e,t){return e.rowIndex-t.rowIndex})).map((function(e){return o.pinnedRowModel.getPinnedBottomRow(e.rowIndex)})).forEach(n):o.pinnedRowModel.forEachPinnedBottomRow(n),i}},t.prototype.getColumnsToExport=function(e,t){void 0===e&&(e=!1);var o=this.columnModel.isPivotMode();if(t&&t.length)return this.columnModel.getGridColumns(t);if(e&&!o){var i=this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([Mt]):[];return i.concat(this.columnModel.getAllPrimaryColumns()||[])}return this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,t,o){var i=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return i.push(e)}))})),e.length>0&&e[0]instanceof _t&&this.doAddHeaderHeader(t,e,o),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,o)},t.prototype.doAddHeaderHeader=function(e,t,o){var i=this,n=e.onNewHeaderGroupingRow(),r=0;t.forEach((function(e){var t,s=e;t=o?o({columnGroup:s,api:i.gridOptionsService.api,columnApi:i.gridOptionsService.columnApi,context:i.gridOptionsService.context}):i.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce((function(e,t,o,i){var n=Wn.last(e),r="open"===t.getColumnGroupShow();return r?n&&null==n[1]||(n=[o],e.push(n)):n&&null==n[1]&&(n[1]=o-1),o===i.length-1&&n&&null==n[1]&&(n[1]=o),e}),[]);n.onColumn(s,t||"",r++,s.getLeafColumns().length-1,a)}))},uy([se("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),uy([se("columnModel")],t.prototype,"columnModel",void 0),uy([se("rowModel")],t.prototype,"rowModel",void 0),uy([se("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),uy([se("selectionService")],t.prototype,"selectionService",void 0),uy([se("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),uy([se("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),uy([se("sortController")],t.prototype,"sortController",void 0),t=uy([re("gridSerializer")],t),t}(tt),dy="29.1.0",py={version:dy,moduleName:de.CsvExportModule,beans:[ay,cy]},hy="\r\n",fy=(function(){function e(){}e.createHeader=function(e){void 0===e&&(e={});var t="<?",o="?>",i=["version"];e.version||(e.version="1.0"),e.encoding&&i.push("encoding"),e.standalone&&i.push("standalone");var n=i.map((function(t){return t+'="'+e[t]+'"'})).join(" ");return t+"xml "+n+" "+o},e.createXml=function(e,t){var o=this,i="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(n){i+=o.returnAttributeIfPopulated(e.prefix+n,e.map[n],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(n){i+=o.returnAttributeIfPopulated(n,e.properties.rawMap[n],t)})));var n="<"+e.name+i;return e.children||null!=e.textNode?null!=e.textNode?n+">"+e.textNode+"</"+e.name+">"+hy:(n+=">"+hy,e.children&&e.children.forEach((function(e){n+=o.createXml(e,t)})),n+"</"+e.name+">"+hy):n+"/>"+hy},e.returnAttributeIfPopulated=function(e,t,o){if(!t&&""!==t&&0!==t)return"";var i=t;return"boolean"===typeof t&&o&&(i=o(t))," "+e+'="'+i+'"'}}(),function(e){var t="function"===typeof Symbol&&Symbol.iterator,o=t&&e[t],i=0;if(o)return o.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),gy=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),my=(function(){function e(){}e.addFolders=function(e){e.forEach(this.addFolder.bind(this))},e.addFolder=function(e){this.folders.push({path:e,created:new Date,isBase64:!1})},e.addFile=function(e,t,o){void 0===o&&(o=!1),this.files.push({path:e,created:new Date,content:t,isBase64:o})},e.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),o=this.buildUint8Array(t);return this.clearStream(),new Blob([o],{type:e})},e.clearStream=function(){this.folders=[],this.files=[]},e.buildFileStream=function(e){var t,o;void 0===e&&(e="");var i=this.folders.concat(this.files),n=i.length,r="",s=0,a=0;try{for(var l=fy(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=this.getHeader(c,s),p=d.fileHeader,h=d.folderHeader,f=d.content;s+=p.length+f.length,a+=h.length,e+=p+f,r+=h}}catch(m){t={error:m}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}var g=this.buildFolderEnd(n,a,s);return e+r+g},e.getHeader=function(e,t){var o=e.content,i=e.path,n=e.created,r=e.isBase64,s=Wn.utf8_encode,a=Wn.decToHex,l=s(i),u=l!==i,c=this.convertTime(n),d=this.convertDate(n),p="";if(u){var h=a(1,1)+a(this.getFromCrc32Table(l),4)+l;p="up"+a(h.length,2)+h}var f=o?this.getConvertedContent(o,r):{size:0,content:""},g=f.size,m=f.content,v="\n\0"+(u?"\0\b":"\0\0")+"\0\0"+a(c,2)+a(d,2)+a(g?this.getFromCrc32Table(m):0,4)+a(g,4)+a(g,4)+a(l.length,2)+a(p.length,2),y="PK"+v+l+p,C="PK\0"+v+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\0\0\0")+a(t,4)+l+p;return{fileHeader:y,folderHeader:C,content:m||""}},e.getConvertedContent=function(e,t){return void 0===t&&(t=!1),t&&(e=e.split(";base64,")[1]),e=t?atob(e):e,{size:e.length,content:e}},e.buildFolderEnd=function(e,t,o){var i=Wn.decToHex;return"PK\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(o,4)+"\0\0"},e.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),o=0;o<t.length;o++)t[o]=e.charCodeAt(o);return t},e.getFromCrc32Table=function(e){if(!e.length)return 0;for(var t=e.length,o=new Uint8Array(t),i=0;i<t;i++)o[i]=e.charCodeAt(i);var n=-1,r=0,s=0,a=0;for(i=0;i<t;i++)r=o[i],s=255&(n^r),a=gy[s],n=n>>>8^a;return-1^n},e.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t},e.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t},e.folders=[],e.files=[]}(),[Vv,Qv,py]);me.registerModules(my);var vy=o(9242);class yy{static getComponentDefinition(e,t){let o;return o="string"===typeof e?this.searchForComponentInstance(t,e):{extends:(0,i.aZ)(Object.assign({},e))},o||console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),o.extends?(o.extends.setup&&(o.setup=o.extends.setup),o.extends.props=this.addParamsToProps(o.extends.props)):o.props=this.addParamsToProps(o.props),o}static addParamsToProps(e){return!e||Array.isArray(e)&&-1===e.indexOf("params")?e=["params",...e||[]]:"object"!==typeof e||e.params||(e["params"]={type:Object}),e}static createAndMountComponent(e,t,o,i){const n=yy.getComponentDefinition(e,o);if(!n)return;const{vNode:r,destroy:s,el:a}=this.mount(n,{params:Object.freeze(t)},o,i||{});return{componentInstance:r.component.proxy,element:a,destroy:s}}static mount(e,t,o,n){let r=(0,i.Wm)(e,t);r.appContext=o.$.appContext,r.appContext.provides=Object.assign(Object.assign(Object.assign({},n),r.appContext.provides?r.appContext.provides:{}),o.$parent.$options.provide?o.$parent.$options.provide:{});let s=document.createElement("div");(0,vy.sY)(r,s);const a=()=>{s&&(0,vy.sY)(null,s),s=null,r=null};return{vNode:r,destroy:a,el:s}}static searchForComponentInstance(e,t,o=10,i=!1){let n=null,r=e.$parent,s=0;while(!n&&r&&r.$options&&++s<o){const e=r;n=e.$options&&e.$options.components?e.$options.components[t]:null,r=r.$parent}if(!n){const o=e.$.appContext.components;o&&o[t]&&(n=o[t])}return n||i?n:(console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),null)}}class Cy extends lv{constructor(e,t){super(),this.parent=e,Cy.provides||(Cy.provides=t)}createWrapper(e){const t=this;class o extends by{init(e){super.init(e)}hasMethod(e){return null!=i.getFrameworkComponentInstance()[e]}callMethod(e,t){const o=this.getFrameworkComponentInstance(),n=i.getFrameworkComponentInstance();return n[e].apply(o,t)}addMethod(e,t){i[e]=t}overrideProcessing(e){return t.parent.autoParamsRefresh&&"refresh"===e}processMethod(e,t){return"refresh"===e&&(this.getFrameworkComponentInstance().params=t[0]),this.hasMethod(e)?this.callMethod(e,t):"refresh"===e}createComponent(o){return t.createComponent(e,o)}}const i=new o;return i}createComponent(e,t){return yy.createAndMountComponent(e,t,this.parent,Cy.provides)}createMethodProxy(e,t,o){return function(){return e.overrideProcessing(t)?e.processMethod(t,arguments):e.hasMethod(t)?e.callMethod(t,arguments):(o&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}destroy(){this.parent=null}}class by{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&"function"===typeof this.getFrameworkComponentInstance().destroy&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(e){const{componentInstance:t,element:o,destroy:i}=this.createComponent(e);this.componentInstance=t,this.unmount=i,this.element=o.firstElementChild}}const wy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ey=e=>`on${e.charAt(0).toUpperCase()}${e.substring(1,e.length)}`,Sy=()=>{const e={},t=ft.PUBLIC_EVENTS.map((e=>Ey(wy(e))));t.forEach((t=>e[t]=void 0));const o={};return ft.ALL_PROPERTIES.filter((e=>"gridOptions"!=e)).forEach((t=>{e[t]={},o[t]={handler(e,o){this.processChanges(t,e,o)},deep:"popupParent"!==t&&"context"!==t}})),[e,o]};class Ry extends vf{constructor(e){super(),this.parent=e}frameworkComponent(e,t){let o=yy.searchForComponentInstance(this.parent,e,10,!0)?e:null;if(!o&&t&&t[e]){const i=t[e];o=yy.searchForComponentInstance(this.parent,i,10,!0)?i:null}return o}isFrameworkComponent(e){return"object"===typeof e}}const Oy=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],Ty="onUpdate:modelValue",_y="update:modelValue",[Py,Dy]=Sy(),Ay=(0,i.aZ)({render(){return(0,i.h)("div")},props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},Py),data(){return{gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}},watch:Object.assign({modelValue:{handler(e,t){this.processChanges("rowData",e,t)},deep:!0}},Dy),methods:{globalEventListener(e,t){this.isDestroyed||("gridReady"===e&&(this.gridReadyFired=!0),this.updateModelIfUsed(e))},processChanges(e,t,o){if(this.gridCreated){if(this.skipChange(e,t,o))return;const i={};i[e]={currentValue:"rowData"===e?Object.isFrozen(t)?t:(0,n.Xl)((0,n.IU)(t)):t,previousValue:o},ft.processOnChange(i,this.gridOptions.api)}},checkForBindingConflicts(){const e=this;(e.rowData||this.gridOptions.rowData)&&e.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const e=[];return this.gridOptions.api.forEachNode((t=>{e.push(t.data)})),e},updateModelIfUsed(e){this.gridReadyFired&&this.$attrs[Ty]&&-1!==Oy.indexOf(e)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const e=this,t=e.modelValue;return t||(e.rowData?e.rowData:e.gridOptions.rowData)},getProvides(){let e=(0,i.FN)(),t={};while(e)e&&e.provides&&(t=Object.assign(Object.assign({},t),e.provides)),e=e.parent;return t},skipChange(e,t,o){if(this.gridReadyFired&&"rowData"===e&&this.$attrs[Ty]){if(t===o)return!0;if(t&&o){const e=t,i=o;if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])return!1;return!0}}}return!1},debounce(e,t){let o;return()=>{const i=function(){e()};window.clearTimeout(o),o=window.setTimeout(i,t)}}},mounted(){this.emitRowModel=this.debounce((()=>{this.$emit(_y,Object.freeze(this.getRowData()))}),20);const e=this.getProvides(),t=new Cy(this,e),o=(0,n.Xl)(ft.copyAttributesToGridOptions((0,n.IU)(this.gridOptions),this,!0));this.checkForBindingConflicts();const i=this.getRowDataBasedOnBindings();o.rowData=i?Object.isFrozen(i)?i:(0,n.Xl)((0,n.IU)(i)):i;const r={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new Ry(this),providedBeanInstances:{frameworkComponentWrapper:t},modules:this.modules};new sv(this.$el,o,r),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}})},6237:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},8571:function(e,t,o){"use strict";o.d(t,{Ae:function(){return no}});o(541),o(7658);class i{constructor(e){this.table=e}reloadData(e,t,o){return this.table.dataLoader.load(e,void 0,void 0,void 0,t,o)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(e){return this.table.modules.layout.layout(e)}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(e){return this.table.eventBus.subscribed(e)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(e){return this.table.externalEvents.subscribed(e)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(e){return this.table.options[e]}setOption(e,t){return"undefined"!==typeof t&&(this.table.options[e]=t),this.table.options[e]}deprecationCheck(e,t){return this.table.deprecationAdvisor.check(e,t)}deprecationCheckMsg(e,t){return this.table.deprecationAdvisor.checkMsg(e,t)}deprecationMsg(e){return this.table.deprecationAdvisor.msg(e)}module(e){return this.table.module(e)}}class n{static elVisible(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}static elOffset(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(e,t,o=[]){var i={}.__proto__,n=[].__proto__;for(var r in t||(t=Object.assign(Array.isArray(e)?[]:{},e)),e){let s,a,l=e[r];null==l||"object"!==typeof l||l.__proto__!==i&&l.__proto__!==n||(s=o.findIndex((e=>e.subject===l)),s>-1?t[r]=o[s].copy:(a=Object.assign(Array.isArray(l)?[]:{},l),o.unshift({subject:l,copy:a}),t[r]=this.deepClone(l,a,o)))}return t}}class r extends i{constructor(e,t,o){super(e),this.element=t,this.container=this._lookupContainer(),this.parent=o,this.reversedX=!1,this.childPopup=null,this.blurable=!1,this.blurCallback=null,this.blurEventsBound=!1,this.renderedCallback=null,this.visible=!1,this.hideable=!0,this.element.classList.add("tabulator-popup-container"),this.blurEvent=this.hide.bind(this,!1),this.escEvent=this._escapeCheck.bind(this),this.destroyBinding=this.tableDestroyed.bind(this),this.destroyed=!1}tableDestroyed(){this.destroyed=!0,this.hide(!0)}_lookupContainer(){var e=this.table.options.popupContainer;return"string"===typeof e?(e=document.querySelector(e),e||console.warn("Menu Error - no container element found matching selector:",this.table.options.popupContainer,"(defaulting to document body)")):!0===e&&(e=this.table.element),e&&!this._checkContainerIsParent(e)&&(e=!1,console.warn("Menu Error - container element does not contain this table:",this.table.options.popupContainer,"(defaulting to document body)")),e||(e=document.body),e}_checkContainerIsParent(e,t=this.table.element){return e===t||!!t.parentNode&&this._checkContainerIsParent(e,t.parentNode)}renderCallback(e){this.renderedCallback=e}containerEventCoords(e){var t=!(e instanceof MouseEvent),o=t?e.touches[0].pageX:e.pageX,i=t?e.touches[0].pageY:e.pageY;if(this.container!==document.body){let e=n.elOffset(this.container);o-=e.left,i-=e.top}return{x:o,y:i}}elementPositionCoords(e,t="right"){var o,i,r,s=n.elOffset(e);switch(this.container!==document.body&&(o=n.elOffset(this.container),s.left-=o.left,s.top-=o.top),t){case"right":i=s.left+e.offsetWidth,r=s.top-1;break;case"bottom":i=s.left,r=s.top+e.offsetHeight;break;case"left":i=s.left,r=s.top-1;break;case"top":i=s.left,r=s.top;break;case"center":i=s.left+e.offsetWidth/2,r=s.top+e.offsetHeight/2;break}return{x:i,y:r,offset:s}}show(e,t){var o,i,n,r,s;return this.destroyed||this.table.destroyed||(e instanceof HTMLElement?(n=e,s=this.elementPositionCoords(e,t),r=s.offset,o=s.x,i=s.y):"number"===typeof e?(r={top:0,left:0},o=e,i=t):(s=this.containerEventCoords(e),o=s.x,i=s.y,this.reversedX=!1),this.element.style.top=i+"px",this.element.style.left=o+"px",this.container.appendChild(this.element),"function"===typeof this.renderedCallback&&this.renderedCallback(),this._fitToScreen(o,i,n,r,t),this.visible=!0,this.subscribe("table-destroy",this.destroyBinding),this.element.addEventListener("mousedown",(e=>{e.stopPropagation()}))),this}_fitToScreen(e,t,o,i,n){var r=this.container===document.body?document.documentElement.scrollTop:this.container.scrollTop;if((e+this.element.offsetWidth>=this.container.offsetWidth||this.reversedX)&&(this.element.style.left="",this.element.style.right=o?this.container.offsetWidth-i.left+"px":this.container.offsetWidth-e+"px",this.reversedX=!0),t+this.element.offsetHeight>Math.max(this.container.offsetHeight,r?this.container.scrollHeight:0))if(o)switch(n){case"bottom":this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight-o.offsetHeight-1+"px";break;default:this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+o.offsetHeight+1+"px"}else this.element.style.top=parseInt(this.element.style.top)-this.element.offsetHeight+"px"}isVisible(){return this.visible}hideOnBlur(e){return this.blurable=!0,this.visible&&(setTimeout((()=>{this.visible&&(this.table.rowManager.element.addEventListener("scroll",this.blurEvent),this.subscribe("cell-editing",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),document.body.addEventListener("mousedown",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent),this.blurEventsBound=!0)}),100),this.blurCallback=e),this}_escapeCheck(e){27==e.keyCode&&this.hide()}blockHide(){this.hideable=!1}restoreHide(){this.hideable=!0}hide(e=!1){return this.visible&&this.hideable&&(this.blurable&&this.blurEventsBound&&(document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),document.body.removeEventListener("mousedown",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent),this.unsubscribe("cell-editing",this.blurEvent),this.blurEventsBound=!1),this.childPopup&&this.childPopup.hide(),this.parent&&(this.parent.childPopup=null),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.visible=!1,this.blurCallback&&!e&&this.blurCallback(),this.unsubscribe("table-destroy",this.destroyBinding)),this}child(e){return this.childPopup&&this.childPopup.hide(),this.childPopup=new r(this.table,e,this),this.childPopup}}class s extends i{constructor(e,t){super(e),this._handler=null}initialize(){}registerTableOption(e,t){this.table.optionsList.register(e,t)}registerColumnOption(e,t){this.table.columnManager.optionsList.register(e,t)}registerTableFunction(e,t){"undefined"===typeof this.table[e]?this.table[e]=(...o)=>(this.table.initGuard(e),t(...o)):console.warn("Unable to bind table function, name already in use",e)}registerComponentFunction(e,t,o){return this.table.componentFunctionBinder.bind(e,t,o)}registerDataHandler(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}registerDisplayHandler(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}displayRows(e){var t,o=this.table.rowManager.displayRows.length-1;if(this._handler&&(t=this.table.rowManager.displayPipeline.findIndex((e=>e.handler===this._handler)),t>-1&&(o=t)),e&&(o+=e),this._handler)return o>-1?this.table.rowManager.getDisplayRows(o):this.activeRows()}activeRows(){return this.table.rowManager.activeRows}refreshData(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}footerAppend(e){return this.table.footerManager.append(e)}footerPrepend(e){return this.table.footerManager.prepend(e)}footerRemove(e){return this.table.footerManager.remove(e)}popup(e,t){return new r(this.table,e,t)}alert(e,t){return this.table.alertManager.alert(e,t)}clearAlert(){return this.table.alertManager.clear()}}var a={};class l extends s{constructor(e){super(e),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(e){var t=!1,o={};this.allowedTypes.forEach((i=>{var n,r="accessor"+(i.charAt(0).toUpperCase()+i.slice(1));e.definition[r]&&(n=this.lookupAccessor(e.definition[r]),n&&(t=!0,o[r]={accessor:n,params:e.definition[r+"Params"]||{}}))})),t&&(e.modules.accessor=o)}lookupAccessor(e){var t=!1;switch(typeof e){case"string":l.accessors[e]?t=l.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t){var o="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),i=e.getComponent(),r=n.deepClone(e.data||{});return this.table.columnManager.traverse((function(e){var n,s,a,l;e.modules.accessor&&(s=e.modules.accessor[o]||e.modules.accessor.accessor||!1,s&&(n=e.getFieldValue(r),"undefined"!=n&&(l=e.getComponent(),a="function"===typeof s.params?s.params(n,r,t,l,i):s.params,e.setFieldValue(r,s.accessor(n,r,t,a,l,i)))))})),r}}l.moduleName="accessor",l.accessors=a;var u={method:"GET"};function c(e,t){var o=[];if(t=t||"",Array.isArray(e))e.forEach(((e,i)=>{o=o.concat(c(e,t?t+"["+i+"]":i))}));else if("object"===typeof e)for(var i in e)o=o.concat(c(e[i],t?t+"["+i+"]":i));else o.push({key:t,value:e});return o}function d(e){var t=c(e),o=[];return t.forEach((function(e){o.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))})),o.join("&")}function p(e,t,o){return e&&o&&Object.keys(o).length&&(t.method&&"get"!=t.method.toLowerCase()||(t.method="get",e+=(e.includes("?")?"&":"?")+d(o))),e}function h(e,t,o){var i;return new Promise(((n,r)=>{if(e=this.urlGenerator.call(this.table,e,t,o),"GET"!=t.method.toUpperCase())if(i="object"===typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType],i){for(var s in i.headers)t.headers||(t.headers={}),"undefined"===typeof t.headers[s]&&(t.headers[s]=i.headers[s]);t.body=i.body.call(this,e,t,o)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);e?("undefined"===typeof t.headers&&(t.headers={}),"undefined"===typeof t.headers.Accept&&(t.headers.Accept="application/json"),"undefined"===typeof t.headers["X-Requested-With"]&&(t.headers["X-Requested-With"]="XMLHttpRequest"),"undefined"===typeof t.mode&&(t.mode="cors"),"cors"==t.mode?("undefined"===typeof t.headers["Origin"]&&(t.headers["Origin"]=window.location.origin),"undefined"===typeof t.credentials&&(t.credentials="same-origin")):"undefined"===typeof t.credentials&&(t.credentials="include"),fetch(e,t).then((e=>{e.ok?e.json().then((e=>{n(e)})).catch((e=>{r(e),console.warn("Ajax Load Error - Invalid JSON returned",e)})):(console.error("Ajax Load Error - Connection Error: "+e.status,e.statusText),r(e))})).catch((e=>{console.error("Ajax Load Error - Connection Error: ",e),r(e)}))):(console.warn("Ajax Load Error - No URL Set"),n([]))}))}function f(e,t){var o=[];if(t=t||"",Array.isArray(e))e.forEach(((e,i)=>{o=o.concat(f(e,t?t+"["+i+"]":i))}));else if("object"===typeof e)for(var i in e)o=o.concat(f(e[i],t?t+"["+i+"]":i));else o.push({key:t,value:e});return o}var g={json:{headers:{"Content-Type":"application/json"},body:function(e,t,o){return JSON.stringify(o)}},form:{headers:{},body:function(e,t,o){var i=f(o),n=new FormData;return i.forEach((function(e){n.append(e.key,e.value)})),n}}};class m extends s{constructor(e){super(e),this.config={},this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",(function(){})),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=m.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||m.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||m.defaultURLGenerator,this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.setDefaultConfig(this.table.options.ajaxConfig),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-params",this.requestParams.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestParams(e,t,o,i){var n=this.table.options.ajaxParams;return n&&("function"===typeof n&&(n=n.call(this.table)),i=Object.assign(i,n)),i}requestDataCheck(e,t,o,i){return!((e||!this.url)&&"string"!==typeof e)}requestData(e,t,o,i,n){var r;return!n&&this.requestDataCheck(e)?(e&&this.setUrl(e),r=this.generateConfig(o),this.sendRequest(this.url,t,r)):n}setDefaultConfig(e={}){this.config=Object.assign({},m.defaultConfig),"string"==typeof e?this.config.method=e:Object.assign(this.config,e)}generateConfig(e={}){var t=Object.assign({},this.config);return"string"==typeof e?t.method=e:Object.assign(t,e),t}setUrl(e){this.url=e}getUrl(){return this.url}sendRequest(e,t,o){return!1!==this.table.options.ajaxRequesting.call(this.table,e,t)?this.loaderPromise(e,o,t).then((o=>(this.table.options.ajaxResponse&&(o=this.table.options.ajaxResponse.call(this.table,e,t,o)),o))):Promise.reject()}}m.moduleName="ajax",m.defaultConfig=u,m.defaultURLGenerator=p,m.defaultLoaderPromise=h,m.contentTypeFormatters=g;var v={replace:function(e){return this.table.setData(e)},update:function(e){return this.table.updateOrAddData(e)},insert:function(e){return this.table.addData(e)}},y={table:function(e){var t=[],o=!0,i=this.table.columnManager.columns,n=[],r=[];return e=e.split("\n"),e.forEach((function(e){t.push(e.split("\t"))})),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach((function(e){var t=i.find((function(t){return e&&t.definition.title&&e.trim()&&t.definition.title.trim()===e.trim()}));t?n.push(t):o=!1})),o||(o=!0,n=[],t[0].forEach((function(e){var t=i.find((function(t){return e&&t.field&&e.trim()&&t.field.trim()===e.trim()}));t?n.push(t):o=!1})),o||(n=this.table.columnManager.columnsByIndex)),o&&t.shift(),t.forEach((function(e){var t={};e.forEach((function(e,o){n[o]&&(t[n[o].field]=e)})),r.push(t)})),r)}};class C extends s{constructor(e){super(e),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(e=>{var t,o,i;this.blocked||(e.preventDefault(),this.customSelection?(t=this.customSelection,this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t))):(i=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard"),o=this.table.modules.export.generateHTMLTable(i),t=o?this.generatePlainContent(i):"",this.table.options.clipboardCopyFormatter&&(t=this.table.options.clipboardCopyFormatter("plain",t),o=this.table.options.clipboardCopyFormatter("html",o))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",t):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",t),o&&e.clipboardData.setData("text/html",o)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",t),o&&e.originalEvent.clipboardData.setData("text/html",o)),this.dispatchExternal("clipboardCopied",t,o),this.reset())})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(e=>{this.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(e){var t=[];return e.forEach((e=>{var o=[];e.columns.forEach((t=>{var i="";if(t)if("group"===e.type&&(t.value=t.component.getKey()),null===t.value)i="";else switch(typeof t.value){case"object":i=JSON.stringify(t.value);break;case"undefined":i="";break;default:i=t.value}o.push(i)})),t.push(o.join("\t"))})),t.join("\n")}copy(e,t){var o,i;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=e||this.table.options.clipboardCopyRowRange,"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange?(e=document.createRange(),e.selectNodeContents(this.table.element),o=window.getSelection(),o.toString()&&t&&(this.customSelection=o.toString()),o.removeAllRanges(),o.addRange(e)):"undefined"!=typeof document.selection&&"undefined"!=typeof document.body.createTextRange&&(i=document.body.createTextRange(),i.moveToElementText(this.table.element),i.select()),document.execCommand("copy"),o&&o.removeAllRanges())}setPasteAction(e){switch(typeof e){case"string":this.pasteAction=C.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e;break}}setPasteParser(e){switch(typeof e){case"string":this.pasteParser=C.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e;break}}paste(e){var t,o,i;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),o=this.pasteParser.call(this,t),o?(e.preventDefault(),this.table.modExists("mutator")&&(o=this.mutateData(o)),i=this.pasteAction.call(this,o),this.dispatchExternal("clipboardPasted",t,o,i)):this.dispatchExternal("clipboardPasteError",t))}mutateData(e){var t=[];return Array.isArray(e)?e.forEach((e=>{t.push(this.table.modules.mutator.transformRow(e,"clipboard"))})):t=e,t}checkPaseOrigin(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t}getPasteData(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}C.moduleName="clipboard",C.pasteActions=v,C.pasteParsers=y;class b{constructor(e){return this._row=e,new Proxy(this,{get:function(e,t,o){return"undefined"!==typeof e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e}getCell(e){var t=this._row.getCell(e);return!!t&&t.getComponent()}_getSelf(){return this._row}}class w{constructor(e){return this._cell=e,new Proxy(this,{get:function(e,t,o){return"undefined"!==typeof e[t]?e[t]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,t)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(e,t){"undefined"==typeof t&&(t=!0),this._cell.setValue(e,t)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class E extends i{constructor(e,t){super(e.table),this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell")}_configureCell(){var e=this.element,t=this.column.getField(),o={top:"flex-start",bottom:"flex-end",middle:"center"},i={left:"flex-start",right:"flex-end",center:"center"};if(e.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(e.style.display="inline-flex",e.style.alignItems=o[this.column.vertAlign]||"",this.column.hozAlign&&(e.style.justifyContent=i[this.column.hozAlign]||"")),t&&e.setAttribute("tabulator-field",t),this.column.definition.cssClass){var n=this.column.definition.cssClass.split(" ");n.forEach((t=>{e.classList.add(t)}))}this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var e;switch(e=this.chain("cell-format",this,null,(()=>this.element.innerHTML=this.value)),typeof e){case"object":if(e instanceof Node){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":this.element.innerHTML="";break;default:this.element.innerHTML=e}}cellRendered(){this.dispatch("cell-rendered",this)}getElement(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(e,t,o){var i=this.setValueProcessData(e,t,o);i&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.column.definition.cellEdited&&this.column.definition.cellEdited.call(this.table,this.getComponent()),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(e,t,o){var i=!1;return(this.value!==e||o)&&(i=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),i&&this.dispatch("cell-value-changed",this),i}setValueActual(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null,this.dispatch("cell-height",this,"")}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled,this.dispatch("cell-height",this,this.row.heightStyled)}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new w(this)),this.component}}class S{constructor(e){return this._column=e,this.type="ColumnComponent",new Proxy(this,{get:function(e,t,o){return"undefined"!==typeof e[t]?e[t]:e._column.table.componentFunctionBinder.handle("column",e._column,t)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getTitleDownload(){return this._column.getTitleDownload()}getCells(){var e=[];return this._column.cells.forEach((function(t){e.push(t.getComponent())})),e}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach((function(e){e.show()})):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach((function(e){e.hide()})):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var e=[];return this._column.columns.length&&this._column.columns.forEach((function(t){e.push(t.getComponent())})),e}getParentColumn(){return this._column.parent instanceof O&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(e,t){var o=this._column.table.columnManager.findColumn(e);o?this._column.table.columnManager.moveColumn(this._column,o,t):console.warn("Move Error - No matching column found:",o)}getNextColumn(){var e=this._column.nextColumn();return!!e&&e.getComponent()}getPrevColumn(){var e=this._column.prevColumn();return!!e&&e.getComponent()}updateDefinition(e){return this._column.updateDefinition(e)}getWidth(){return this._column.getWidth()}setWidth(e){var t;return t=!0===e?this._column.reinitializeWidth(!0):this._column.setWidth(e),this._column.table.columnManager.rerenderColumns(!0),t}}var R={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,maxInitialWidth:void 0,cssClass:void 0,variableHeight:void 0,headerVertical:void 0,headerHozAlign:void 0,headerWordWrap:!1,editableTitle:void 0};class O extends i{constructor(e,t){super(t.table),this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleDownload=null,this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.maxInitialWidth=null,this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach(((e,t)=>{var o=new O(e,this);this.attachColumn(o)})),this.checkColumnVisibility()):t.registerColumnField(this),this._initialize()}createElement(){var e=document.createElement("div");switch(e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),this.table.options.columnHeaderVertAlign){case"middle":e.style.justifyContent="center";break;case"bottom":e.style.justifyContent="flex-end";break}return e}createGroupElement(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}mapDefinitions(){var e=this.table.options.columnDefaults;if(e)for(let t in e)"undefined"===typeof this.definition[t]&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(O.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach((e=>{-1===O.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",e)}))}setField(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(e){this.parent.registerColumnPosition(e)}registerColumnField(e){this.parent.registerColumnField(e)}reRegisterPosition(){this.isGroup?this.columns.forEach((function(e){e.reRegisterPosition()})):this.registerColumnPosition(this)}_initialize(){var e=this.definition;while(this.element.firstChild)this.element.removeChild(this.element.firstChild);e.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.dispatch("column-init",this)}_buildColumnHeader(){var e=this.definition;if(this.dispatch("column-layout",this),"undefined"!=typeof e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass){var t=e.cssClass.split(" ");t.forEach((e=>{this.element.classList.add(e)}))}e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(parseInt(e.minWidth)),e.maxInitialWidth&&(this.maxInitialWidth=parseInt(e.maxInitialWidth)),e.maxWidth&&this.setMaxWidth(parseInt(e.maxWidth)),this.reinitializeWidth(),this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}_buildColumnHeaderTitle(){var e=this.definition,t=document.createElement("div");if(t.classList.add("tabulator-col-title"),e.headerWordWrap&&t.classList.add("tabulator-col-title-wrap"),e.editableTitle){var o=document.createElement("input");o.classList.add("tabulator-title-editor"),o.addEventListener("click",(e=>{e.stopPropagation(),o.focus()})),o.addEventListener("change",(()=>{e.title=o.value,this.dispatchExternal("columnTitleChanged",this.getComponent())})),t.appendChild(o),e.field?this.langBind("columns|"+e.field,(t=>{o.value=t||e.title||"&nbsp;"})):o.value=e.title||"&nbsp;"}else e.field?this.langBind("columns|"+e.field,(o=>{this._formatColumnHeaderTitle(t,o||e.title||"&nbsp;")})):this._formatColumnHeaderTitle(t,e.title||"&nbsp;");return t}_formatColumnHeaderTitle(e,t){var o=this.chain("column-format",[this,t,e],null,(()=>t));switch(typeof o){case"object":o instanceof Node?e.appendChild(o):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",o));break;case"undefined":e.innerHTML="";break;default:e.innerHTML=o}}_buildGroupHeader(){if(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass){var e=this.definition.cssClass.split(" ");e.forEach((e=>{this.element.classList.add(e)}))}this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(e){return e[this.field]}_getNestedData(e){var t,o=e,i=this.fieldStructure,n=i.length;for(let r=0;r<n;r++)if(o=o[i[r]],t=o,!o)break;return t}_setFlatData(e,t){this.field&&(e[this.field]=t)}_setNestedData(e,t){var o=e,i=this.fieldStructure,n=i.length;for(let r=0;r<n;r++)if(r==n-1)o[i[r]]=t;else{if(!o[i[r]]){if("undefined"===typeof t)break;o[i[r]]={}}o=o[i[r]]}}attachColumn(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement()),e.columnRendered()):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(e,t){var o=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=o+"px",this.dispatch("column-height",this,this.element.style.height),this.isGroup&&(this.groupElement.style.minHeight=o-this.contentElement.offsetHeight+"px"),this.columns.forEach((function(t){t.verticalAlign(e)}))}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(e){e.clearVerticalAlign()})),this.dispatch("column-height",this,"")}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getTitleDownload(){return this.titleDownload}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(e){var t=[];return e?this.columns.forEach((e=>{t.push(e),t=t.concat(e.getColumns(!0))})):t=this.columns,t}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(e){var t=[];return this.isGroup&&e&&(this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),this.definition.columns=t),this.definition}checkColumnVisibility(){var e=!1;this.columns.forEach((function(t){t.visible&&(e=!0)})),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}hide(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.hide()})),this.dispatch("column-hide",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.rerenderColumns())}matchChildWidths(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}setWidth(e){this.widthFixed=!0,this.setWidthActual(e)}setWidthActual(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(e){e.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var e=[];this.cells.forEach((function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)})),e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()}))}getWidth(){var e=0;return this.isGroup?this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})):e=this.width,e}getLeftOffset(){var e=this.element.offsetLeft;return this.parent.isGroup&&(e+=this.parent.getLeftOffset()),e}getHeight(){return Math.ceil(this.element.getBoundingClientRect().height)}setMinWidth(e){this.maxWidth&&e>this.maxWidth&&(e=this.maxWidth,console.warn("the minWidth ("+e+"px) for column '"+this.field+"' cannot be bigger that its maxWidth ("+this.maxWidthStyled+")")),this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(e){e.setMinWidth()}))}setMaxWidth(e){this.minWidth&&e<this.minWidth&&(e=this.minWidth,console.warn("the maxWidth ("+e+"px) for column '"+this.field+"' cannot be smaller that its minWidth ("+this.minWidthStyled+")")),this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(e){e.setMaxWidth()}))}delete(){return new Promise(((e,t)=>{this.isGroup&&this.columns.forEach((function(e){e.delete()})),this.dispatch("column-delete",this);var o=this.cells.length;for(let i=0;i<o;i++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.rerenderColumns(!0),e()}))}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered(),this.dispatch("column-rendered",this)}generateCell(e){var t=new E(this,e);return this.cells.push(t),t}nextColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}_nextVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}prevColumn(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}_prevVisibleColumn(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}reinitializeWidth(e){this.widthFixed=!1,"undefined"===typeof this.definition.width||e||this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(e),this.dispatch("column-width-fit-after",this)}fitToData(e){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach((e=>{e.clearWidth()})));var t=this.element.offsetWidth;if((!this.width||!this.widthFixed)&&(this.cells.forEach((e=>{var o=e.getWidth();o>t&&(t=o)})),t)){var o=t+1;this.maxInitialWidth&&!e&&(o=Math.min(o,this.maxInitialWidth)),this.setWidthActual(o)}}}updateDefinition(e){var t;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then((e=>(t.field==this.field&&(this.field=!1),this.delete().then((()=>e.getComponent()))))))}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}getComponent(){return this.component||(this.component=new S(this)),this.component}}O.defaultOptionList=R;class T{constructor(e){return this._row=e,new Proxy(this,{get:function(e,t,o){return"undefined"!==typeof e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}getData(e){return this._row.getData(e)}getElement(){return this._row.getElement()}getCells(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e}getCell(e){var t=this._row.getCell(e);return!!t&&t.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(){return this._row.getPosition()}watchPosition(e){return this._row.watchPosition(e)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(e,t){this._row.moveToRow(e,t)}update(e){return this._row.updateData(e)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var e=this._row.nextRow();return e?e.getComponent():e}getPrevRow(){var e=this._row.prevRow();return e?e.getComponent():e}}class _ extends i{constructor(e,t,o="row"){super(t.table),this.parent=t,this.data={},this.type=o,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.position=0,this.positionWatchers=[],this.component=null,this.created=!1,this.setData(e)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(e){if(this.create(),!this.initialized||e){this.deleteCells();while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.initialized=!0,this.table.columnManager.renderer.renderRowCells(this),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitialize(){this.initialized=!1}deinitializeHeight(){this.heightInitialized=!1}reinitialize(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(e){var t,o=0;this.table.options.rowHeight?this.height=this.table.options.rowHeight:(t=this.table.options.resizableRows?this.element.clientHeight:0,this.cells.forEach((function(e){var t=e.getHeight();t>o&&(o=t)})),this.height=e?Math.max(o,t):this.manualHeight?this.height:Math.max(o,t)),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach((function(e){e.setHeight()})),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach((function(e){e.clearHeight()}))}normalizeHeight(e){e&&!this.table.options.rowHeight&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}setHeight(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}setData(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}updateData(e){var t,o=this.element&&n.elVisible(this.element),i={};return new Promise(((n,r)=>{"string"===typeof e&&(e=JSON.parse(e)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(i=Object.assign(i,this.data),i=Object.assign(i,e)),t=this.chain("row-data-changing",[this,i,e],null,e);for(let e in t)this.data[e]=t[e];this.dispatch("row-data-save-after",this);for(let i in e){let e=this.table.columnManager.getColumnsByFieldRoot(i);e.forEach((e=>{let i=this.getCell(e.getField());if(i){let n=e.getFieldValue(t);i.getValue()!==n&&(i.setValueProcessData(n),o&&i.cellRendered())}}))}o?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,o,e),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),n()}))}getData(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}getCell(e){var t=!1;return e=this.table.columnManager.findColumn(e),this.initialized||0!==this.cells.length||this.generateCells(),t=this.cells.find((function(t){return t.column===e})),t}getCellIndex(e){return this.cells.findIndex((function(t){return t===e}))}findCell(e){return this.cells.find((t=>t.element===e))}getCells(){return this.initialized||0!==this.cells.length||this.generateCells(),this.cells}nextRow(){var e=this.table.rowManager.nextDisplayRow(this,!0);return e||!1}prevRow(){var e=this.table.rowManager.prevDisplayRow(this,!0);return e||!1}moveToRow(e,t){var o=this.table.rowManager.findRow(e);o?(this.table.rowManager.moveRowActual(this,o,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(e){this.detachModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detachModules(){this.dispatch("row-deleting",this)}deleteCells(){var e=this.cells.length;for(let t=0;t<e;t++)this.cells[0].delete()}wipe(){if(this.detachModules(),this.deleteCells(),this.element){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}isDisplayed(){return this.table.rowManager.getDisplayRows().includes(this)}getPosition(){return!!this.isDisplayed()&&this.position}setPosition(e){e!=this.position&&(this.position=e,this.positionWatchers.forEach((e=>{e(this.position)})))}watchPosition(e){this.positionWatchers.push(e),e(this.position)}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new T(this)),this.component}}var P={avg:function(e,t,o){var i=0,n="undefined"!==typeof o.precision?o.precision:2;return e.length&&(i=e.reduce((function(e,t){return Number(e)+Number(t)})),i/=e.length,i=!1!==n?i.toFixed(n):i),parseFloat(i).toString()},max:function(e,t,o){var i=null,n="undefined"!==typeof o.precision&&o.precision;return e.forEach((function(e){e=Number(e),(e>i||null===i)&&(i=e)})),null!==i?!1!==n?i.toFixed(n):i:""},min:function(e,t,o){var i=null,n="undefined"!==typeof o.precision&&o.precision;return e.forEach((function(e){e=Number(e),(e<i||null===i)&&(i=e)})),null!==i?!1!==n?i.toFixed(n):i:""},sum:function(e,t,o){var i=0,n="undefined"!==typeof o.precision&&o.precision;return e.length&&e.forEach((function(e){e=Number(e),i+=isNaN(e)?0:Number(e)})),!1!==n?i.toFixed(n):i},concat:function(e,t,o){var i=0;return e.length&&(i=e.reduce((function(e,t){return String(e)+String(t)}))),i},count:function(e,t,o){var i=0;return e.length&&e.forEach((function(e){e&&i++})),i}};class D extends s{constructor(e){super(e),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.blocked=!1,this.recalcAfterBlock=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}initialize(){this.genColumn=new O({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refreshed",this.recalcActiveRowsRefresh.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this)),this.subscribe("redraw-blocked",this.blockRedraw.bind(this)),this.subscribe("redraw-restored",this.restoreRedraw.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this)),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}tableRedraw(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}blockRedraw(){this.blocked=!0,this.recalcAfterBlock=!1}restoreRedraw(){this.blocked=!1,this.recalcAfterBlock&&(this.recalcAfterBlock=!1,this.recalcActiveRowsRefresh())}userRecalc(){this.recalc(this.table.rowManager.activeRows)}blockCheck(){return this.blocked&&(this.recalcAfterBlock=!0),this.blocked}visibleRows(e,t){return this.topRow&&t.unshift(this.topRow),this.botRow&&t.push(this.botRow),t}rowsUpdated(e){this.table.options.groupBy?this.recalcRowGroup(e):this.recalcActiveRows()}recalcActiveRowsRefresh(){this.table.options.groupBy&&this.table.options.dataTreeStartExpanded&&this.table.options.dataTree?this.recalcAll():this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}initializeColumnCheck(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}initializeColumn(e){var t=e.definition,o={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":D.calculations[t.topCalc]?o.topCalc=D.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":o.topCalc=t.topCalc;break}o.topCalc&&(e.modules.columnCalcs=o,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":D.calculations[t.bottomCalc]?o.botCalc=D.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":o.botCalc=t.bottomCalc;break}o.botCalc&&(e.modules.columnCalcs=o,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.footerRemove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}reinitializeCalcs(){this.topCalcs.length&&this.initializeTopRow(),this.botCalcs.length&&this.initializeBottomRow()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.footerPrepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(e){this.botInitialized&&this.botRow&&(this.botElement.scrollLeft=e)}recalc(e){var t,o;if(!this.blockCheck()&&(this.topInitialized||this.botInitialized)){if(t=this.rowsToData(e),this.topInitialized){this.topRow&&this.topRow.deleteCells(),o=this.generateRow("top",t),this.topRow=o;while(this.topElement.firstChild)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(o.getElement()),o.initialize(!0)}if(this.botInitialized){this.botRow&&this.botRow.deleteCells(),o=this.generateRow("bottom",t),this.botRow=o;while(this.botElement.firstChild)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(o.getElement()),o.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}recalcAll(){if((this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)){var e=this.table.modules.groupRows.getChildGroups();e.forEach((e=>{this.recalcGroup(e)}))}}recalcGroup(e){var t,o;this.blockCheck()||e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),o=this.generateRowData("bottom",t),e.calcs.bottom.updateData(o),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),o=this.generateRowData("top",t),e.calcs.top.updateData(o),e.calcs.top.reinitialize()))}generateTopRow(e){return this.generateRow("top",this.rowsToData(e))}generateBottomRow(e){return this.generateRow("bottom",this.rowsToData(e))}rowsToData(e){var t=[];return e.forEach((e=>{if(t.push(e.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&e.modules.dataTree&&e.modules.dataTree.open){var o=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(e));t=t.concat(o)}})),t}generateRow(e,t){var o,i=this.generateRowData(e,t);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),o=new _(i,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),o.component=!1,o.getComponent=()=>(o.component||(o.component=new b(o)),o.component),o.generateCells=()=>{var t=[];this.table.columnManager.columnsByIndex.forEach((i=>{this.genColumn.setField(i.getField()),this.genColumn.hozAlign=i.hozAlign,i.definition[e+"CalcFormatter"]&&this.table.modExists("format")?this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter(i.definition[e+"CalcFormatter"]),params:i.definition[e+"CalcFormatterParams"]||{}}:this.genColumn.modules.format={formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=i.definition.cssClass;var n=new E(this.genColumn,o);n.getElement(),n.column=i,n.setWidth(),i.cells.push(n),t.push(n),i.visible||n.hide()})),o.cells=t},o}generateRowData(e,t){var o,i,n={},r="top"==e?this.topCalcs:this.botCalcs,s="top"==e?"topCalc":"botCalc";return r.forEach((function(e){var r=[];e.modules.columnCalcs&&e.modules.columnCalcs[s]&&(t.forEach((function(t){r.push(e.getFieldValue(t))})),i=s+"Params",o="function"===typeof e.modules.columnCalcs[i]?e.modules.columnCalcs[i](r,t):e.modules.columnCalcs[i],e.setFieldValue(n,e.modules.columnCalcs[s](r,t,o)))})),n}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var e,t={};return this.table.options.groupBy&&this.table.modExists("groupRows")?(e=this.table.modules.groupRows.getGroups(!0),e.forEach((e=>{t[e.getKey()]=this.getGroupResults(e)}))):t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},t}getGroupResults(e){var t=e._getSelf(),o=e.getSubGroups(),i={},n={};return o.forEach((e=>{i[e.getKey()]=this.getGroupResults(e)})),n={top:t.calcs.top?t.calcs.top.getData():{},bottom:t.calcs.bottom?t.calcs.bottom.getData():{},groups:i},n}adjustForScrollbar(e){this.botRow&&(this.table.rtl?this.botElement.style.paddingLeft=e+"px":this.botElement.style.paddingRight=e+"px")}}D.moduleName="columnCalcs",D.calculations=P;class A extends s{constructor(e){super(e),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this)),this.registerComponentFunction("row","isTreeExpanded",this.isRowExpanded.bind(this))}initialize(){if(this.table.options.dataTree){var e=null,t=this.table.options;switch(this.field=t.dataTreeChildField,this.indent=t.dataTreeChildIndent,this.options("movableRows")&&console.warn("The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior"),t.dataTreeBranchElement&&(!0===t.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"===typeof t.dataTreeBranchElement?(e=document.createElement("div"),e.innerHTML=t.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=t.dataTreeBranchElement),t.dataTreeCollapseElement?"string"===typeof t.dataTreeCollapseElement?(e=document.createElement("div"),e.innerHTML=t.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=t.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),t.dataTreeExpandElement?"string"===typeof t.dataTreeExpandElement?(e=document.createElement("div"),e.innerHTML=t.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=t.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof t.dataTreeStartExpanded){case"boolean":this.startOpen=function(e,o){return t.dataTreeStartExpanded};break;case"function":this.startOpen=t.dataTreeStartExpanded;break;default:this.startOpen=function(e,o){return t.dataTreeStartExpanded[o]};break}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("cell-value-updated",this.cellValueChanged.bind(this)),this.subscribe("edit-cancelled",this.cellValueChanged.bind(this)),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.subscribe("table-built",this.initializeElementField.bind(this)),this.subscribe("table-redrawing",this.tableRedrawing.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}tableRedrawing(e){var t;e&&(t=this.table.rowManager.getRows(),t.forEach((e=>{this.reinitializeRowChildren(e)})))}initializeElementField(){var e=this.table.columnManager.getFirstVisibleColumn();this.elementField=this.table.options.dataTreeElementColumn||!!e&&e.field}getRowChildren(e){return this.getTreeChildren(e,!0)}columnMoving(){var e=[];return this.table.rowManager.rows.forEach((t=>{e=e.concat(this.getTreeChildren(t,!1,!0))})),e}rowDataChanged(e,t,o){this.redrawNeeded(o)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}cellValueChanged(e){var t=e.column.getField();t===this.elementField&&this.layoutRow(e.row)}initializeRow(e){var t=e.getData()[this.field],o=Array.isArray(t),i=o||!o&&"object"===typeof t&&null!==t;!i&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!i&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!i&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!i)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!i)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:i}}reinitializeRowChildren(e){var t=this.getTreeChildren(e,!1,!0);t.forEach((function(e){e.reinitialize(!0)}))}layoutRow(e){var t=this.elementField?e.getCell(this.elementField):e.getCells()[0],o=t.getElement(),i=e.modules.dataTree;i.branchEl&&(i.branchEl.parentNode&&i.branchEl.parentNode.removeChild(i.branchEl),i.branchEl=!1),i.controlEl&&(i.controlEl.parentNode&&i.controlEl.parentNode.removeChild(i.controlEl),i.controlEl=!1),this.generateControlElement(e,o),e.getElement().classList.add("tabulator-tree-level-"+i.index),i.index&&(this.branchEl?(i.branchEl=this.branchEl.cloneNode(!0),o.insertBefore(i.branchEl,o.firstChild),this.table.rtl?i.branchEl.style.marginRight=(i.branchEl.offsetWidth+i.branchEl.style.marginLeft)*(i.index-1)+i.index*this.indent+"px":i.branchEl.style.marginLeft=(i.branchEl.offsetWidth+i.branchEl.style.marginRight)*(i.index-1)+i.index*this.indent+"px"):this.table.rtl?o.style.paddingRight=parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-right"))+i.index*this.indent+"px":o.style.paddingLeft=parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-left"))+i.index*this.indent+"px")}generateControlElement(e,t){var o=e.modules.dataTree,i=o.controlEl;t=t||e.getCells()[0].getElement(),!1!==o.children&&(o.open?(o.controlEl=this.collapseEl.cloneNode(!0),o.controlEl.addEventListener("click",(t=>{t.stopPropagation(),this.collapseRow(e)}))):(o.controlEl=this.expandEl.cloneNode(!0),o.controlEl.addEventListener("click",(t=>{t.stopPropagation(),this.expandRow(e)}))),o.controlEl.addEventListener("mousedown",(e=>{e.stopPropagation()})),i&&i.parentNode===t?i.parentNode.replaceChild(o.controlEl,i):t.insertBefore(o.controlEl,t.firstChild))}getRows(e){var t=[];return e.forEach(((e,o)=>{var i,n;t.push(e),e instanceof _&&(e.create(),i=e.modules.dataTree.children,i.index||!1===i.children||(n=this.getChildren(e),n.forEach((e=>{e.create(),t.push(e)}))))})),t}getChildren(e,t){var o=e.modules.dataTree,i=[],n=[];return!1!==o.children&&(o.open||t)&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),i=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(o.children):o.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(i),i.forEach((e=>{n.push(e);var t=this.getChildren(e);t.forEach((e=>{n.push(e)}))}))),n}generateChildren(e){var t=[],o=e.getData()[this.field];return Array.isArray(o)||(o=[o]),o.forEach((o=>{var i=new _(o||{},this.table.rowManager);i.create(),i.modules.dataTree.index=e.modules.dataTree.index+1,i.modules.dataTree.parent=e,i.modules.dataTree.children&&(i.modules.dataTree.open=this.startOpen(i.getComponent(),i.modules.dataTree.index)),t.push(i)})),t}expandRow(e,t){var o=e.modules.dataTree;!1!==o.children&&(o.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}collapseRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}toggleRow(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))}isRowExpanded(e){return e.modules.dataTree.open}getTreeParent(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}getTreeParentRoot(e){return e.modules.dataTree&&e.modules.dataTree.parent?this.getTreeParentRoot(e.modules.dataTree.parent):e}getFilteredTreeChildren(e){var t,o=e.modules.dataTree,i=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),t=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(o.children):o.children,t.forEach((e=>{e instanceof _&&i.push(e)}))),i}rowDelete(e){var t,o=e.modules.dataTree.parent;o&&(t=this.findChildIndex(e,o),!1!==t&&o.data[this.field].splice(t,1),o.data[this.field].length||delete o.data[this.field],this.initializeRow(o),this.layoutRow(o)),this.refreshData(!0)}addTreeChildRow(e,t,o,i){var n=!1;"string"===typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),"undefined"!==typeof i&&(n=this.findChildIndex(i,e),!1!==n&&e.data[this.field].splice(o?n:n+1,0,t)),!1===n&&(o?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}findChildIndex(e,t){var o=!1;return"object"==typeof e?e instanceof _?o=e.data:e instanceof T?o=e._getSelf().data:"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?t.modules.dataTree&&(o=t.modules.dataTree.children.find((t=>t instanceof _&&t.element===e)),o&&(o=o.data)):null===e&&(o=!1):o="undefined"!=typeof e&&t.data[this.field].find((t=>t.data[this.table.options.index]==e)),o&&(Array.isArray(t.data[this.field])&&(o=t.data[this.field].indexOf(o)),-1==o&&(o=!1)),o}getTreeChildren(e,t,o){var i=e.modules.dataTree,n=[];return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),i.children.forEach((e=>{e instanceof _&&(n.push(t?e.getComponent():e),o&&(n=n.concat(this.getTreeChildren(e,t,o))))}))),n}getChildField(){return this.field}redrawNeeded(e){return!!this.field&&"undefined"!==typeof e[this.field]||!!this.elementField&&"undefined"!==typeof e[this.elementField]}}function M(e,t={},o){var i=t.delimiter?t.delimiter:",",n=[],r=[];e.forEach((e=>{var t=[];switch(e.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":e.columns.forEach(((e,t)=>{e&&1===e.depth&&(r[t]="undefined"==typeof e.value||null===e.value?"":'"'+String(e.value).split('"').join('""')+'"')}));break;case"row":e.columns.forEach((e=>{if(e){switch(typeof e.value){case"object":e.value=null!==e.value?JSON.stringify(e.value):"";break;case"undefined":e.value="";break}t.push('"'+String(e.value).split('"').join('""')+'"')}})),n.push(t.join(i));break}})),r.length&&n.unshift(r.join(i)),n=n.join("\n"),t.bom&&(n="\ufeff"+n),o(n,"text/csv")}function L(e,t,o){var i=[];e.forEach((e=>{var t={};switch(e.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach((e=>{e&&(t[e.component.getTitleDownload()||e.component.getField()]=e.value)})),i.push(t);break}})),i=JSON.stringify(i,null,"\t"),o(i,"application/json")}function x(e,t={},o){var i=[],n=[],r={},s=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},a=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},l=t.jsPDF||{},u=t.title?t.title:"";function c(e,t){var o=[];return e.columns.forEach((e=>{var i;if(e){switch(typeof e.value){case"object":e.value=null!==e.value?JSON.stringify(e.value):"";break;case"undefined":e.value="";break}i={content:e.value,colSpan:e.width,rowSpan:e.height},t&&(i.styles=t),o.push(i)}})),o}l.orientation||(l.orientation=t.orientation||"landscape"),l.unit||(l.unit="pt"),e.forEach((e=>{switch(e.type){case"header":i.push(c(e));break;case"group":n.push(c(e,s));break;case"calc":n.push(c(e,a));break;case"row":n.push(c(e));break}}));var d=new jspdf.jsPDF(l);t.autoTable&&(r="function"===typeof t.autoTable?t.autoTable(d)||{}:t.autoTable),u&&(r.didDrawPage=function(e){d.text(u,40,30)}),r.head=i,r.body=n,d.autoTable(r),t.documentProcessing&&t.documentProcessing(d),o(d.output("arraybuffer"),"application/pdf")}function F(e,t,o){var n,r=this,s=t.sheetName||"Sheet1",a=XLSX.utils.book_new(),l=new i(this),u=!("compress"in t)||t.compress;function c(){var t=[],o=[],i={},n={s:{c:0,r:0},e:{c:e[0]?e[0].columns.reduce(((e,t)=>e+(t&&t.width?t.width:1)),0):0,r:e.length}};return e.forEach(((e,i)=>{var n=[];e.columns.forEach((function(e,t){e?(n.push(e.value instanceof Date||"object"!==typeof e.value?e.value:JSON.stringify(e.value)),(e.width>1||e.height>-1)&&(e.height>1||e.width>1)&&o.push({s:{r:i,c:t},e:{r:i+e.height-1,c:t+e.width-1}})):n.push("")})),t.push(n)})),XLSX.utils.sheet_add_aoa(i,t),i["!ref"]=XLSX.utils.encode_range(n),o.length&&(i["!merges"]=o),i}if(a.SheetNames=[],a.Sheets={},t.sheetOnly)o(c());else{if(t.sheets)for(var d in t.sheets)!0===t.sheets[d]?(a.SheetNames.push(d),a.Sheets[d]=c()):(a.SheetNames.push(d),l.commsSend(t.sheets[d],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:r.active,intercept:function(e){a.Sheets[d]=e}}));else a.SheetNames.push(s),a.Sheets[s]=c();t.documentProcessing&&(a=t.documentProcessing(a)),n=XLSX.write(a,{bookType:"xlsx",bookSST:!0,type:"binary",compression:u}),o(p(n),"application/octet-stream")}function p(e){for(var t=new ArrayBuffer(e.length),o=new Uint8Array(t),i=0;i!=e.length;++i)o[i]=255&e.charCodeAt(i);return t}}function N(e,t,o){this.modExists("export",!0)&&o(this.modules.export.generateHTMLTable(e),"text/html")}function I(e,t,o){const i=[];e.forEach((e=>{const t={};switch(e.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach((e=>{e&&(t[e.component.getTitleDownload()||e.component.getField()]=e.value)})),i.push(JSON.stringify(t));break}})),o(i.join("\n"),"application/x-ndjson")}A.moduleName="dataTree";var k={csv:M,json:L,jsonLines:I,pdf:x,xlsx:F,html:N};class G extends s{constructor(e){super(e),this.registerTableOption("downloadEncoder",(function(e,t){return new Blob([e],{type:t})})),this.registerTableOption("downloadReady",void 0),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.deprecatedOptionsCheck(),this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("downloadReady","downloadEncoder")}downloadToTab(e,t,o,i){this.download(e,t,o,i,!0)}download(e,t,o,i,n){var r=!1;function s(o,i){n?!0===n?this.triggerDownload(o,i,e,t,!0):n(o):this.triggerDownload(o,i,e,t)}if("function"==typeof e?r=e:G.downloaders[e]?r=G.downloaders[e]:console.warn("Download Error - No such download type found: ",e),r){var a=this.generateExportList(i);r.call(this.table,a,o||{},s.bind(this))}}generateExportList(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),o=this.table.options.groupHeaderDownload;return o&&!Array.isArray(o)&&(o=[o]),t.forEach((e=>{var t;"group"===e.type&&(t=e.columns[0],o&&o[e.indent]&&(t.value=o[e.indent](t.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)))})),t}triggerDownload(e,t,o,i,n){var r=document.createElement("a"),s=this.table.options.downloadEncoder(e,t);s&&(n?window.open(window.URL.createObjectURL(s)):(i=i||"Tabulator."+("function"===typeof o?"txt":o),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(s,i):(r.setAttribute("href",window.URL.createObjectURL(s)),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r))),this.dispatchExternal("downloadComplete"))}commsReceived(e,t,o){switch(t){case"intercept":this.download(o.type,"",o.options,o.active,o.intercept);break}}}function H(e,t){var o=t.mask,i="undefined"!==typeof t.maskLetterChar?t.maskLetterChar:"A",n="undefined"!==typeof t.maskNumberChar?t.maskNumberChar:"9",r="undefined"!==typeof t.maskWildcardChar?t.maskWildcardChar:"*";function s(t){var a=o[t];"undefined"!==typeof a&&a!==r&&a!==i&&a!==n&&(e.value=e.value+""+a,s(t+1))}e.addEventListener("keydown",(t=>{var s=e.value.length,a=t.key;if(t.keyCode>46&&!t.ctrlKey&&!t.metaKey){if(s>=o.length)return t.preventDefault(),t.stopPropagation(),!1;switch(o[s]){case i:if(a.toUpperCase()==a.toLowerCase())return t.preventDefault(),t.stopPropagation(),!1;break;case n:if(isNaN(a))return t.preventDefault(),t.stopPropagation(),!1;break;case r:break;default:if(a!==o[s])return t.preventDefault(),t.stopPropagation(),!1}}})),e.addEventListener("keyup",(o=>{o.keyCode>46&&t.maskAutoFill&&s(e.value.length)})),e.placeholder||(e.placeholder=o),t.maskAutoFill&&s(e.value.length)}function V(e,t,o,i,n){var r=e.getValue(),s=document.createElement("input");if(s.setAttribute("type",n.search?"search":"text"),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let l in n.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),s.setAttribute(l,s.getAttribute(l)+n.elementAttributes["+"+l])):s.setAttribute(l,n.elementAttributes[l]);function a(e){(null===r||"undefined"===typeof r)&&""!==s.value||s.value!==r?o(s.value)&&(r=s.value):i()}return s.value="undefined"!==typeof r?r:"",t((function(){e._getSelf&&(s.focus({preventScroll:!0}),s.style.height="100%",n.selectContents&&s.select())})),s.addEventListener("change",a),s.addEventListener("blur",a),s.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:a();break;case 27:i();break;case 35:case 36:e.stopPropagation();break}})),n.mask&&H(s,n),s}function B(e,t,o,i,n){var r=e.getValue(),s=n.verticalNavigation||"hybrid",a=String(null!==r&&"undefined"!==typeof r?r:""),l=document.createElement("textarea"),u=0;if(l.style.display="block",l.style.padding="2px",l.style.height="100%",l.style.width="100%",l.style.boxSizing="border-box",l.style.whiteSpace="pre-wrap",l.style.resize="none",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let d in n.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),l.setAttribute(d,l.getAttribute(d)+n.elementAttributes["+"+d])):l.setAttribute(d,n.elementAttributes[d]);function c(t){(null===r||"undefined"===typeof r)&&""!==l.value||l.value!==r?(o(l.value)&&(r=l.value),setTimeout((function(){e.getRow().normalizeHeight()}),300)):i()}return l.value=a,t((function(){e._getSelf&&(l.focus({preventScroll:!0}),l.style.height="100%",l.scrollHeight,l.style.height=l.scrollHeight+"px",e.getRow().normalizeHeight(),n.selectContents&&l.select())})),l.addEventListener("change",c),l.addEventListener("blur",c),l.addEventListener("keyup",(function(){l.style.height="";var t=l.scrollHeight;l.style.height=t+"px",t!=u&&(u=t,e.getRow().normalizeHeight())})),l.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:e.shiftKey&&n.shiftEnterSubmit&&c();break;case 27:i();break;case 38:("editor"==s||"hybrid"==s&&l.selectionStart)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 40:("editor"==s||"hybrid"==s&&l.selectionStart!==l.value.length)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation();break}})),n.mask&&H(l,n),l}function j(e,t,o,i,n){var r=e.getValue(),s=n.verticalNavigation||"editor",a=document.createElement("input");if(a.setAttribute("type","number"),"undefined"!=typeof n.max&&a.setAttribute("max",n.max),"undefined"!=typeof n.min&&a.setAttribute("min",n.min),"undefined"!=typeof n.step&&a.setAttribute("step",n.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let c in n.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),a.setAttribute(c,a.getAttribute(c)+n.elementAttributes["+"+c])):a.setAttribute(c,n.elementAttributes[c]);a.value=r;var l=function(e){u()};function u(){var e=a.value;isNaN(e)||""===e||(e=Number(e)),e!==r?o(e)&&(r=e):i()}return t((function(){e._getSelf&&(a.removeEventListener("blur",l),a.focus({preventScroll:!0}),a.style.height="100%",a.addEventListener("blur",l),n.selectContents&&a.select())})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:u();break;case 27:i();break;case 38:case 40:"editor"==s&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation();break}})),n.mask&&H(a,n),a}function W(e,t,o,i,n){var r=e.getValue(),s=document.createElement("input");if(s.setAttribute("type","range"),"undefined"!=typeof n.max&&s.setAttribute("max",n.max),"undefined"!=typeof n.min&&s.setAttribute("min",n.min),"undefined"!=typeof n.step&&s.setAttribute("step",n.step),s.style.padding="4px",s.style.width="100%",s.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let l in n.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),s.setAttribute(l,s.getAttribute(l)+n.elementAttributes["+"+l])):s.setAttribute(l,n.elementAttributes[l]);function a(){var e=s.value;isNaN(e)||""===e||(e=Number(e)),e!=r?o(e)&&(r=e):i()}return s.value=r,t((function(){e._getSelf&&(s.focus({preventScroll:!0}),s.style.height="100%")})),s.addEventListener("blur",(function(e){a()})),s.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:a();break;case 27:i();break}})),s}function z(e,t,o,i,n){var r=n.format,s=n.verticalNavigation||"editor",a=r?window.DateTime||luxon.DateTime:null,l=e.getValue(),u=document.createElement("input");function c(e){var t;return t=a.isDateTime(e)?e:"iso"===r?a.fromISO(String(e)):a.fromFormat(String(e),r),t.toFormat("yyyy-MM-dd")}if(u.type="date",u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",n.max&&u.setAttribute("max",r?c(n.max):n.max),n.min&&u.setAttribute("min",r?c(n.min):n.min),n.elementAttributes&&"object"==typeof n.elementAttributes)for(let p in n.elementAttributes)"+"==p.charAt(0)?(p=p.slice(1),u.setAttribute(p,u.getAttribute(p)+n.elementAttributes["+"+p])):u.setAttribute(p,n.elementAttributes[p]);function d(){var e,t=u.value;if((null===l||"undefined"===typeof l)&&""!==t||t!==l){if(t&&r)switch(e=a.fromFormat(String(t),"yyyy-MM-dd"),r){case!0:t=e;break;case"iso":t=e.toISO();break;default:t=e.toFormat(r)}o(t)&&(l=u.value)}else i()}return l="undefined"!==typeof l?l:"",r&&(a?l=c(l):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),u.value=l,t((function(){e._getSelf&&(u.focus({preventScroll:!0}),u.style.height="100%",n.selectContents&&u.select())})),u.addEventListener("blur",(function(e){(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==u)&&d()})),u.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:d();break;case 27:i();break;case 35:case 36:e.stopPropagation();break;case 38:case 40:"editor"==s&&(e.stopImmediatePropagation(),e.stopPropagation());break}})),u}function U(e,t,o,i,n){var r,s=n.format,a=n.verticalNavigation||"editor",l=s?window.DateTime||luxon.DateTime:null,u=e.getValue(),c=document.createElement("input");if(c.type="time",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let p in n.elementAttributes)"+"==p.charAt(0)?(p=p.slice(1),c.setAttribute(p,c.getAttribute(p)+n.elementAttributes["+"+p])):c.setAttribute(p,n.elementAttributes[p]);function d(){var e,t=c.value;if((null===u||"undefined"===typeof u)&&""!==t||t!==u){if(t&&s)switch(e=l.fromFormat(String(t),"hh:mm"),s){case!0:t=e;break;case"iso":t=e.toISO();break;default:t=e.toFormat(s)}o(t)&&(u=c.value)}else i()}return u="undefined"!==typeof u?u:"",s&&(l?(r=l.isDateTime(u)?u:"iso"===s?l.fromISO(String(u)):l.fromFormat(String(u),s),u=r.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=u,t((function(){e._getSelf&&(c.focus({preventScroll:!0}),c.style.height="100%",n.selectContents&&c.select())})),c.addEventListener("blur",(function(e){(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==c)&&d()})),c.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:d();break;case 27:i();break;case 35:case 36:e.stopPropagation();break;case 38:case 40:"editor"==a&&(e.stopImmediatePropagation(),e.stopPropagation());break}})),c}function K(e,t,o,i,n){var r,s=n.format,a=n.verticalNavigation||"editor",l=s?window.DateTime||luxon.DateTime:null,u=e.getValue(),c=document.createElement("input");if(c.type="datetime-local",c.style.padding="4px",c.style.width="100%",c.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let p in n.elementAttributes)"+"==p.charAt(0)?(p=p.slice(1),c.setAttribute(p,c.getAttribute(p)+n.elementAttributes["+"+p])):c.setAttribute(p,n.elementAttributes[p]);function d(){var e,t=c.value;if((null===u||"undefined"===typeof u)&&""!==t||t!==u){if(t&&s)switch(e=l.fromISO(String(t)),s){case!0:t=e;break;case"iso":t=e.toISO();break;default:t=e.toFormat(s)}o(t)&&(u=c.value)}else i()}return u="undefined"!==typeof u?u:"",s&&(l?(r=l.isDateTime(u)?u:"iso"===s?l.fromISO(String(u)):l.fromFormat(String(u),s),u=r.toFormat("yyyy-MM-dd")+"T"+r.toFormat("hh:mm")):console.error("Editor Error - 'date' editor 'format' param is dependant on luxon.js")),c.value=u,t((function(){e._getSelf&&(c.focus({preventScroll:!0}),c.style.height="100%",n.selectContents&&c.select())})),c.addEventListener("blur",(function(e){(e.relatedTarget||e.rangeParent||e.explicitOriginalTarget!==c)&&d()})),c.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:d();break;case 27:i();break;case 35:case 36:e.stopPropagation();break;case 38:case 40:"editor"==a&&(e.stopImmediatePropagation(),e.stopPropagation());break}})),c}G.moduleName="download",G.downloaders=k;class Y{constructor(e,t,o,i,n,r){this.edit=e,this.table=e.table,this.cell=t,this.params=this._initializeParams(r),this.data=[],this.displayItems=[],this.currentItems=[],this.focusedItem=null,this.input=this._createInputElement(),this.listEl=this._createListElement(),this.initialValues=null,this.isFilter=!t._getSelf,this.filterTimeout=null,this.filtered=!1,this.typing=!1,this.values=[],this.popup=null,this.listIteration=0,this.lastAction="",this.filterTerm="",this.blurable=!0,this.actions={success:i,cancel:n},this._deprecatedOptionsCheck(),this._initializeValue(),o(this._onRendered.bind(this))}_deprecatedOptionsCheck(){this.params.listItemFormatter&&this.cell.getTable().deprecationAdvisor.msg("The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.sortValuesList&&this.cell.getTable().deprecationAdvisor.msg("The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchFunc&&this.cell.getTable().deprecationAdvisor.msg("The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options"),this.params.searchingPlaceholder&&this.cell.getTable().deprecationAdvisor.msg("The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options")}_initializeValue(){var e=this.cell.getValue();"undefined"===typeof e&&"undefined"!==typeof this.params.defaultValue&&(e=this.params.defaultValue),this.initialValues=this.params.multiselect?e:[e],this.isFilter&&(this.input.value=this.initialValues?this.initialValues.join(","):"",this.headerFilterInitialListGen())}_onRendered(){var e=this.cell.getElement();function t(e){e.stopPropagation()}this.isFilter||(this.input.style.height="100%",this.input.focus({preventScroll:!0})),e.addEventListener("click",t),setTimeout((()=>{e.removeEventListener("click",t)}),1e3),this.input.addEventListener("mousedown",this._preventPopupBlur.bind(this))}_createListElement(){var e=document.createElement("div");return e.classList.add("tabulator-edit-list"),e.addEventListener("mousedown",this._preventBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e}_setListWidth(){var e=this.isFilter?this.input:this.cell.getElement();this.listEl.style.minWidth=e.offsetWidth+"px",this.params.maxWidth&&(!0===this.params.maxWidth?this.listEl.style.maxWidth=e.offsetWidth+"px":"number"===typeof this.params.maxWidth?this.listEl.style.maxWidth=this.params.maxWidth+"px":this.listEl.style.maxWidth=this.params.maxWidth)}_createInputElement(){var e=this.params.elementAttributes,t=document.createElement("input");if(t.setAttribute("type",this.params.clearable?"search":"text"),t.style.padding="4px",t.style.width="100%",t.style.boxSizing="border-box",this.params.autocomplete||(t.style.cursor="default",t.style.caretColor="transparent"),e&&"object"==typeof e)for(let o in e)"+"==o.charAt(0)?(o=o.slice(1),t.setAttribute(o,t.getAttribute(o)+e["+"+o])):t.setAttribute(o,e[o]);return this.params.mask&&H(t,this.params),this._bindInputEvents(t),t}_initializeParams(e){var t,o=["values","valuesURL","valuesLookup"];return e=Object.assign({},e),e.verticalNavigation=e.verticalNavigation||"editor",e.placeholderLoading="undefined"===typeof e.placeholderLoading?"Searching ...":e.placeholderLoading,e.placeholderEmpty="undefined"===typeof e.placeholderEmpty?"No Results Found":e.placeholderEmpty,e.filterDelay="undefined"===typeof e.filterDelay?300:e.filterDelay,e.emptyValue=Object.keys(e).includes("emptyValue")?e.emptyValue:"",t=Object.keys(e).filter((e=>o.includes(e))).length,t?t>1&&console.warn("list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor"):console.warn("list editor config error - either the values, valuesURL, or valuesLookup option must be set"),e.autocomplete?e.multiselect&&(e.multiselect=!1,console.warn("list editor config error - multiselect option is not available when autocomplete is enabled")):(e.freetext&&(e.freetext=!1,console.warn("list editor config error - freetext option is only available when autocomplete is enabled")),e.filterFunc&&(e.filterFunc=!1,console.warn("list editor config error - filterFunc option is only available when autocomplete is enabled")),e.filterRemote&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option is only available when autocomplete is enabled")),e.mask&&(e.mask=!1,console.warn("list editor config error - mask option is only available when autocomplete is enabled")),e.allowEmpty&&(e.allowEmpty=!1,console.warn("list editor config error - allowEmpty option is only available when autocomplete is enabled")),e.listOnEmpty&&(e.listOnEmpty=!1,console.warn("list editor config error - listOnEmpty option is only available when autocomplete is enabled"))),e.filterRemote&&"function"!==typeof e.valuesLookup&&!e.valuesURL&&(e.filterRemote=!1,console.warn("list editor config error - filterRemote option should only be used when values list is populated from a remote source")),e}_bindInputEvents(e){e.addEventListener("focus",this._inputFocus.bind(this)),e.addEventListener("click",this._inputClick.bind(this)),e.addEventListener("blur",this._inputBlur.bind(this)),e.addEventListener("keydown",this._inputKeyDown.bind(this)),e.addEventListener("search",this._inputSearch.bind(this)),this.params.autocomplete&&e.addEventListener("keyup",this._inputKeyUp.bind(this))}_inputFocus(e){this.rebuildOptionsList()}_filter(){this.params.filterRemote?(clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout((()=>{this.rebuildOptionsList()}),this.params.filterDelay)):this._filterList()}_inputClick(e){e.stopPropagation()}_inputBlur(e){this.blurable&&(this.popup?this.popup.hide():this._resolveValue(!0))}_inputSearch(){this._clearChoices()}_inputKeyDown(e){switch(e.keyCode){case 38:this._keyUp(e);break;case 40:this._keyDown(e);break;case 37:case 39:this._keySide(e);break;case 13:this._keyEnter();break;case 27:this._keyEsc();break;case 36:case 35:this._keyHomeEnd(e);break;case 9:break;default:this._keySelectLetter(e)}}_inputKeyUp(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:this._keyAutoCompLetter(e)}}_preventPopupBlur(){this.popup&&this.popup.blockHide(),setTimeout((()=>{this.popup&&this.popup.restoreHide()}),10)}_preventBlur(){this.blurable=!1,setTimeout((()=>{this.blurable=!0}),10)}_keyUp(e){var t=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&this._focusItem(this.displayItems[t-1]))}_keyDown(e){var t=this.displayItems.indexOf(this.focusedItem);("editor"==this.params.verticalNavigation||"hybrid"==this.params.verticalNavigation&&t<this.displayItems.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<this.displayItems.length-1&&(-1==t?this._focusItem(this.displayItems[0]):this._focusItem(this.displayItems[t+1])))}_keySide(e){this.params.autocomplete||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}_keyEnter(e){this.params.autocomplete&&"typing"===this.lastAction?this._resolveValue(!0):this.focusedItem&&this._chooseItem(this.focusedItem)}_keyEsc(e){this._cancel()}_keyHomeEnd(e){this.params.autocomplete&&e.stopImmediatePropagation()}_keySelectLetter(e){this.params.autocomplete||(e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&this._scrollToValue(e.keyCode))}_keyAutoCompLetter(e){this._filter(),this.lastAction="typing",this.typing=!0}_scrollToValue(e){clearTimeout(this.filterTimeout);var t=String.fromCharCode(e).toLowerCase();this.filterTerm+=t.toLowerCase();var o=this.displayItems.find((e=>"undefined"!==typeof e.label&&e.label.toLowerCase().startsWith(this.filterTerm)));o&&this._focusItem(o),this.filterTimeout=setTimeout((()=>{this.filterTerm=""}),800)}_focusItem(e){this.lastAction="focus",this.focusedItem&&this.focusedItem.element&&this.focusedItem.element.classList.remove("focused"),this.focusedItem=e,e&&e.element&&(e.element.classList.add("focused"),e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}headerFilterInitialListGen(){this._generateOptions(!0)}rebuildOptionsList(){this._generateOptions().then(this._sortOptions.bind(this)).then(this._buildList.bind(this)).then(this._showList.bind(this)).catch((e=>{Number.isInteger(e)||console.error("List generation error",e)}))}_filterList(){this._buildList(this._filterOptions()),this._showList()}_generateOptions(e){var t=[],o=++this.listIteration;return this.filtered=!1,this.params.values?t=this.params.values:this.params.valuesURL?t=this._ajaxRequest(this.params.valuesURL,this.input.value):"function"===typeof this.params.valuesLookup?t=this.params.valuesLookup(this.cell,this.input.value):this.params.valuesLookup&&(t=this._uniqueColumnValues(this.params.valuesLookupField)),t instanceof Promise?(e||this._addPlaceholder(this.params.placeholderLoading),t.then().then((e=>this.listIteration===o?this._parseList(e):Promise.reject(o)))):Promise.resolve(this._parseList(t))}_addPlaceholder(e){var t=document.createElement("div");"function"===typeof e&&(e=e(this.cell.getComponent(),this.listEl)),e&&(this._clearList(),e instanceof HTMLElement?t=e:(t.classList.add("tabulator-edit-list-placeholder"),t.innerHTML=e),this.listEl.appendChild(t),this._showList())}_ajaxRequest(e,t){var o=this.params.filterRemote?{term:t}:{};return e=p(e,{},o),fetch(e).then((e=>e.ok?e.json().catch((e=>(console.warn("List Ajax Load Error - Invalid JSON returned",e),Promise.reject(e)))):(console.error("List Ajax Load Error - Connection Error: "+e.status,e.statusText),Promise.reject(e)))).catch((e=>(console.error("List Ajax Load Error - Connection Error: ",e),Promise.reject(e))))}_uniqueColumnValues(e){var t,o={},i=this.table.getData(this.params.valuesLookup);return t=e?this.table.columnManager.getColumnByField(e):this.cell.getColumn()._getSelf(),t?i.forEach((e=>{var i=t.getFieldValue(e);null!==i&&"undefined"!==typeof i&&""!==i&&(o[i]=!0)})):(console.warn("unable to find matching column to create select lookup list:",e),o=[]),Object.keys(o)}_parseList(e){var t=[];return Array.isArray(e)||(e=Object.entries(e).map((([e,t])=>({label:t,value:e})))),e.forEach((e=>{"object"!==typeof e&&(e={label:e,value:e}),this._parseListItem(e,t,0)})),!this.currentItems.length&&this.params.freetext&&(this.input.value=this.initialValues,this.typing=!0,this.lastAction="typing"),this.data=t,t}_parseListItem(e,t,o){var i={};e.options?i=this._parseListGroup(e,o+1):(i={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,selected:!1,visible:!0,level:o,original:e},this.initialValues&&this.initialValues.indexOf(e.value)>-1&&this._chooseItem(i,!0)),t.push(i)}_parseListGroup(e,t){var o={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1,visible:!0,level:t,options:[],original:e};return e.options.forEach((e=>{this._parseListItem(e,o.options,t)})),o}_sortOptions(e){var t;return this.params.sort&&(t="function"===typeof this.params.sort?this.params.sort:this._defaultSortFunction.bind(this),this._sortGroup(t,e)),e}_sortGroup(e,t){t.sort(((t,o)=>e(t.label,o.label,t.value,o.value,t.original,o.original))),t.forEach((t=>{t.group&&this._sortGroup(e,t.options)}))}_defaultSortFunction(e,t){var o,i,n,r,s,a=0,l=/(\d+)|(\D+)/g,u=/\d/,c=0;if("desc"===this.params.sort&&([e,t]=[t,e]),e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if(o=String(e).toLowerCase(),i=String(t).toLowerCase(),o===i)return 0;if(!u.test(o)||!u.test(i))return o>i?1:-1;o=o.match(l),i=i.match(l),s=o.length>i.length?i.length:o.length;while(a<s)if(n=o[a],r=i[a++],n!==r)return isFinite(n)&&isFinite(r)?("0"===n.charAt(0)&&(n="."+n),"0"===r.charAt(0)&&(r="."+r),n-r):n>r?1:-1;return o.length>i.length}c=1}else c=t||0===t?-1:0;return c}_filterOptions(){var e=this.params.filterFunc||this._defaultFilterFunc,t=this.input.value;return t?(this.filtered=!0,this.data.forEach((o=>{this._filterItem(e,t,o)}))):this.filtered=!1,this.data}_filterItem(e,t,o){var i=!1;return o.group?(o.options.forEach((o=>{this._filterItem(e,t,o)&&(i=!0)})),o.visible=i):o.visible=e(t,o.label,o.value,o.original),o.visible}_defaultFilterFunc(e,t,o,i){return e=String(e).toLowerCase(),null!==t&&"undefined"!==typeof t&&(String(t).toLowerCase().indexOf(e)>-1||String(o).toLowerCase().indexOf(e)>-1)}_clearList(){while(this.listEl.firstChild)this.listEl.removeChild(this.listEl.firstChild);this.displayItems=[]}_buildList(e){this._clearList(),e.forEach((e=>{this._buildItem(e)})),this.displayItems.length||this._addPlaceholder(this.params.placeholderEmpty)}_buildItem(e){var t,o=e.element;if(!this.filtered||e.visible){if(!o){if(o=document.createElement("div"),o.tabIndex=0,t=this.params.itemFormatter?this.params.itemFormatter(e.label,e.value,e.original,o):e.label,t instanceof HTMLElement?o.appendChild(t):o.innerHTML=t,e.group?o.classList.add("tabulator-edit-list-group"):o.classList.add("tabulator-edit-list-item"),o.classList.add("tabulator-edit-list-group-level-"+e.level),e.elementAttributes&&"object"==typeof e.elementAttributes)for(let t in e.elementAttributes)"+"==t.charAt(0)?(t=t.slice(1),o.setAttribute(t,this.input.getAttribute(t)+e.elementAttributes["+"+t])):o.setAttribute(t,e.elementAttributes[t]);e.group?o.addEventListener("click",this._groupClick.bind(this,e)):o.addEventListener("click",this._itemClick.bind(this,e)),o.addEventListener("mousedown",this._preventBlur.bind(this)),e.element=o}this._styleItem(e),this.listEl.appendChild(o),e.group?e.options.forEach((e=>{this._buildItem(e)})):this.displayItems.push(e)}}_showList(){var e=this.popup&&this.popup.isVisible();if(this.input.parentNode){if(this.params.autocomplete&&""===this.input.value&&!this.params.listOnEmpty)return void(this.popup&&this.popup.hide(!0));this._setListWidth(),this.popup||(this.popup=this.edit.popup(this.listEl)),this.popup.show(this.cell.getElement(),"bottom"),e||setTimeout((()=>{this.popup.hideOnBlur(this._resolveValue.bind(this,!0))}),10)}}_styleItem(e){e&&e.element&&(e.selected?e.element.classList.add("active"):e.element.classList.remove("active"))}_itemClick(e,t){t.stopPropagation(),this._chooseItem(e)}_groupClick(e,t){t.stopPropagation()}_cancel(){this.popup.hide(!0),this.actions.cancel()}_clearChoices(){this.typing=!0,this.currentItems.forEach((e=>{e.selected=!1,this._styleItem(e)})),this.currentItems=[],this.focusedItem=null}_chooseItem(e,t){var o;this.typing=!1,this.params.multiselect?(o=this.currentItems.indexOf(e),o>-1?(this.currentItems.splice(o,1),e.selected=!1):(this.currentItems.push(e),e.selected=!0),this.input.value=this.currentItems.map((e=>e.label)).join(","),this._styleItem(e)):(this.currentItems=[e],e.selected=!0,this.input.value=e.label,this._styleItem(e),t||this._resolveValue()),this._focusItem(e)}_resolveValue(e){var t,o;if(this.popup&&this.popup.hide(!0),this.params.multiselect)t=this.currentItems.map((e=>e.value));else if(e&&this.params.autocomplete&&this.typing){if(!(this.params.freetext||this.params.allowEmpty&&""===this.input.value))return void this.actions.cancel();t=this.input.value}else this.currentItems[0]?t=this.currentItems[0].value:(o=Array.isArray(this.initialValues)?this.initialValues[0]:this.initialValues,t=null===o||"undefined"===typeof o||""===o?o:this.params.emptyValue);""===t&&(t=this.params.emptyValue),this.actions.success(t),this.isFilter&&(this.initialValues=t&&!Array.isArray(t)?[t]:t,this.currentItems=[])}}function q(e,t,o,i,n){this.deprecationMsg("The select editor has been deprecated, please use the new list editor");var r=new Y(this,e,t,o,i,n);return r.input}function J(e,t,o,i,n){var r=new Y(this,e,t,o,i,n);return r.input}function X(e,t,o,i,n){this.deprecationMsg("The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam"),n.autocomplete=!0;var r=new Y(this,e,t,o,i,n);return r.input}function $(e,t,o,i,n){var r=this,s=e.getElement(),a=e.getValue(),l=s.getElementsByTagName("svg").length||5,u=s.getElementsByTagName("svg")[0]?s.getElementsByTagName("svg")[0].getAttribute("width"):14,c=[],d=document.createElement("div"),p=document.createElementNS("http://www.w3.org/2000/svg","svg");function h(e){c.forEach((function(t,o){o<e?("ie"==r.table.browser?t.setAttribute("class","tabulator-star-active"):t.classList.replace("tabulator-star-inactive","tabulator-star-active"),t.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==r.table.browser?t.setAttribute("class","tabulator-star-inactive"):t.classList.replace("tabulator-star-active","tabulator-star-inactive"),t.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function f(e){var t=document.createElement("span"),i=p.cloneNode(!0);c.push(i),t.addEventListener("mouseenter",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),h(e)})),t.addEventListener("mousemove",(function(e){e.stopPropagation(),e.stopImmediatePropagation()})),t.addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),o(e),s.blur()})),t.appendChild(i),d.appendChild(t)}function g(e){a=e,h(e)}if(s.style.whiteSpace="nowrap",s.style.overflow="hidden",s.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",p.setAttribute("width",u),p.setAttribute("height",u),p.setAttribute("viewBox","0 0 512 512"),p.setAttribute("xml:space","preserve"),p.style.padding="0 1px",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let v in n.elementAttributes)"+"==v.charAt(0)?(v=v.slice(1),d.setAttribute(v,d.getAttribute(v)+n.elementAttributes["+"+v])):d.setAttribute(v,n.elementAttributes[v]);for(var m=1;m<=l;m++)f(m);return a=Math.min(parseInt(a),l),h(a),d.addEventListener("mousemove",(function(e){h(0)})),d.addEventListener("click",(function(e){o(0)})),s.addEventListener("blur",(function(e){i()})),s.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:g(a+1);break;case 37:g(a-1);break;case 13:o(a);break;case 27:i();break}})),d}function Q(e,t,o,i,n){var r,s,a=e.getElement(),l="undefined"===typeof n.max?a.getElementsByTagName("div")[0]&&a.getElementsByTagName("div")[0].getAttribute("max")||100:n.max,u="undefined"===typeof n.min?a.getElementsByTagName("div")[0]&&a.getElementsByTagName("div")[0].getAttribute("min")||0:n.min,c=(l-u)/100,d=e.getValue()||0,p=document.createElement("div"),h=document.createElement("div");function f(){var e=window.getComputedStyle(a,null),t=c*Math.round(h.offsetWidth/((a.clientWidth-parseInt(e.getPropertyValue("padding-left"))-parseInt(e.getPropertyValue("padding-right")))/100))+u;o(t),a.setAttribute("aria-valuenow",t),a.setAttribute("aria-label",d)}if(p.style.position="absolute",p.style.right="0",p.style.top="0",p.style.bottom="0",p.style.width="5px",p.classList.add("tabulator-progress-handle"),h.style.display="inline-block",h.style.position="relative",h.style.height="100%",h.style.backgroundColor="#488CE9",h.style.maxWidth="100%",h.style.minWidth="0%",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let g in n.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),h.setAttribute(g,h.getAttribute(g)+n.elementAttributes["+"+g])):h.setAttribute(g,n.elementAttributes[g]);return a.style.padding="4px 4px",d=Math.min(parseFloat(d),l),d=Math.max(parseFloat(d),u),d=Math.round((d-u)/c),h.style.width=d+"%",a.setAttribute("aria-valuemin",u),a.setAttribute("aria-valuemax",l),h.appendChild(p),p.addEventListener("mousedown",(function(e){r=e.screenX,s=h.offsetWidth})),p.addEventListener("mouseover",(function(){p.style.cursor="ew-resize"})),a.addEventListener("mousemove",(function(e){r&&(h.style.width=s+e.screenX-r+"px")})),a.addEventListener("mouseup",(function(e){r&&(e.stopPropagation(),e.stopImmediatePropagation(),r=!1,s=!1,f())})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:e.preventDefault(),h.style.width=h.clientWidth+a.clientWidth/100+"px";break;case 37:e.preventDefault(),h.style.width=h.clientWidth-a.clientWidth/100+"px";break;case 9:case 13:f();break;case 27:i();break}})),a.addEventListener("blur",(function(){i()})),h}function Z(e,t,o,i,n){var r=e.getValue(),s=document.createElement("input"),a=n.tristate,l="undefined"===typeof n.indeterminateValue?null:n.indeterminateValue,u=!1,c=Object.keys(n).includes("trueValue"),d=Object.keys(n).includes("falseValue");if(s.setAttribute("type","checkbox"),s.style.marginTop="5px",s.style.boxSizing="border-box",n.elementAttributes&&"object"==typeof n.elementAttributes)for(let h in n.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),s.setAttribute(h,s.getAttribute(h)+n.elementAttributes["+"+h])):s.setAttribute(h,n.elementAttributes[h]);function p(e){var t=s.checked;return c&&t?t=n.trueValue:d&&!t&&(t=n.falseValue),a?e?u?l:t:s.checked&&!u?(s.checked=!1,s.indeterminate=!0,u=!0,l):(u=!1,t):t}return s.value=r,!a||"undefined"!==typeof r&&r!==l&&""!==r||(u=!0,s.indeterminate=!0),"firefox"!=this.table.browser&&"safari"!=this.table.browser&&t((function(){e._getSelf&&s.focus({preventScroll:!0})})),s.checked=c?r===n.trueValue:!0===r||"true"===r||"True"===r||1===r,s.addEventListener("change",(function(e){o(p())})),s.addEventListener("blur",(function(e){o(p(!0))})),s.addEventListener("keydown",(function(e){13==e.keyCode&&o(p()),27==e.keyCode&&i()})),s}var ee={input:V,textarea:B,number:j,range:W,date:z,time:U,datetime:K,select:q,list:J,autocomplete:X,star:$,progress:Q,tickCross:Z};class te extends s{constructor(e){super(e),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=te.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellIsEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("cell-value-changed",this.updateCellClass.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("row-layout",this.rowEditableCheck.bind(this)),this.subscribe("data-refreshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this,void 0)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this,void 0)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this,void 0)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this,void 0)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this,void 0))}keybindingNavigateNext(e){var t=this.currentCell,o=this.options("tabEndNewRow");t&&(this.navigateNext(t,e)||o&&(t.getElement().firstChild.blur(),o=!0===o?this.table.addRow({}):"function"==typeof o?this.table.addRow(o(t.row.getComponent())):this.table.addRow(Object.assign({},o)),o.then((()=>{setTimeout((()=>{t.getComponent().navigateNext()}))}))))}cellIsEdited(e){return!!e.modules.edit&&e.modules.edit.edited}cellCancelEdit(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}updateCellClass(e){this.allowEdit(e)?e.getElement().classList.add("tabulator-editable"):e.getElement().classList.remove("tabulator-editable")}clearCellEdited(e){e||(e=this.table.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach((e=>{this.table.modules.edit.clearEdited(e._getSelf())}))}navigatePrev(e=this.currentCell,t){var o,i;if(e){if(t&&t.preventDefault(),o=this.navigateLeft(),o)return!0;if(i=this.table.rowManager.prevDisplayRow(e.row,!0),i&&(o=this.findPrevEditableCell(i,i.cells.length),o))return o.getComponent().edit(),!0}return!1}navigateNext(e=this.currentCell,t){var o,i;if(e){if(t&&t.preventDefault(),o=this.navigateRight(),o)return!0;if(i=this.table.rowManager.nextDisplayRow(e.row,!0),i&&(o=this.findNextEditableCell(i,-1),o))return o.getComponent().edit(),!0}return!1}navigateLeft(e=this.currentCell,t){var o,i;return!(!e||(t&&t.preventDefault(),o=e.getIndex(),i=this.findPrevEditableCell(e.row,o),!i))&&(i.getComponent().edit(),!0)}navigateRight(e=this.currentCell,t){var o,i;return!(!e||(t&&t.preventDefault(),o=e.getIndex(),i=this.findNextEditableCell(e.row,o),!i))&&(i.getComponent().edit(),!0)}navigateUp(e=this.currentCell,t){var o,i;return!(!e||(t&&t.preventDefault(),o=e.getIndex(),i=this.table.rowManager.prevDisplayRow(e.row,!0),!i))&&(i.cells[o].getComponent().edit(),!0)}navigateDown(e=this.currentCell,t){var o,i;return!(!e||(t&&t.preventDefault(),o=e.getIndex(),i=this.table.rowManager.nextDisplayRow(e.row,!0),!i))&&(i.cells[o].getComponent().edit(),!0)}findNextEditableCell(e,t){var o=!1;if(t<e.cells.length-1)for(var i=t+1;i<e.cells.length;i++){let t=e.cells[i];if(t.column.modules.edit&&n.elVisible(t.getElement())){let e=this.allowEdit(t);if(e){o=t;break}}}return o}findPrevEditableCell(e,t){var o=!1;if(t>0)for(var i=t-1;i>=0;i--){let t=e.cells[i];if(t.column.modules.edit&&n.elVisible(t.getElement())){let e=this.allowEdit(t);if(e){o=t;break}}}return o}initializeColumnCheck(e){"undefined"!==typeof e.definition.editor&&this.initializeColumn(e)}columnDeleteCheck(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}rowDeleteCheck(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}rowEditableCheck(e){e.getCells().forEach((e=>{e.column.modules.edit&&"function"===typeof e.column.modules.edit.check&&this.updateCellClass(e)}))}initializeColumn(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!==typeof e.definition.formatter?this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors["input"]:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter));break}t.editor&&(e.modules.edit=t)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(e){var t,o=this.currentCell;if(this.invalidEdit=!1,o){this.currentCell=!1,t=o.getElement(),this.dispatch("edit-editor-clear",o,e),t.classList.remove("tabulator-editing");while(t.firstChild)t.removeChild(t.firstChild);o.row.getElement().classList.remove("tabulator-editing"),o.table.element.classList.remove("tabulator-editing")}}cancelEdit(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatch("edit-cancelled",e),this.dispatchExternal("cellEditCancelled",t)}}bindEditor(e){if(e.column.modules.edit){var t=this,o=e.getElement(!0);this.updateCellClass(e),o.setAttribute("tabindex",0),o.addEventListener("click",(function(e){o.classList.contains("tabulator-editing")||o.focus({preventScroll:!0})})),o.addEventListener("mousedown",(function(e){2===e.button?e.preventDefault():t.mouseClick=!0})),o.addEventListener("focus",(function(o){t.recursionBlock||t.edit(e,o,!1)}))}}focusCellNoEvent(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}focusScrollAdjust(e){if("virtual"==this.table.rowManager.getRenderMode()){var t=this.table.rowManager.element.scrollTop,o=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,i=e.row.getElement();i.offsetTop<t?this.table.rowManager.element.scrollTop-=t-i.offsetTop:i.offsetTop+i.offsetHeight>o&&(this.table.rowManager.element.scrollTop+=i.offsetTop+i.offsetHeight-o);var n=this.table.rowManager.element.scrollLeft,r=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,s=e.getElement();this.table.modExists("frozenColumns")&&(n+=parseInt(this.table.modules.frozenColumns.leftMargin),r-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(n-=parseInt(this.table.columnManager.renderer.vDomPadLeft),r-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),s.offsetLeft<n?this.table.rowManager.element.scrollLeft-=n-s.offsetLeft:s.offsetLeft+s.offsetWidth>r&&(this.table.rowManager.element.scrollLeft+=s.offsetLeft+s.offsetWidth-r)}}allowEdit(e){var t=!!e.column.modules.edit;if(e.column.modules.edit)switch(typeof e.column.modules.edit.check){case"function":e.row.initialized&&(t=e.column.modules.edit.check(e.getComponent()));break;case"string":t=!!e.row.data[e.column.modules.edit.check];break;case"boolean":t=e.column.modules.edit.check;break}return t}edit(e,t,o){var i,n,r,s=this,a=!0,l=function(){},u=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;if(t&&t.stopPropagation(),a=this.allowEdit(e),a||o){if(s.cancelEdit(),s.currentCell=e,this.focusScrollAdjust(e),n=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,n)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,n),this.dispatch("cell-editing",e),this.dispatchExternal("cellEditing",n),r="function"===typeof e.column.modules.edit.params?e.column.modules.edit.params(n):e.column.modules.edit.params,i=e.column.modules.edit.editor.call(s,n,f,p,h,r),!this.currentCell||!1===i)return u.blur(),!1;if(!(i instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",i),u.blur(),!1;u.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-editing"),e.table.element.classList.add("tabulator-editing");while(u.firstChild)u.removeChild(u.firstChild);u.appendChild(i),l();for(var c=u.children,d=0;d<c.length;d++)c[d].addEventListener("click",(function(e){e.stopPropagation()}));return!0}return this.mouseClick=!1,u.blur(),!1}function p(t){if(s.currentCell===e){var o=s.chain("edit-success",[e,t],!0,!0);return!0===o||"highlight"===s.table.options.validationMode?(s.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==s.editedCells.indexOf(e)&&s.editedCells.push(e),e.setValue(t,!0),!0===o):(s.invalidEdit=!0,s.focusCellNoEvent(e,!0),l(),!1)}}function h(){s.currentCell===e&&s.cancelEdit()}function f(e){l=e}this.invalidEdit||this.currentCell===e||this.cancelEdit()}getEditedCells(){var e=[];return this.editedCells.forEach((t=>{e.push(t.getComponent())})),e}clearEdited(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,this.dispatch("edit-edited-clear",e)),t=this.editedCells.indexOf(e),t>-1&&this.editedCells.splice(t,1)}}te.moduleName="edit",te.editors=ee;class oe{constructor(e,t,o,i){this.type=e,this.columns=t,this.component=o||!1,this.indent=i||0}}class ie{constructor(e,t,o,i,n){this.value=e,this.component=t||!1,this.width=o,this.height=i,this.depth=n}}class ne extends s{constructor(e){super(e),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(e,t,o,i){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=i;var n=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],r=this.bodyToExportRows(this.rowLookup(o));return n.concat(r)}generateTable(e,t,o,i){var n=this.generateExportList(e,t,o,i);return this.generateTableElement(n)}rowLookup(e){var t=[];if("function"==typeof e)e.call(this.table).forEach((e=>{e=this.table.rowManager.findRow(e),e&&t.push(e)}));else switch(e){case!0:case"visible":t=this.table.rowManager.getVisibleRows(!1,!0);break;case"all":t=this.table.rowManager.rows;break;case"selected":t=this.table.modules.selectRow.selectedRows;break;case"active":default:t=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],t)}generateColumnGroupHeaders(){var e=[],t=!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex;return t.forEach((t=>{var o=this.processColumnGroup(t);o&&e.push(o)})),e}processColumnGroup(e){var t=e.columns,o=0,i=e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,n={title:i,column:e,depth:1};if(t.length){if(n.subGroups=[],n.width=0,t.forEach((e=>{var t=this.processColumnGroup(e);t&&(n.width+=t.width,n.subGroups.push(t),t.depth>o&&(o=t.depth))})),n.depth+=o,!n.width)return!1}else{if(!this.columnVisCheck(e))return!1;n.width=1}return n}columnVisCheck(e){var t=e.definition[this.colVisProp];return"function"===typeof t&&(t=t.call(this.table,e.getComponent())),!1!==t&&(e.visible||!e.visible&&t)}headersToExportRows(e){var t=[],o=0,i=[];function n(e,i){var r=o-i;if("undefined"===typeof t[i]&&(t[i]=[]),e.height=e.subGroups?1:r-e.depth+1,t[i].push(e),e.height>1)for(let o=1;o<e.height;o++)"undefined"===typeof t[i+o]&&(t[i+o]=[]),t[i+o].push(!1);if(e.width>1)for(let o=1;o<e.width;o++)t[i].push(!1);e.subGroups&&e.subGroups.forEach((function(e){n(e,i+1)}))}return e.forEach((function(e){e.depth>o&&(o=e.depth)})),e.forEach((function(e){n(e,0)})),t.forEach((e=>{var t=[];e.forEach((e=>{if(e){let o="undefined"===typeof e.title?"":e.title;t.push(new ie(o,e.column.getComponent(),e.width,e.height,e.depth))}else t.push(null)})),i.push(new oe("header",t))})),i}bodyToExportRows(e){var t=[],o=[];return this.table.columnManager.columnsByIndex.forEach((e=>{this.columnVisCheck(e)&&t.push(e.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),e=e.filter((e=>{switch(e.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&e.modules.dataTree.parent)}return!0})),e.forEach(((e,i)=>{var n=e.getData(this.colVisProp),r=[],s=0;switch(e.type){case"group":s=e.level,r.push(new ie(e.key,e.getComponent(),t.length,1));break;case"calc":case"row":t.forEach((e=>{r.push(new ie(e._column.getFieldValue(n),e,1,1))})),this.table.options.dataTree&&!1!==this.config.dataTree&&(s=e.modules.dataTree.index);break}o.push(new oe(e.type,r,e.getComponent(),s))})),o}generateTableElement(e){var t=document.createElement("table"),o=document.createElement("thead"),i=document.createElement("tbody"),n=this.lookupTableStyles(),r=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],s={};return s.rowFormatter=null!==r?r:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(s.treeElementField=this.table.modules.dataTree.elementField),s.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],s.groupHeader&&!Array.isArray(s.groupHeader)&&(s.groupHeader=[s.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),o,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach(((e,t)=>{let r;switch(e.type){case"header":o.appendChild(this.generateHeaderElement(e,s,n));break;case"group":i.appendChild(this.generateGroupElement(e,s,n));break;case"calc":i.appendChild(this.generateCalcElement(e,s,n));break;case"row":r=this.generateRowElement(e,s,n),this.mapElementStyles(t%2&&n.evenRow?n.evenRow:n.oddRow,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i.appendChild(r);break}})),o.innerHTML&&t.appendChild(o),t.appendChild(i),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t}lookupTableStyles(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}generateHeaderElement(e,t,o){var i=document.createElement("tr");return e.columns.forEach((e=>{if(e){var t=document.createElement("th"),o=e.component._column.definition.cssClass?e.component._column.definition.cssClass.split(" "):[];t.colSpan=e.width,t.rowSpan=e.height,t.innerHTML=e.value,this.cloneTableStyle&&(t.style.boxSizing="border-box"),o.forEach((function(e){t.classList.add(e)})),this.mapElementStyles(e.component.getElement(),t,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(e.component._column.contentElement,t,["padding-top","padding-left","padding-right","padding-bottom"]),e.component._column.visible?this.mapElementStyles(e.component.getElement(),t,["width"]):e.component._column.definition.width&&(t.style.width=e.component._column.definition.width+"px"),e.component._column.parent&&this.mapElementStyles(e.component._column.parent.groupElement,t,["border-top"]),i.appendChild(t)}})),i}generateGroupElement(e,t,o){var i=document.createElement("tr"),n=document.createElement("td"),r=e.columns[0];return i.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?r.value=t.groupHeader[e.indent](r.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1!==t.groupHeader&&(r.value=e.component._group.generator(r.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)),n.colSpan=r.width,n.innerHTML=r.value,i.classList.add("tabulator-print-table-group"),i.classList.add("tabulator-group-level-"+e.indent),r.component.isVisible()&&i.classList.add("tabulator-group-visible"),this.mapElementStyles(o.firstGroup,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(o.firstGroup,n,["padding-top","padding-left","padding-right","padding-bottom"]),i.appendChild(n),i}generateCalcElement(e,t,o){var i=this.generateRowElement(e,t,o);return i.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(o.calcRow,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i}generateRowElement(e,t,o){var i=document.createElement("tr");if(i.classList.add("tabulator-print-table-row"),e.columns.forEach(((n,r)=>{if(n){var s,a=document.createElement("td"),l=n.component._column,u=this.table.columnManager.findColumnIndex(l),c=n.value,d={modules:{},getValue:function(){return c},getField:function(){return l.definition.field},getElement:function(){return a},getColumn:function(){return l.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return d},column:l},p=l.definition.cssClass?l.definition.cssClass.split(" "):[];if(p.forEach((function(e){a.classList.add(e)})),this.table.modExists("format")&&!1!==this.config.formatCells)c=this.table.modules.format.formatExportValue(d,this.colVisProp);else switch(typeof c){case"object":c=null!==c?JSON.stringify(c):"";break;case"undefined":c="";break}c instanceof Node?a.appendChild(c):a.innerHTML=c,s=o.styleCells&&o.styleCells[u]?o.styleCells[u]:o.firstCell,s&&(this.mapElementStyles(s,a,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","text-align"]),l.definition.align&&(a.style.textAlign=l.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(t.treeElementField&&t.treeElementField==l.field||!t.treeElementField&&0==r)&&(e.component._row.modules.dataTree.controlEl&&a.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),a.firstChild),e.component._row.modules.dataTree.branchEl&&a.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),a.firstChild)),i.appendChild(a),d.modules.format&&d.modules.format.renderedCallback&&d.modules.format.renderedCallback()}})),t.rowFormatter&&"row"===e.type&&!1!==this.config.formatCells){let o=Object.assign(e.component);o.getElement=function(){return i},t.rowFormatter(e.component)}return i}generateHTMLTable(e){var t=document.createElement("div");return t.appendChild(this.generateTableElement(e)),t.innerHTML}getHtml(e,t,o,i){var n=this.generateExportList(o||this.table.options.htmlOutputConfig,t,e,i||"htmlOutput");return this.generateHTMLTable(n)}mapElementStyles(e,t,o){if(this.cloneTableStyle&&e&&t){var i={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var n=window.getComputedStyle(e);o.forEach((function(e){t.style[i[e]]||(t.style[i[e]]=n.getPropertyValue(e))}))}}}}ne.moduleName="export";var re={"=":function(e,t,o,i){return t==e},"<":function(e,t,o,i){return t<e},"<=":function(e,t,o,i){return t<=e},">":function(e,t,o,i){return t>e},">=":function(e,t,o,i){return t>=e},"!=":function(e,t,o,i){return t!=e},regex:function(e,t,o,i){return"string"==typeof e&&(e=new RegExp(e)),e.test(t)},like:function(e,t,o,i){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().indexOf(e.toLowerCase())>-1},keywords:function(e,t,o,i){var n=e.toLowerCase().split("undefined"===typeof i.separator?" ":i.separator),r=String(null===t||"undefined"===typeof t?"":t).toLowerCase(),s=[];return n.forEach((e=>{r.includes(e)&&s.push(!0)})),i.matchAll?s.length===n.length:!!s.length},starts:function(e,t,o,i){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().startsWith(e.toLowerCase())},ends:function(e,t,o,i){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().endsWith(e.toLowerCase())},in:function(e,t,o,i){return Array.isArray(e)?!e.length||e.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",e),!1)}};class se extends s{constructor(e){super(e),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach((e=>{var t=this.table.columnManager.findColumn(e.field);if(!t)return console.warn("Column Filter Error - No matching column found:",e.field),!1;this.setHeaderFilterValue(t,e.value)})),this.tableInitialized=!0}remoteFilterParams(e,t,o,i){return i.filter=this.getFilters(!0,!0),i}userSetFilter(e,t,o,i){this.setFilter(e,t,o,i),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(e,t,o,i){this.addFilter(e,t,o,i),this.refreshFilter()}userSetHeaderFilterFocus(e){var t=this.table.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(t)}userGetHeaderFilterValue(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}userSetHeaderFilterValue(e,t){var o=this.table.columnManager.findColumn(e);if(!o)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(o,t)}userRemoveFilter(e,t,o){this.removeFilter(e,t,o),this.refreshFilter()}userClearFilter(e){this.clearFilter(e),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(e,t,o){return this.search("rows",e,t,o)}searchData(e,t,o){return this.search("data",e,t,o)}initializeColumnHeaderFilter(e){var t=e.definition;t.headerFilter&&this.initializeColumn(e)}initializeColumn(e,t){var o=this,i=e.getField();function n(t){var n,r="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",s="",a="";if("undefined"===typeof e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==t){if(e.modules.filter.prevSuccess=t,e.modules.filter.emptyFunc(t))delete o.headerFilters[i];else{switch(e.modules.filter.value=t,typeof e.definition.headerFilterFunc){case"string":se.filters[e.definition.headerFilterFunc]?(s=e.definition.headerFilterFunc,n=function(o){var i=e.definition.headerFilterFuncParams||{},n=e.getFieldValue(o);return i="function"===typeof i?i(t,n,o):i,se.filters[e.definition.headerFilterFunc](t,n,o,i)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":n=function(o){var i=e.definition.headerFilterFuncParams||{},n=e.getFieldValue(o);return i="function"===typeof i?i(t,n,o):i,e.definition.headerFilterFunc(t,n,o,i)},s=n;break}if(!n)switch(r){case"partial":n=function(o){var i=e.getFieldValue(o);return"undefined"!==typeof i&&null!==i&&String(i).toLowerCase().indexOf(String(t).toLowerCase())>-1},s="like";break;default:n=function(o){return e.getFieldValue(o)==t},s="="}o.headerFilters[i]={value:t,func:n,type:s}}e.modules.filter.value=t,a=JSON.stringify(o.headerFilters),o.prevHeaderFilterChangeCheck!==a&&(o.prevHeaderFilterChangeCheck=a,o.trackChanges(),o.refreshFilter())}return!0}e.modules.filter={success:n,attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}generateHeaderFilterElement(e,t,o){var i,n,r,s,a,l,u,c,d=this,p=e.modules.filter.success,h=e.getField();function f(){}function g(e){c=e}if(e.modules.filter.value=t,e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),h){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(e){return!e&&0!==e},i=document.createElement("div"),i.classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":d.table.modules.edit.editors[e.definition.headerFilter]?(n=d.table.modules.edit.editors[e.definition.headerFilter],"tick"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":n=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?n=e.modules.edit.editor:e.definition.formatter&&d.table.modules.edit.editors[e.definition.formatter]?(n=d.table.modules.edit.editors[e.definition.formatter],"tick"!==e.definition.formatter&&"tickCross"!==e.definition.formatter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):n=d.table.modules.edit.editors["input"];break}if(n){if(s={getValue:function(){return"undefined"!==typeof t?t:""},getField:function(){return e.definition.field},getElement:function(){return i},getColumn:function(){return e.getComponent()},getTable:()=>this.table,getRow:function(){return{normalizeHeight:function(){}}}},u=e.definition.headerFilterParams||{},u="function"===typeof u?u.call(d.table,s):u,r=n.call(this.table.modules.edit,s,g,p,f,u),!r)return void console.warn("Filter Error - Cannot add filter to "+h+" column, editor returned a value of false");if(!(r instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+h+" column, editor should return an instance of Node, the editor returned:",r);d.langBind("headerFilters|columns|"+e.definition.field,(function(t){r.setAttribute("placeholder","undefined"!==typeof t&&t?t:e.definition.headerFilterPlaceholder||d.langText("headerFilters|default"))})),r.addEventListener("click",(function(e){e.stopPropagation(),r.focus()})),r.addEventListener("focus",(e=>{var t=this.table.columnManager.contentsElement.scrollLeft,o=this.table.rowManager.element.scrollLeft;t!==o&&(this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t))})),a=!1,l=function(e){a&&clearTimeout(a),a=setTimeout((function(){p(r.value)}),d.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=r,e.modules.filter.attrType=r.hasAttribute("type")?r.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=r.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter&&("autocomplete"!==e.definition.editor&&"tickCross"!==e.definition.editor||!0!==e.definition.headerFilter)&&(r.addEventListener("keyup",l),r.addEventListener("search",l),"number"==e.modules.filter.attrType&&r.addEventListener("change",(function(e){p(r.value)})),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&r.setAttribute("type","search")),"input"!=e.modules.filter.tagType&&"select"!=e.modules.filter.tagType&&"textarea"!=e.modules.filter.tagType||r.addEventListener("mousedown",(function(e){e.stopPropagation()}))),i.appendChild(r),e.contentElement.appendChild(i),o||d.headerFilterColumns.push(e),c&&c()}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach((function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")}))}showHeaderFilterElements(){this.headerFilterColumns.forEach((function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")}))}setHeaderFilterFocus(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}getHeaderFilterValue(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}setHeaderFilterValue(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}reloadHeaderFilter(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData(null,!1,!1):this.refreshData(!0))}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var e=this.changed;return this.changed=!1,e}setFilter(e,t,o,i){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:o,params:i}]),this.addFilter(e)}addFilter(e,t,o,i){var n=!1;Array.isArray(e)||(e=[{field:e,type:t,value:o,params:i}]),e.forEach((e=>{e=this.findFilter(e),e&&(this.filterList.push(e),n=!0)})),n&&this.trackChanges()}findFilter(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var o=!1;return"function"==typeof e.field?o=function(t){return e.field(t,e.type||{})}:se.filters[e.type]?(t=this.table.columnManager.getColumnByField(e.field),o=t?function(o){return se.filters[e.type](e.value,t.getFieldValue(o),o,e.params||{})}:function(t){return se.filters[e.type](e.value,t[e.field],t,e.params||{})}):console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=o,!!e.func&&e}findSubFilters(e){var t=[];return e.forEach((e=>{e=this.findFilter(e),e&&t.push(e)})),!!t.length&&t}getFilters(e,t){var o=[];return e&&(o=this.getHeaderFilters()),t&&o.forEach((function(e){"function"==typeof e.type&&(e.type="function")})),o=o.concat(this.filtersToArray(this.filterList,t)),o}filtersToArray(e,t){var o=[];return e.forEach((e=>{var i;Array.isArray(e)?o.push(this.filtersToArray(e,t)):(i={field:e.field,type:e.type,value:e.value},t&&"function"==typeof i.type&&(i.type="function"),o.push(i))})),o}getHeaderFilters(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}removeFilter(e,t,o){Array.isArray(e)||(e=[{field:e,type:t,value:o}]),e.forEach((e=>{var t=-1;t="object"==typeof e.field?this.filterList.findIndex((t=>e===t)):this.filterList.findIndex((t=>e.field===t.field&&e.type===t.type&&e.value===t.value)),t>-1?this.filterList.splice(t,1):console.warn("Filter Error - No matching filter type found, ignoring: ",e.type)})),this.trackChanges()}clearFilter(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((e=>{"undefined"!==typeof e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(e)})),this.trackChanges()}search(e,t,o,i){var n=[],r=[];return Array.isArray(t)||(t=[{field:t,type:o,value:i}]),t.forEach((e=>{e=this.findFilter(e),e&&r.push(e)})),this.table.rowManager.rows.forEach((t=>{var o=!0;r.forEach((e=>{this.filterRecurse(e,t.getData())||(o=!1)})),o&&n.push("data"===e?t.getData("data"):t.getComponent())})),n}filter(e,t){var o=[],i=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters(!0)),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach((e=>{this.filterRow(e)&&o.push(e)})):o=e.slice(0),this.subscribedExternal("dataFiltered")&&(o.forEach((e=>{i.push(e.getComponent())})),this.dispatchExternal("dataFiltered",this.getFilters(!0),i)),o}filterRow(e,t){var o=!0,i=e.getData();for(var n in this.filterList.forEach((e=>{this.filterRecurse(e,i)||(o=!1)})),this.headerFilters)this.headerFilters[n].func(i)||(o=!1);return o}filterRecurse(e,t){var o=!1;return Array.isArray(e)?e.forEach((e=>{this.filterRecurse(e,t)&&(o=!0)})):o=e.func(t),o}}function ae(e,t,o){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))}function le(e,t,o){return e.getValue()}function ue(e,t,o){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))}function ce(e,t,o){var i,n,r,s,a=parseFloat(e.getValue()),l="",u=t.decimal||".",c=t.thousand||",",d=t.negativeSign||"-",p=t.symbol||"",h=!!t.symbolAfter,f="undefined"!==typeof t.precision?t.precision:2;if(isNaN(a))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));if(a<0&&(a=Math.abs(a),l=d),i=!1!==f?a.toFixed(f):a,i=String(i).split("."),n=i[0],r=i.length>1?u+i[1]:"",!1!==t.thousand){s=/(\d+)(\d{3})/;while(s.test(n))n=n.replace(s,"$1"+c+"$2")}return h?l+n+r+p:l+p+n+r}function de(e,t,o){var i,n=e.getValue(),r=t.urlPrefix||"",s=t.download,a=n,l=document.createElement("a");function u(e,t){var o=e.shift(),i=t[o];return e.length&&"object"===typeof i?u(e,i):i}if(t.labelField&&(i=e.getData(),a=u(t.labelField.split(this.table.options.nestedFieldSeparator),i)),t.label)switch(typeof t.label){case"string":a=t.label;break;case"function":a=t.label(e);break}if(a){if(t.urlField&&(i=e.getData(),n=i[t.urlField]),t.url)switch(typeof t.url){case"string":n=t.url;break;case"function":n=t.url(e);break}return l.setAttribute("href",r+n),t.target&&l.setAttribute("target",t.target),t.download&&(s="function"==typeof s?s(e):!0===s?"":s,l.setAttribute("download",s)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(a)),l}return"&nbsp;"}function pe(e,t,o){var i=document.createElement("img"),n=e.getValue();switch(t.urlPrefix&&(n=t.urlPrefix+e.getValue()),t.urlSuffix&&(n+=t.urlSuffix),i.setAttribute("src",n),typeof t.height){case"number":i.style.height=t.height+"px";break;case"string":i.style.height=t.height;break}switch(typeof t.width){case"number":i.style.width=t.width+"px";break;case"string":i.style.width=t.width;break}return i.addEventListener("load",(function(){e.getRow().normalizeHeight()})),i}function he(e,t,o){var i=e.getValue(),n=e.getElement(),r=t.allowEmpty,s=t.allowTruthy,a=Object.keys(t).includes("trueValue"),l="undefined"!==typeof t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',u="undefined"!==typeof t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i===t.trueValue||!a&&(s&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i)?(n.setAttribute("aria-checked",!0),l||""):!r||"null"!==i&&""!==i&&null!==i&&"undefined"!==typeof i?(n.setAttribute("aria-checked",!1),u||""):(n.setAttribute("aria-checked","mixed"),"")}function fe(e,t,o){var i,n=window.DateTime||luxon.DateTime,r=t.inputFormat||"yyyy-MM-dd HH:mm:ss",s=t.outputFormat||"dd/MM/yyyy HH:mm:ss",a="undefined"!==typeof t.invalidPlaceholder?t.invalidPlaceholder:"",l=e.getValue();if("undefined"!=typeof n)return i=n.isDateTime(l)?l:"iso"===r?n.fromISO(String(l)):n.fromFormat(String(l),r),i.isValid?(t.timezone&&(i=i.setZone(t.timezone)),i.toFormat(s)):!0!==a&&l?"function"===typeof a?a(l):a:l;console.error("Format Error - 'datetime' formatter is dependant on luxon.js")}function ge(e,t,o){var i,n=window.DateTime||luxon.DateTime,r=t.inputFormat||"yyyy-MM-dd HH:mm:ss",s="undefined"!==typeof t.invalidPlaceholder?t.invalidPlaceholder:"",a="undefined"!==typeof t.suffix&&t.suffix,l="undefined"!==typeof t.unit?t.unit:"days",u="undefined"!==typeof t.humanize&&t.humanize,c="undefined"!==typeof t.date?t.date:n.now(),d=e.getValue();if("undefined"!=typeof n)return i=n.isDateTime(d)?d:"iso"===r?n.fromISO(String(d)):n.fromFormat(String(d),r),i.isValid?u?i.diff(c,l).toHuman()+(a?" "+a:""):parseInt(i.diff(c,l)[l])+(a?" "+a:""):!0===s?d:"function"===typeof s?s(d):s;console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")}function me(e,t,o){var i=e.getValue();return"undefined"===typeof t[i]?(console.warn("Missing display value for "+i),i):t[i]}function ve(e,t,o){var i=e.getValue(),n=e.getElement(),r=t&&t.stars?t.stars:5,s=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l='<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',u='<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>';s.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,r));for(var c=1;c<=r;c++){var d=a.cloneNode(!0);d.innerHTML=c<=i?l:u,s.appendChild(d)}return n.style.whiteSpace="nowrap",n.style.overflow="hidden",n.style.textOverflow="ellipsis",n.setAttribute("aria-label",i),s}function ye(e,t,o){var i,n,r=this.sanitizeHTML(e.getValue())||0,s=document.createElement("span"),a=t&&t.max?t.max:100,l=t&&t.min?t.min:0,u=t&&"undefined"!==typeof t.color?t.color:["red","orange","green"],c="#666666";if(!isNaN(r)&&"undefined"!==typeof e.getValue()){switch(s.classList.add("tabulator-traffic-light"),n=parseFloat(r)<=a?parseFloat(r):a,n=parseFloat(n)>=l?parseFloat(n):l,i=(a-l)/100,n=Math.round((n-l)/i),typeof u){case"string":c=u;break;case"function":c=u(r);break;case"object":if(Array.isArray(u)){var d=100/u.length,p=Math.floor(n/d);p=Math.min(p,u.length-1),p=Math.max(p,0),c=u[p];break}}return s.style.backgroundColor=c,s}}function Ce(e,t={},o){var i,n,r,s,a,l=this.sanitizeHTML(e.getValue())||0,u=e.getElement(),c=t.max?t.max:100,d=t.min?t.min:0,p=t.legendAlign?t.legendAlign:"center";switch(n=parseFloat(l)<=c?parseFloat(l):c,n=parseFloat(n)>=d?parseFloat(n):d,i=(c-d)/100,n=Math.round((n-d)/i),typeof t.color){case"string":r=t.color;break;case"function":r=t.color(l);break;case"object":if(Array.isArray(t.color)){let e=100/t.color.length,o=Math.floor(n/e);o=Math.min(o,t.color.length-1),o=Math.max(o,0),r=t.color[o];break}default:r="#2DC214"}switch(typeof t.legend){case"string":s=t.legend;break;case"function":s=t.legend(l);break;case"boolean":s=l;break;default:s=!1}switch(typeof t.legendColor){case"string":a=t.legendColor;break;case"function":a=t.legendColor(l);break;case"object":if(Array.isArray(t.legendColor)){let e=100/t.legendColor.length,o=Math.floor(n/e);o=Math.min(o,t.legendColor.length-1),o=Math.max(o,0),a=t.legendColor[o]}break;default:a="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",n);var h=document.createElement("div");h.style.display="inline-block",h.style.width=n+"%",h.style.backgroundColor=r,h.style.height="100%",h.setAttribute("data-max",c),h.setAttribute("data-min",d);var f=document.createElement("div");if(f.style.position="relative",f.style.width="100%",f.style.height="100%",s){var g=document.createElement("div");g.style.position="absolute",g.style.top=0,g.style.left=0,g.style.textAlign=p,g.style.width="100%",g.style.color=a,g.innerHTML=s}return o((function(){if(!(e instanceof w)){var t=document.createElement("div");t.style.position="absolute",t.style.top="4px",t.style.bottom="4px",t.style.left="4px",t.style.right="4px",u.appendChild(t),u=t}u.appendChild(f),f.appendChild(h),s&&f.appendChild(g)})),""}function be(e,t,o){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""}function we(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'}function Ee(e,t,o){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'}function Se(e,t,o){var i=document.createElement("span"),n=e.getRow();return n.watchPosition((e=>{i.innerText=e})),i}function Re(e,t,o){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"}function Oe(e,t,o){var i=document.createElement("div"),n=e.getRow()._row.modules.responsiveLayout;function r(e){var t=n.element;n.open=e,t&&(n.open?(i.classList.add("open"),t.style.display=""):(i.classList.remove("open"),t.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML='<svg class=\'tabulator-responsive-collapse-toggle-open\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n  <line y1="7" x1="12" y2="17" x2="12" fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>\n\n<svg class=\'tabulator-responsive-collapse-toggle-close\' viewbox="0 0 24 24">\n  <line x1="7" y1="12" x2="17" y2="12"  fill="none" stroke-width="3" stroke-linecap="round" />\n</svg>',e.getElement().classList.add("tabulator-row-handle"),i.addEventListener("click",(function(t){t.stopImmediatePropagation(),r(!n.open),e.getTable().rowManager.adjustTableSize()})),r(n.open),i}function Te(e,t,o){var i=document.createElement("input"),n=!1;if(i.type="checkbox",i.setAttribute("aria-label","Select Row"),this.table.modExists("selectRow",!0))if(i.addEventListener("click",(e=>{e.stopPropagation()})),"function"==typeof e.getRow){var r=e.getRow();r instanceof T?(i.addEventListener("change",(e=>{"click"===this.table.options.selectableRangeMode&&n?n=!1:r.toggleSelect()})),"click"===this.table.options.selectableRangeMode&&i.addEventListener("click",(e=>{n=!0,this.table.modules.selectRow.handleComplexRowClick(r._row,e)})),i.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,i)):i=""}else i.addEventListener("change",(e=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(t.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}se.moduleName="filter",se.filters=re;var _e={plaintext:ae,html:le,textarea:ue,money:ce,link:de,image:pe,tickCross:he,datetime:fe,datetimediff:ge,lookup:me,star:ve,traffic:ye,progress:Ce,color:be,buttonTick:we,buttonCross:Ee,rownum:Se,handle:Re,responsiveCollapse:Oe,rowSelection:Te};class Pe extends s{constructor(e){super(e),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(e){e.modules.format=this.lookupFormatter(e,""),"undefined"!==typeof e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),"undefined"!==typeof e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),"undefined"!==typeof e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}lookupFormatter(e,t){var o={params:e.definition["formatter"+t+"Params"]||{}},i=e.definition["formatter"+t];switch(typeof i){case"string":Pe.formatters[i]?o.formatter=Pe.formatters[i]:(console.warn("Formatter Error - No such formatter found: ",i),o.formatter=Pe.formatters.plaintext);break;case"function":o.formatter=i;break;default:o.formatter=Pe.formatters.plaintext;break}return o}cellRendered(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}formatHeader(e,t,o){var i,n,r,s;return e.definition.titleFormatter?(i=this.getFormatter(e.definition.titleFormatter),r=t=>{e.titleFormatterRendered=t},s={getValue:function(){return t},getElement:function(){return o},getColumn:function(){return e.getComponent()},getTable:()=>this.table},n=e.definition.titleFormatterParams||{},n="function"===typeof n?n():n,i.call(this,s,n,r)):t}formatValue(e){var t=e.getComponent(),o="function"===typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;function i(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}return e.column.modules.format.formatter.call(this,t,o,i)}formatExportValue(e,t){var o,i=e.column.modules.format[t];if(i){function n(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}return o="function"===typeof i.params?i.params(e.getComponent()):i.params,i.formatter.call(this,e.getComponent(),o,n)}return this.formatValue(e)}sanitizeHTML(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=/]/g,(function(e){return t[e]}))}return e}emptyToSpace(e){return null===e||"undefined"===typeof e||""===e?"&nbsp;":e}getFormatter(e){switch(typeof e){case"string":Pe.formatters[e]?e=Pe.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=Pe.formatters.plaintext);break;case"function":break;default:e=Pe.formatters.plaintext;break}return e}}Pe.moduleName="format",Pe.formatters=_e;class De extends s{constructor(e){super(e),this.leftColumns=[],this.rightColumns=[],this.initializationMode="left",this.active=!1,this.blocked=!0,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("column-add",this.reinitializeColumns.bind(this)),this.subscribe("column-delete",this.reinitializeColumns.bind(this)),this.subscribe("table-redraw",this.layout.bind(this)),this.subscribe("layout-refreshing",this.blockLayout.bind(this)),this.subscribe("layout-refreshed",this.unblockLayout.bind(this)),this.subscribe("scrollbar-vertical",this.adjustForScrollbar.bind(this))}blockLayout(){this.blocked=!0}unblockLayout(){this.blocked=!1}layoutCell(e){this.layoutElement(e.element,e.column)}reinitializeColumns(){this.reset(),this.table.columnManager.columnsByIndex.forEach((e=>{this.initializeColumn(e)}))}initializeColumn(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}frozenCheck(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(e){e.forEach((e=>{e.calcs.top&&this.layoutRow(e.calcs.top),e.calcs.bottom&&this.layoutRow(e.calcs.bottom),e.groupList&&e.groupList.length&&this.layoutGroupCalcs(e.groupList)}))}layoutColumnPosition(e){var t=[],o=0,i=0;this.leftColumns.forEach(((i,n)=>{if(i.modules.frozen.marginValue=o,i.modules.frozen.margin=i.modules.frozen.marginValue+"px",i.visible&&(o+=i.getWidth()),n==this.leftColumns.length-1?i.modules.frozen.edge=!0:i.modules.frozen.edge=!1,i.parent.isGroup){var r=this.getColGroupParentElement(i);t.includes(r)||(this.layoutElement(r,i),t.push(r)),i.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+i.modules.frozen.position)}else this.layoutElement(i.getElement(),i);e&&i.cells.forEach((e=>{this.layoutElement(e.getElement(!0),i)}))})),this.rightColumns.forEach(((t,o)=>{t.modules.frozen.marginValue=i,t.modules.frozen.margin=t.modules.frozen.marginValue+"px",t.visible&&(i+=t.getWidth()),o==this.rightColumns.length-1?t.modules.frozen.edge=!0:t.modules.frozen.edge=!1,t.parent.isGroup?this.layoutElement(this.getColGroupParentElement(t),t):this.layoutElement(t.getElement(),t),e&&t.cells.forEach((e=>{this.layoutElement(e.getElement(!0),t)}))}))}getColGroupParentElement(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}layout(){this.active&&!this.blocked&&(this.layoutColumnPosition(),this.reinitializeRows(),this.layoutCalcRows())}reinitializeRows(){var e=this.table.rowManager.getVisibleRows(!0),t=this.table.rowManager.getRows().filter((t=>!e.includes(t)));t.forEach((e=>{e.deinitialize()})),e.forEach((e=>{"row"===e.type&&this.layoutRow(e)}))}layoutRow(e){"fitDataFill"===this.table.options.layout&&this.rightColumns.length&&(this.table.rowManager.getTableElement().style.minWidth="calc(100% - "+this.rightMargin+")"),this.leftColumns.forEach((t=>{var o=e.getCell(t);o&&this.layoutElement(o.getElement(!0),t)})),this.rightColumns.forEach((t=>{var o=e.getCell(t);o&&this.layoutElement(o.getElement(!0),t)}))}layoutElement(e,t){var o;t.modules.frozen&&(e.style.position="sticky",o=this.table.rtl?"left"===t.modules.frozen.position?"right":"left":t.modules.frozen.position,e.style[o]=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}adjustForScrollbar(e){this.rightColumns.length&&(this.table.columnManager.getContentsElement().style.width="calc(100% - "+e+"px)")}_calcSpace(e,t){var o=0;for(let i=0;i<t;i++)e[i].visible&&(o+=e[i].getWidth());return o}}De.moduleName="frozenColumns";class Ae extends s{constructor(e){super(e),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this)),this.registerTableOption("frozenRowsField","id"),this.registerTableOption("frozenRows",!1)}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getContentsElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.subscribe("rows-visible",this.visibleRows.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10),this.table.options.frozenRows&&(this.subscribe("data-processed",this.initializeRows.bind(this)),this.subscribe("row-added",this.initializeRow.bind(this)),this.subscribe("table-redrawing",this.resizeHolderWidth.bind(this)),this.subscribe("column-resized",this.resizeHolderWidth.bind(this)),this.subscribe("column-show",this.resizeHolderWidth.bind(this)),this.subscribe("column-hide",this.resizeHolderWidth.bind(this))),this.resizeHolderWidth()}resizeHolderWidth(){this.topElement.style.minWidth=this.table.columnManager.headersElement.offsetWidth+"px"}initializeRows(){this.table.rowManager.getRows().forEach((e=>{this.initializeRow(e)}))}initializeRow(e){var t=this.table.options.frozenRows,o=typeof t;"number"===o?e.getPosition()&&e.getPosition()+this.rows.length<=t&&this.freezeRow(e):"function"===o?t.call(this.table,e.getComponent())&&this.freezeRow(e):Array.isArray(t)&&t.includes(e.data[this.options("frozenRowsField")])&&this.freezeRow(e)}isRowFrozen(e){var t=this.rows.indexOf(e);return t>-1}isFrozen(){return!!this.rows.length}visibleRows(e,t){return this.rows.forEach((e=>{t.push(e)})),t}getRows(e){var t=e.slice(0);return this.rows.forEach((function(e){var o=t.indexOf(e);o>-1&&t.splice(o,1)})),t}freezeRow(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.rows.push(e),this.refreshData(!1,"display"),this.table.rowManager.adjustTableSize(),this.styleRows())}unfreezeRow(e){e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(e){var t=this.rows.indexOf(e);if(t>-1){var o=e.getElement();o.parentNode&&o.parentNode.removeChild(o),this.rows.splice(t,1)}}styleRows(e){this.rows.forEach(((e,t)=>{this.table.rowManager.styleRow(e,t)}))}}Ae.moduleName="frozenRows";class Me{constructor(e){return this._group=e,this.type="GroupComponent",new Proxy(this,{get:function(e,t,o){return"undefined"!==typeof e[t]?e[t]:e._group.groupManager.table.componentFunctionBinder.handle("group",e._group,t)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class Le{constructor(e,t,o,i,n,r,s){this.groupManager=e,this.parent=t,this.key=i,this.level=o,this.field=n,this.hasSubGroups=o<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=s,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.element=!1,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=s?s.visible:"undefined"!==typeof e.startOpen[o]?e.startOpen[o]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(e){e||(this.groupList.length?this.groupList.forEach((function(e){e.wipe()})):this.rows.forEach((e=>{e.modules&&delete e.modules.group}))),this.element=!1,this.arrowElement=!1,this.elementContents=!1}createElements(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((t=>{this._createGroup(t,e)}))}addBindings(){var e;this.groupManager.table.options.groupToggleElement&&(e="arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element,e.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation(),this.toggleVisibility()})))}_createGroup(e,t){var o=t+"_"+e,i=new Le(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[o]);this.groups[o]=i,this.groupList.push(i)}_addRowToGroup(e){var t=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[t].func(e.getData()),i=t+"_"+o;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[i]&&this.groups[i].addRow(e):(this.groups[i]||this._createGroup(o,t),this.groups[i].addRow(e))}}_addRow(e){this.rows.push(e),e.modules.group=this}insertRow(e,t,o){var i=this.conformRowData({});e.updateData(i);var n=this.rows.indexOf(t);n>-1?o?this.rows.splice(n+1,0,e):this.rows.splice(n,0,e):o?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(e){this.arrowElement&&(this.arrowElement.style.marginLeft=e,this.groupList.forEach((function(t){t.scrollHeader(e)})))}getRowIndex(e){}conformRowData(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}removeRow(e){var t=this.rows.indexOf(e),o=e.getElement();t>-1&&this.rows.splice(t,1),this.groupManager.table.options.groupValues||this.rows.length?(o.parentNode&&o.parentNode.removeChild(o),this.groupManager.blockRedraw||(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this))):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(e){var t,o=e.level+"_"+e.key;this.groups[o]&&(delete this.groups[o],t=this.groupList.indexOf(e),t>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(){var e=[];return e.push(this),this._visSet(),this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.visible?this.groupList.length?this.groupList.forEach((function(t){e=e.concat(t.getHeadersAndRows())})):("table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e}getData(e,t){var o=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach((e=>{o.push(e.getData(t||"data"))})),o}getRowCount(){var e=0;return this.groupList.length?this.groupList.forEach((t=>{e+=t.getRowCount()})):e=this.rows.length,e}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination||(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((e=>{var t=e.getHeadersAndRows();t.forEach((e=>{e.detachElement()}))})):this.rows.forEach((e=>{var t=e.getElement();t.parentNode.removeChild(t)}))),this.groupManager.updateGroupRows(!0),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"basic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=this.generateElement();this.groupList.length?this.groupList.forEach((t=>{var o=t.getHeadersAndRows();o.forEach((t=>{var o=t.getElement();e.parentNode.insertBefore(o,e.nextSibling),t.initialize(),e=o}))})):this.rows.forEach((t=>{var o=t.getElement();e.parentNode.insertBefore(o,e.nextSibling),t.initialize(),e=o})),this.groupManager.updateGroupRows(!0)}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var e=[];"function"==typeof this.visible&&(this.rows.forEach((function(t){e.push(t.getData())})),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}getRowGroup(e){var t=!1;return this.groupList.length?this.groupList.forEach((function(o){var i=o.getRowGroup(e);i&&(t=i)})):this.rows.find((function(t){return t===e}))&&(t=this),t}getSubGroups(e){var t=[];return this.groupList.forEach((function(o){t.push(e?o.getComponent():o)})),t}getRows(e){var t=[];return this.rows.forEach((function(o){t.push(e?o.getComponent():o)})),t}generateGroupHeaderContents(){var e=[];this.rows.forEach((function(t){e.push(t.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());while(this.element.firstChild)this.element.removeChild(this.element.firstChild);"string"===typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(e=[]){return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}getElement(){return this.elementContents?this.element:this.generateElement()}generateElement(){this.addBindings=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(e){this.initialized&&!e||(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,n.elVisible(this.element)&&this.initialize(!0)}setHeight(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new Me(this)),this.component}}class xe extends s{constructor(e){super(e),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayHandler=this.getRows.bind(this),this.blockRedraw=!1,this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.subscribe("table-destroy",this._blockRedrawing.bind(this)),this.subscribe("rows-wipe",this._blockRedrawing.bind(this)),this.subscribe("rows-wiped",this._restore_redrawing.bind(this)),this.table.options.groupBy&&(this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("table-built",this.configureGroupSetup.bind(this)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}_blockRedrawing(){this.blockRedraw=!0}_restore_redrawing(){this.blockRedraw=!1}configureGroupSetup(){if(this.table.options.groupBy){var e=this.table.options.groupBy,t=this.table.options.groupStartOpen,o=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(e)&&Array.isArray(o)&&e.length>o.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",((e,t)=>{this.headerGenerator[0]=(o,i,n)=>("undefined"===typeof o?"":o)+"<span>("+i+" "+(1===i?e:t.groups.items)+")</span>"})),this.groupIDLookups=[],e)this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs){var i=this.table.columnManager.getRealColumns();i.forEach((e=>{e.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}))}Array.isArray(e)||(e=[e]),e.forEach(((e,t)=>{var o,i;"function"==typeof e?o=e:(i=this.table.columnManager.getColumnByField(e),o=i?function(e){return i.getFieldValue(e)}:function(t){return t[e]}),this.groupIDLookups.push({field:"function"!==typeof e&&e,func:o,values:!!this.allowedValues&&this.allowedValues[t]})})),t&&(Array.isArray(t)||(t=[t]),t.forEach((e=>{})),this.startOpen=t),o&&(this.headerGenerator=Array.isArray(o)?o:[o])}else this.groupList=[],this.groups={}}rowSample(e,t){if(this.table.options.groupBy){var o=this.getGroups(!1)[0];t.push(o.getRows(!1)[0])}return t}virtualRenderFill(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();if(!this.table.options.groupBy)return t;t=t.filter((e=>"group"!==e.type)),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(e,t,o){if(this.table.options.groupBy){this.assignRowToGroup(e);var i=e.modules.group.rows;return i.length>1&&(!t||t&&-1==i.indexOf(t)?o?i[0]!==e&&(t=i[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!o)):i[i.length-1]!==e&&(t=i[i.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!o)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!o)),t}}trackChanges(){this.dispatch("group-changed")}setGroupBy(e){this.table.options.groupBy=e,this.initialized||this.initialize(),this.configureGroupSetup(),!e&&this.table.modExists("columnCalcs")&&!0===this.table.options.columnCalcs&&this.table.modules.columnCalcs.reinitializeCalcs(),this.refreshData(),this.trackChanges()}setGroupValues(e){this.table.options.groupValues=e,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(e){this.table.options.groupStartOpen=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(e){this.table.options.groupHeader=e,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(e){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(e){return!!e.modules.group&&e.modules.group.getComponent()}rowMoving(e,t,o){if(this.table.options.groupBy){!o&&t instanceof Le&&(t=this.table.rowManager.prevDisplayRow(e)||t);var i=t instanceof Le?t:t.modules.group,n=e instanceof Le?e:e.modules.group;i===n?this.table.rowManager.moveRowInArray(i.rows,e,t,o):(n&&n.removeRow(e),i.insertRow(e,t,o))}}rowDeleting(e){this.table.options.groupBy&&e.modules.group&&e.modules.group.removeRow(e)}rowsUpdated(e){this.table.options.groupBy&&this.updateGroupRows(!0)}cellUpdated(e){this.table.options.groupBy&&this.reassignRowToGroup(e.row)}getRows(e){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}getGroups(e){var t=[];return this.groupList.forEach((function(o){t.push(e?o.getComponent():o)})),t}getChildGroups(e){var t=[];return e||(e=this),e.groupList.forEach((e=>{e.groupList.length?t=t.concat(this.getChildGroups(e)):t.push(e)})),t}wipe(){this.table.options.groupBy&&(this.groupList.forEach((function(e){e.wipe()})),this.groupList=[],this.groups={})}pullGroupListData(e){var t=[];return e.forEach((e=>{var o={level:0,rowCount:0,headerContent:""},i=[];e.hasSubGroups?(i=this.pullGroupListData(e.groupList),o.level=e.level,o.rowCount=i.length-e.groupList.length,o.headerContent=e.generator(e.key,o.rowCount,e.rows,e),t.push(o),t=t.concat(i)):(o.level=e.level,o.headerContent=e.generator(e.key,e.rows.length,e.rows,e),o.rowCount=e.getRows().length,t.push(o),e.getRows().forEach((e=>{t.push(e.getData("data"))})))})),t}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(e){var t=!1;return this.options("dataTree")&&(e=this.table.modules.dataTree.getTreeParentRoot(e)),this.groupList.forEach((o=>{var i=o.getRowGroup(e);i&&(t=i)})),t}countGroups(){return this.groupList.length}generateGroups(e){var t=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((e=>{this.createGroup(e,0,t)})),e.forEach((e=>{this.assignRowToExistingGroup(e,t)}))):e.forEach((e=>{this.assignRowToGroup(e,t)})),Object.values(t).forEach((e=>{e.wipe(!0)}))}createGroup(e,t,o){var i,n=t+"_"+e;o=o||[],i=new Le(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],o[n]),this.groups[n]=i,this.groupList.push(i)}assignRowToExistingGroup(e,t){var o=this.groupIDLookups[0].func(e.getData()),i="0_"+o;this.groups[i]&&this.groups[i].addRow(e)}assignRowToGroup(e,t){var o=this.groupIDLookups[0].func(e.getData()),i=!this.groups["0_"+o];return i&&this.createGroup(o,0,t),this.groups["0_"+o].addRow(e),!i}reassignRowToGroup(e){if("row"===e.type){var t,o=e.modules.group,i=o.getPath(),n=this.getExpectedPath(e);t=i.length==n.length&&i.every(((e,t)=>e===n[t])),t||(o.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}getExpectedPath(e){var t=[],o=e.getData();return this.groupIDLookups.forEach((e=>{t.push(e.func(o))})),t}updateGroupRows(e){var t=[];return this.blockRedraw||(this.groupList.forEach((e=>{t=t.concat(e.getHeadersAndRows())})),e&&this.refreshData(!0)),t}scrollHeaders(e){this.table.options.groupBy&&("virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach((t=>{t.scrollHeader(e)})))}removeGroup(e){var t,o=e.level+"_"+e.key;this.groups[o]&&(delete this.groups[o],t=this.groupList.indexOf(e),t>-1&&this.groupList.splice(t,1))}checkBasicModeGroupHeaderWidth(){var e=this.table.rowManager.tableElement,t=!0;this.table.rowManager.getDisplayRows().forEach(((o,i)=>{this.table.rowManager.styleRow(o,i),e.appendChild(o.getElement()),o.initialize(!0),"group"!==o.type&&(t=!1)})),e.style.minWidth=t?this.table.columnManager.getWidth()+"px":""}}xe.moduleName="groupRows";var Fe={cellEdit:function(e){e.component.setValueProcessData(e.data.oldValue),e.component.cellRendered()},rowAdd:function(e){e.component.deleteActual()},rowDelete:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.posFrom],!e.data.after),this.table.rowManager.redraw()}},Ne={cellEdit:function(e){e.component.setValueProcessData(e.data.newValue),e.component.cellRendered()},rowAdd:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowDelete:function(e){e.component.deleteActual()},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.posTo],e.data.after),this.table.rowManager.redraw()}};class Ie extends s{constructor(e){super(e),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(e,t,o){this.action("rowMove",e,{posFrom:e.getPosition(),posTo:t.getPosition(),to:t,after:o})}rowAdded(e,t,o,i){this.action("rowAdd",e,{data:t,pos:o,index:i})}rowDeleted(e){var t,o;this.table.options.groupBy?(o=e.getComponent().getGroup()._getSelf().rows,t=o.indexOf(e),t&&(t=o[t-1])):(t=e.table.rowManager.getRowIndex(e),t&&(t=e.table.rowManager.rows[t-1])),this.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}cellUpdated(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}clear(){this.history=[],this.index=-1}action(e,t,o){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:o}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(e){var t=this.history.findIndex((function(t){return t.component===e}));t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}undo(){if(this.index>-1){let e=this.history[this.index];return Ie.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let e=this.history[this.index];return Ie.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(e,t){this.history.forEach((function(o){if(o.component instanceof _)o.component===e&&(o.component=t);else if(o.component instanceof E&&o.component.row===e){var i=o.component.column.getField();i&&(o.component=t.getCell(i))}}))}}Ie.moduleName="history",Ie.undoers=Fe,Ie.redoers=Ne;class ke extends s{constructor(e){super(e),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&(this.table.originalElement.childNodes.length?this.parseTable():console.warn("Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element."))}parseTable(){var e=this.table.originalElement,t=this.table.options,o=e.getElementsByTagName("th"),i=e.getElementsByTagName("tbody")[0],n=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),i=i?i.getElementsByTagName("tr"):[],this._extractOptions(e,t),o.length?this._extractHeaders(o,i):this._generateBlankHeaders(o,i);for(var r=0;r<i.length;r++){var s=i[r],a=s.getElementsByTagName("td"),l={};this.hasIndex||(l[t.index]=r);for(var u=0;u<a.length;u++){var c=a[u];"undefined"!==typeof this.fieldIndex[u]&&(l[this.fieldIndex[u]]=c.innerHTML)}n.push(l)}t.data=n,this.dispatchExternal("htmlImported")}_extractOptions(e,t,o){var i=e.attributes,n=o?Object.keys(o):Object.keys(t),r={};for(var s in n.forEach((e=>{r[e.toLowerCase()]=e})),i){var a,l=i[s];l&&"object"==typeof l&&l.name&&0===l.name.indexOf("tabulator-")&&(a=l.name.replace("tabulator-",""),"undefined"!==typeof r[a]&&(t[r[a]]=this._attribValue(l.value)))}}_attribValue(e){return"true"===e||"false"!==e&&e}_findCol(e){var t=this.table.options.columns.find((t=>t.title===e));return t||!1}_extractHeaders(e,t){for(var o=0;o<e.length;o++){var i,n=e[o],r=!1,s=this._findCol(n.textContent);s?r=!0:s={title:n.textContent.trim()},s.field||(s.field=n.textContent.trim().toLowerCase().replace(" ","_")),i=n.getAttribute("width"),i&&!s.width&&(s.width=i),this._extractOptions(n,s,this.table.columnManager.optionsList.registeredDefaults),this.fieldIndex[o]=s.field,s.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(s)}}_generateBlankHeaders(e,t){for(var o=0;o<e.length;o++){var i=e[o],n={title:"",field:"col"+o};this.fieldIndex[o]=n.field;var r=i.getAttribute("width");r&&(n.width=r),this.table.options.columns.push(n)}}}function Ge(e){var t=[],o=0,i=0,n=!1;for(let r=0;r<e.length;r++){let s=e[r],a=e[r+1];t[o]||(t[o]=[]),t[o][i]||(t[o][i]=""),'"'==s&&n&&'"'==a?(t[o][i]+=s,r++):'"'!=s?","!=s||n?"\r"!=s||"\n"!=a||n?"\r"!=s&&"\n"!=s||n?t[o][i]+=s:(i=0,o++):(i=0,o++,r++):i++:n=!n}return t}function He(e){try{return JSON.parse(e)}catch(t){return console.warn("JSON Import Error - File contents is invalid JSON",t),Promise.reject()}}function Ve(e){return e}ke.moduleName="htmlTableImport";var Be={csv:Ge,json:He,array:Ve};class je extends s{constructor(e){super(e),this.registerTableOption("importFormat"),this.registerTableOption("importReader","text")}initialize(){this.registerTableFunction("import",this.importFromFile.bind(this)),this.table.options.importFormat&&(this.subscribe("data-loading",this.loadDataCheck.bind(this),10),this.subscribe("data-load",this.loadData.bind(this),10))}loadDataCheck(e){return this.table.options.importFormat&&("string"===typeof e||Array.isArray(e)&&e.length&&Array.isArray(e))}loadData(e,t,o,i,n){return this.importData(this.lookupImporter(),e).then(this.structureData.bind(this)).catch((e=>(console.error("Import Error:",e||"Unable to import data"),Promise.reject(e))))}lookupImporter(e){var t;return e||(e=this.table.options.importFormat),t="string"===typeof e?je.importers[e]:e,t||console.error("Import Error - Importer not found:",e),t}importFromFile(e,t){var o=this.lookupImporter(e);if(o)return this.pickFile(t).then(this.importData.bind(this,o)).then(this.structureData.bind(this)).then(this.setData.bind(this)).catch((e=>(console.error("Import Error:",e||"Unable to import file"),Promise.reject(e))))}pickFile(e){return new Promise(((t,o)=>{var i=document.createElement("input");i.type="file",i.accept=e,i.addEventListener("change",(e=>{var n=i.files[0],r=new FileReader;switch(this.table.options.importReader){case"buffer":r.readAsArrayBuffer(n);break;case"binary":r.readAsBinaryString(n);break;case"url":r.readAsDataURL(n);break;case"text":default:r.readAsText(n)}r.onload=e=>{t(r.result)},r.onerror=e=>{console.warn("File Load Error - Unable to read file"),o()}})),i.click()}))}importData(e,t){var o=e.call(this.table,t);return o instanceof Promise?o:o?Promise.resolve(o):Promise.reject()}structureData(e){var t=[];return Array.isArray(e)&&e.length&&Array.isArray(e[0])?(t=this.table.options.autoColumns?this.structureArrayToObject(e):this.structureArrayToColumns(e),t):e}structureArrayToObject(e){var t=e.shift(),o=e.map((e=>{var o={};return t.forEach(((t,i)=>{o[t]=e[i]})),o}));return o}structureArrayToColumns(e){var t=[],o=this.table.getColumns();return o[0]&&e[0][0]&&o[0].getDefinition().title===e[0][0]&&e.shift(),e.forEach((e=>{var i={};e.forEach(((e,t)=>{var n=o[t];n&&(i[n.getField()]=e)})),t.push(i)})),t}setData(e){return this.table.setData(e)}}je.moduleName="import",je.importers=Be;class We extends s{constructor(e){super(e),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowMouseDown:"row-mousedown",rowMouseUp:"row-mouseup",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellMouseDown:"cell-mousedown",cellMouseUp:"cell-mouseup",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerMouseDown:"column-mousedown",headerMouseUp:"column-mouseup",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupMouseDown:"group-mousedown",groupMouseUp:"group-mouseup",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null},group:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerMouseDown"),this.registerColumnOption("headerMouseUp"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellMouseDown"),this.registerColumnOption("cellMouseUp"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(e,t){var o;if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==t){e.preventDefault();try{document.selection?(o=document.body.createTextRange(),o.moveToElementText(t.getElement()),o.select()):window.getSelection&&(o=document.createRange(),o.selectNode(t.getElement()),window.getSelection().removeAllRanges(),window.getSelection().addRange(o))}catch(e){}}}initializeExternalEvents(){for(let e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}subscriptionChanged(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?!this.subscribers[e]||this.columnSubscribers[e]||this.subscribedExternal(e)||(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}subscribeTouchEvents(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}unsubscribeTouchEvents(e){var t=!0,o=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){delete this.subscribers[e];for(let e in this.eventMap)this.eventMap[e]===o&&this.subscribers[e]&&(t=!1);t&&(this.unsubscribe(o+"-touchstart",this.touchSubscribers[o+"-touchstart"]),this.unsubscribe(o+"-touchend",this.touchSubscribers[o+"-touchend"]),delete this.touchSubscribers[o+"-touchstart"],delete this.touchSubscribers[o+"-touchend"])}}initializeColumn(e){var t=e.definition;for(let o in this.eventMap)t[o]&&(this.subscriptionChanged(o,!0),this.columnSubscribers[o]||(this.columnSubscribers[o]=[]),this.columnSubscribers[o].push(e))}handle(e,t,o){this.dispatchEvent(e,t,o)}handleTouch(e,t,o,i){var n=this.touchWatchers[e];switch("column"===e&&(e="header"),t){case"start":n.tap=!0,clearTimeout(n.tapHold),n.tapHold=setTimeout((()=>{clearTimeout(n.tapHold),n.tapHold=null,n.tap=null,clearTimeout(n.tapDbl),n.tapDbl=null,this.dispatchEvent(e+"TapHold",o,i)}),1e3);break;case"end":n.tap&&(n.tap=null,this.dispatchEvent(e+"Tap",o,i)),n.tapDbl?(clearTimeout(n.tapDbl),n.tapDbl=null,this.dispatchEvent(e+"DblTap",o,i)):n.tapDbl=setTimeout((()=>{clearTimeout(n.tapDbl),n.tapDbl=null}),300),clearTimeout(n.tapHold),n.tapHold=null;break}}dispatchEvent(e,t,o){var i,n=o.getComponent();this.columnSubscribers[e]&&(o instanceof E?i=o.column.definition[e]:o instanceof O&&(i=o.definition[e]),i&&i(t,n)),this.dispatchExternal(e,t,n)}}We.moduleName="interaction";var ze={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:["ctrl + 90","meta + 90"],redo:["ctrl + 89","meta + 89"],copyToClipboard:["ctrl + 67","meta + 89"]},Ue={keyBlock:function(e){e.stopPropagation(),e.preventDefault()},scrollPageUp:function(e){var t=this.table.rowManager,o=t.scrollTop-t.element.clientHeight;e.preventDefault(),t.displayRowsCount&&(o>=0?t.element.scrollTop=o:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(e){var t=this.table.rowManager,o=t.scrollTop+t.element.clientHeight,i=t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(o<=i?t.element.scrollTop=o:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(e){this.dispatch("keybinding-nav-prev",e)},navNext:function(e){this.dispatch("keybinding-nav-next",e)},navLeft:function(e){this.dispatch("keybinding-nav-left",e)},navRight:function(e){this.dispatch("keybinding-nav-right",e)},navUp:function(e){this.dispatch("keybinding-nav-up",e)},navDown:function(e){this.dispatch("keybinding-nav-down",e)},undo:function(e){var t=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell,t||(e.preventDefault(),this.table.modules.history.undo()))},redo:function(e){var t=!1;this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell,t||(e.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(e){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};class Ke extends s{constructor(e){super(e),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",{}),this.registerTableOption("tabEndNewRow",!1)}initialize(){var e=this.table.options.keybindings,t={};this.watchKeys={},this.pressedKeys=[],!1!==e&&(Object.assign(t,Ke.bindings),Object.assign(t,e),this.mapBindings(t),this.bindEvents()),this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(e){for(let t in e)Ke.actions[t]?e[t]&&("object"!==typeof e[t]&&(e[t]=[e[t]]),e[t].forEach((e=>{var o=Array.isArray(e)?e:[e];o.forEach((e=>{this.mapBinding(t,e)}))}))):console.warn("Key Binding Error - no such action:",t)}mapBinding(e,t){var o={action:Ke.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1},i=t.toString().toLowerCase().split(" ").join("").split("+");i.forEach((e=>{switch(e){case"ctrl":o.ctrl=!0;break;case"shift":o.shift=!0;break;case"meta":o.meta=!0;break;default:e=isNaN(e)?e.toUpperCase().charCodeAt(0):parseInt(e),o.keys.push(e),this.watchKeys[e]||(this.watchKeys[e]=[]),this.watchKeys[e].push(o)}}))}bindEvents(){var e=this;this.keyupBinding=function(t){var o=t.keyCode,i=e.watchKeys[o];i&&(e.pressedKeys.push(o),i.forEach((function(o){e.checkBinding(t,o)})))},this.keydownBinding=function(t){var o=t.keyCode,i=e.watchKeys[o];if(i){var n=e.pressedKeys.indexOf(o);n>-1&&e.pressedKeys.splice(n,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(e,t){var o=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach((e=>{var t=this.pressedKeys.indexOf(e);-1==t&&(o=!1)})),o&&t.action.call(this,e),!0)}}Ke.moduleName="keybindings",Ke.bindings=ze,Ke.actions=Ue;class Ye extends s{constructor(e){super(e),this.menuContainer=null,this.nestedMenuBlock=!1,this.currentComponent=null,this.rootPopup=null,this.columnSubscribers={},this.registerTableOption("menuContainer",void 0),this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("rowDblClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerTableOption("groupDblClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerClickMenu"),this.registerColumnOption("headerDblClickMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("headerMenuIcon"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu"),this.registerColumnOption("dblClickMenu")}initialize(){this.deprecatedOptionsCheck(),this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheck("menuContainer","popupContainer")||(this.table.options.popupContainer=this.table.options.menuContainer)}initializeRowWatchers(){this.table.options.rowContextMenu&&(this.subscribe("row-contextmenu",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu)),this.table.on("rowTapHold",this.loadMenuEvent.bind(this,this.table.options.rowContextMenu))),this.table.options.rowClickMenu&&this.subscribe("row-click",this.loadMenuEvent.bind(this,this.table.options.rowClickMenu)),this.table.options.rowDblClickMenu&&this.subscribe("row-dblclick",this.loadMenuEvent.bind(this,this.table.options.rowDblClickMenu))}initializeGroupWatchers(){this.table.options.groupContextMenu&&(this.subscribe("group-contextmenu",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu)),this.table.on("groupTapHold",this.loadMenuEvent.bind(this,this.table.options.groupContextMenu))),this.table.options.groupClickMenu&&this.subscribe("group-click",this.loadMenuEvent.bind(this,this.table.options.groupClickMenu)),this.table.options.groupDblClickMenu&&this.subscribe("group-dblclick",this.loadMenuEvent.bind(this,this.table.options.groupDblClickMenu))}initializeColumn(e){var t=e.definition;t.headerContextMenu&&!this.columnSubscribers.headerContextMenu&&(this.columnSubscribers.headerContextMenu=this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextMenu),this.table.on("headerTapHold",this.loadMenuTableColumnEvent.bind(this,"headerContextMenu"))),t.headerClickMenu&&!this.columnSubscribers.headerClickMenu&&(this.columnSubscribers.headerClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerClickMenu"),this.subscribe("column-click",this.columnSubscribers.headerClickMenu)),t.headerDblClickMenu&&!this.columnSubscribers.headerDblClickMenu&&(this.columnSubscribers.headerDblClickMenu=this.loadMenuTableColumnEvent.bind(this,"headerDblClickMenu"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickMenu)),t.headerMenu&&this.initializeColumnHeaderMenu(e),t.contextMenu&&!this.columnSubscribers.contextMenu&&(this.columnSubscribers.contextMenu=this.loadMenuTableCellEvent.bind(this,"contextMenu"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextMenu),this.table.on("cellTapHold",this.loadMenuTableCellEvent.bind(this,"contextMenu"))),t.clickMenu&&!this.columnSubscribers.clickMenu&&(this.columnSubscribers.clickMenu=this.loadMenuTableCellEvent.bind(this,"clickMenu"),this.subscribe("cell-click",this.columnSubscribers.clickMenu)),t.dblClickMenu&&!this.columnSubscribers.dblClickMenu&&(this.columnSubscribers.dblClickMenu=this.loadMenuTableCellEvent.bind(this,"dblClickMenu"),this.subscribe("cell-dblclick",this.columnSubscribers.dblClickMenu))}initializeColumnHeaderMenu(e){var t,o=e.definition.headerMenuIcon;t=document.createElement("span"),t.classList.add("tabulator-header-popup-button"),o?("function"===typeof o&&(o=o(e.getComponent())),o instanceof HTMLElement?t.appendChild(o):t.innerHTML=o):t.innerHTML="&vellip;",t.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),this.loadMenuEvent(e.definition.headerMenu,t,e)})),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadMenuTableCellEvent(e,t,o){o._cell&&(o=o._cell),o.column.definition[e]&&this.loadMenuEvent(o.column.definition[e],t,o)}loadMenuTableColumnEvent(e,t,o){o._column&&(o=o._column),o.definition[e]&&this.loadMenuEvent(o.definition[e],t,o)}loadMenuEvent(e,t,o){o._group?o=o._group:o._row&&(o=o._row),e="function"==typeof e?e.call(this.table,t,o.getComponent()):e,this.loadMenu(t,o,e)}loadMenu(e,t,o,i,n){var r,s=!(e instanceof MouseEvent),a=document.createElement("div");if(a.classList.add("tabulator-menu"),s||e.preventDefault(),o&&o.length){if(i)r=n.child(a);else{if(this.nestedMenuBlock){if(this.rootPopup)return}else this.nestedMenuBlock=setTimeout((()=>{this.nestedMenuBlock=!1}),100);this.rootPopup&&this.rootPopup.hide(),this.rootPopup=r=this.popup(a)}o.forEach((e=>{var o=document.createElement("div"),i=e.label,n=e.disabled;e.separator?o.classList.add("tabulator-menu-separator"):(o.classList.add("tabulator-menu-item"),"function"==typeof i&&(i=i.call(this.table,t.getComponent())),i instanceof Node?o.appendChild(i):o.innerHTML=i,"function"==typeof n&&(n=n.call(this.table,t.getComponent())),n?(o.classList.add("tabulator-menu-item-disabled"),o.addEventListener("click",(e=>{e.stopPropagation()}))):e.menu&&e.menu.length?o.addEventListener("click",(i=>{i.stopPropagation(),this.loadMenu(i,t,e.menu,o,r)})):e.action&&o.addEventListener("click",(o=>{e.action(o,t.getComponent())})),e.menu&&e.menu.length&&o.classList.add("tabulator-menu-item-submenu")),a.appendChild(o)})),a.addEventListener("click",(e=>{this.rootPopup&&this.rootPopup.hide()})),r.show(i||e),r===this.rootPopup&&(this.rootPopup.hideOnBlur((()=>{this.rootPopup=null,this.currentComponent&&(this.dispatchExternal("menuClosed",this.currentComponent.getComponent()),this.currentComponent=null)})),this.currentComponent=t,this.dispatchExternal("menuOpened",t.getComponent()))}}}Ye.moduleName="menu";class qe extends s{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}initialize(){this.table.options.movableColumns&&this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(e){var t,o=this,i={};e.modules.frozen||e.isGroup||(t=e.getElement(),i.mousemove=function(i){e.parent===o.moving.parent&&((o.touchMove?i.touches[0].pageX:i.pageX)-n.elOffset(t).left+o.table.columnManager.contentsElement.scrollLeft>e.getWidth()/2?o.toCol===e&&o.toColAfter||(t.parentNode.insertBefore(o.placeholderElement,t.nextSibling),o.moveColumn(e,!0)):(o.toCol!==e||o.toColAfter)&&(t.parentNode.insertBefore(o.placeholderElement,t),o.moveColumn(e,!1)))}.bind(o),t.addEventListener("mousedown",(function(t){o.touchMove=!1,1===t.which&&(o.checkTimeout=setTimeout((function(){o.startMove(t,e)}),o.checkPeriod))})),t.addEventListener("mouseup",(function(e){1===e.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)})),o.bindTouchEvents(e)),e.modules.moveColumn=i}bindTouchEvents(e){var t,o,i,n,r,s,a=e.getElement(),l=!1;a.addEventListener("touchstart",(a=>{this.checkTimeout=setTimeout((()=>{this.touchMove=!0,t=e.nextColumn(),i=t?t.getWidth()/2:0,o=e.prevColumn(),n=o?o.getWidth()/2:0,r=0,s=0,l=!1,this.startMove(a,e)}),this.checkPeriod)}),{passive:!0}),a.addEventListener("touchmove",(a=>{var u,c;this.moving&&(this.moveHover(a),l||(l=a.touches[0].pageX),u=a.touches[0].pageX-l,u>0?t&&u-r>i&&(c=t,c!==e&&(l=a.touches[0].pageX,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement().nextSibling),this.moveColumn(c,!0))):o&&-u-s>n&&(c=o,c!==e&&(l=a.touches[0].pageX,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement()),this.moveColumn(c,!1))),c&&(t=c.nextColumn(),r=i,i=t?t.getWidth()/2:0,o=c.prevColumn(),s=n,n=o?o.getWidth()/2:0))}),{passive:!0}),a.addEventListener("touchend",(e=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(e)}))}startMove(e,t){var o=t.getElement(),i=this.table.columnManager.getContentsElement(),r=this.table.columnManager.getHeadersElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-n.elOffset(o).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),i.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=i.clientHeight-r.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach((function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)}))}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach((function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)}))}moveColumn(e,t){var o=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach((function(e,t){var i=e.getElement(!0);i.parentNode&&o[t]&&i.parentNode.insertBefore(o[t].getElement(),i.nextSibling)})):e.getCells().forEach((function(e,t){var i=e.getElement(!0);i.parentNode&&o[t]&&i.parentNode.insertBefore(o[t].getElement(),i)}))}endMove(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(e){var t,o=this.table.columnManager.getContentsElement(),i=o.scrollLeft,r=(this.touchMove?e.touches[0].pageX:e.pageX)-n.elOffset(o).left+i;this.hoverElement.style.left=r-this.startX+"px",r-i<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((()=>{t=Math.max(0,i-5),this.table.rowManager.getElement().scrollLeft=t,this.autoScrollTimeout=!1}),1))),i+o.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((()=>{t=Math.min(o.clientWidth,i+5),this.table.rowManager.getElement().scrollLeft=t,this.autoScrollTimeout=!1}),1)))}}qe.moduleName="moveColumn";class Je extends s{constructor(e){super(e),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(e){var t=this,o={};o.mouseup=function(o){t.tableRowDrop(o,e)}.bind(t),o.mousemove=function(o){var i;o.pageY-n.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?t.toRow===e&&t.toRowAfter||(i=e.getElement(),i.parentNode.insertBefore(t.placeholderElement,i.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(i=e.getElement(),i.previousSibling&&(i.parentNode.insertBefore(t.placeholderElement,i),t.moveRow(e,!1)))}.bind(t),e.modules.moveRow=o}initializeRow(e){var t,o=this,i={};i.mouseup=function(t){o.tableRowDrop(t,e)}.bind(o),i.mousemove=function(t){var i=e.getElement();t.pageY-n.elOffset(i).top+o.table.rowManager.element.scrollTop>e.getHeight()/2?o.toRow===e&&o.toRowAfter||(i.parentNode.insertBefore(o.placeholderElement,i.nextSibling),o.moveRow(e,!0)):(o.toRow!==e||o.toRowAfter)&&(i.parentNode.insertBefore(o.placeholderElement,i),o.moveRow(e,!1))}.bind(o),this.hasHandle||(t=e.getElement(),t.addEventListener("mousedown",(function(t){1===t.which&&(o.checkTimeout=setTimeout((function(){o.startMove(t,e)}),o.checkPeriod))})),t.addEventListener("mouseup",(function(e){1===e.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)})),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=i}initializeColumn(e){e.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(e){if(e.column.definition.rowHandle&&!1!==this.table.options.movableRows){var t=this,o=e.getElement(!0);o.addEventListener("mousedown",(function(o){1===o.which&&(t.checkTimeout=setTimeout((function(){t.startMove(o,e.row)}),t.checkPeriod))})),o.addEventListener("mouseup",(function(e){1===e.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)})),this.bindTouchEvents(e.row,o)}}bindTouchEvents(e,t){var o,i,n,r,s,a,l=!1;t.addEventListener("touchstart",(t=>{this.checkTimeout=setTimeout((()=>{this.touchMove=!0,o=e.nextRow(),n=o?o.getHeight()/2:0,i=e.prevRow(),r=i?i.getHeight()/2:0,s=0,a=0,l=!1,this.startMove(t,e)}),this.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",(t=>{var u,c;this.moving&&(t.preventDefault(),this.moveHover(t),l||(l=t.touches[0].pageY),u=t.touches[0].pageY-l,u>0?o&&u-s>n&&(c=o,c!==e&&(l=t.touches[0].pageY,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement().nextSibling),this.moveRow(c,!0))):i&&-u-a>r&&(c=i,c!==e&&(l=t.touches[0].pageY,c.getElement().parentNode.insertBefore(this.placeholderElement,c.getElement()),this.moveRow(c,!1))),c&&(o=c.nextRow(),s=n,n=o?o.getHeight()/2:0,i=c.prevRow(),a=r,r=i?i.getHeight()/2:0))})),t.addEventListener("touchend",(e=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(e),this.touchMove=!1)}))}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach((e=>{("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)}))}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach((e=>{("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)}))}startMove(e,t){var o=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o)),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.dispatchExternal("rowMoving",t.getComponent()),this.moveHover(e)}setStartPosition(e,t){var o,i,n=this.touchMove?e.touches[0].pageX:e.pageX,r=this.touchMove?e.touches[0].pageY:e.pageY;o=t.getElement(),this.connection?(i=o.getBoundingClientRect(),this.startX=i.left-n+window.pageXOffset,this.startY=i.top-r+window.pageYOffset):this.startY=r-o.getBoundingClientRect().top}endMove(e){e&&1!==e.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow?this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter):this.dispatchExternal("rowMoveCancelled",this.moving.getComponent()),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(e,t){this.toRow=e,this.toRowAfter=t}moveHover(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}moveHoverTable(e){var t=this.table.rowManager.getElement(),o=t.scrollTop,i=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+o;this.hoverElement.style.top=Math.min(i-this.startY,this.table.rowManager.element.scrollHeight-this.hoverElement.offsetHeight)+"px"}moveHoverConnections(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}elementRowDrop(e,t,o){this.dispatchExternal("movableRowsElementDrop",e,t,!!o&&o.getComponent())}connectToTables(e){var t;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((e=>{"string"===typeof e?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(e))):this.connectionElements.push(e)})),this.connectionElements.forEach((e=>{var t=t=>{this.elementRowDrop(t,e,this.moving)};e.addEventListener("mouseup",t),e.tabulatorElementDropEvent=t,e.classList.add("tabulator-movingrow-receiving")})))}disconnectFromTables(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((e=>{e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent}))}connect(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().addEventListener("mouseup",e.modules.moveRow.mouseup)})),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}disconnect(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((e=>{"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)})),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(e,t,o){var i=!1;if(o){switch(typeof this.table.options.movableRowsSender){case"string":i=this.senders[this.table.options.movableRowsSender];break;case"function":i=this.table.options.movableRowsSender;break}i?i.call(this,this.moving?this.moving.getComponent():void 0,t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}tableRowDrop(e,t){var o=!1,i=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver;break}o?i=o.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),i?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:i})}commsReceived(e,t,o){switch(t){case"connect":return this.connect(e,o.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,o.row,o.success)}}}Je.prototype.receivers={insert:function(e,t,o){return this.table.addRow(e.getData(),void 0,t),!0},add:function(e,t,o){return this.table.addRow(e.getData()),!0},update:function(e,t,o){return!!t&&(t.update(e.getData()),!0)},replace:function(e,t,o){return!!t&&(this.table.addRow(e.getData(),void 0,t),t.delete(),!0)}},Je.prototype.senders={delete:function(e,t,o){e.delete()}},Je.moduleName="moveRow";var Xe={};class $e extends s{constructor(e){super(e),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams"),this.registerColumnOption("mutateLink")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("cell-value-changed",this.mutateLink.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(e,t,o){return this.transformRow(t,"data",o)}initializeColumn(e){var t=!1,o={};this.allowedTypes.forEach((i=>{var n,r="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));e.definition[r]&&(n=this.lookupMutator(e.definition[r]),n&&(t=!0,o[r]={mutator:n,params:e.definition[r+"Params"]||{}}))})),t&&(e.modules.mutate=o)}lookupMutator(e){var t=!1;switch(typeof e){case"string":$e.mutators[e]?t=$e.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e;break}return t}transformRow(e,t,o){var i,n="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse((r=>{var s,a,l;r.modules.mutate&&(s=r.modules.mutate[n]||r.modules.mutate.mutator||!1,s&&(i=r.getFieldValue("undefined"!==typeof o?o:e),("data"==t&&!o||"undefined"!==typeof i)&&(l=r.getComponent(),a="function"===typeof s.params?s.params(i,e,t,l):s.params,r.setFieldValue(e,s.mutator(i,e,t,a,l)))))})),e}transformCell(e,t){if(e.column.modules.mutate){var o=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,i={};if(o)return i=Object.assign(i,e.row.getData()),e.column.setFieldValue(i,t),o.mutator(t,i,"edit",o.params,e.getComponent())}return t}mutateLink(e){var t=e.column.definition.mutateLink;t&&(Array.isArray(t)||(t=[t]),t.forEach((t=>{var o=e.row.getCell(t);o&&o.setValue(o.getValue(),!0,!0)})))}enable(){this.enabled=!0}disable(){this.enabled=!1}}function Qe(e,t,o,i,n){var r=document.createElement("span"),s=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",(e=>{s.innerHTML=e})),this.table.modules.localize.langBind("pagination|counter|of",(e=>{l.innerHTML=e})),this.table.modules.localize.langBind("pagination|counter|rows",(e=>{c.innerHTML=e})),i?(a.innerHTML=" "+t+"-"+Math.min(t+e-1,i)+" ",u.innerHTML=" "+i+" ",r.appendChild(s),r.appendChild(a),r.appendChild(l),r.appendChild(u),r.appendChild(c)):(a.innerHTML=" 0 ",r.appendChild(s),r.appendChild(a),r.appendChild(c)),r}function Ze(e,t,o,i,n){var r=document.createElement("span"),s=document.createElement("span"),a=document.createElement("span"),l=document.createElement("span"),u=document.createElement("span"),c=document.createElement("span");return this.table.modules.localize.langBind("pagination|counter|showing",(e=>{s.innerHTML=e})),a.innerHTML=" "+o+" ",this.table.modules.localize.langBind("pagination|counter|of",(e=>{l.innerHTML=e})),u.innerHTML=" "+n+" ",this.table.modules.localize.langBind("pagination|counter|pages",(e=>{c.innerHTML=e})),r.appendChild(s),r.appendChild(a),r.appendChild(l),r.appendChild(u),r.appendChild(c),r}$e.moduleName="mutator",$e.mutators=Xe;var et={rows:Qe,pages:Ze};class tt extends s{constructor(e){super(e),this.mode="local",this.progressiveLoad=!1,this.element=null,this.pageCounterElement=null,this.pageCounter=null,this.size=0,this.page=1,this.count=5,this.max=1,this.remoteRowCountEstimate=null,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationCounter",!1),this.registerTableOption("paginationCounterElement",!1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("footer-redraw",this.footerRedraw.bind(this)),"page"==this.table.options.paginationAddRow&&this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePageCounter(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(e,t){var o,i=this.table.rowManager,n=i.getDisplayRows();return t?n.length?o=n[0]:i.activeRows.length&&(o=i.activeRows[i.activeRows.length-1],t=!1):n.length&&(o=n[n.length-1],t=!(n.length<this.size)),{index:o,top:t}}calculatePageSizes(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:(e=document.createElement("div"),e.classList.add("tabulator-row"),e.style.visibility="hidden",t=document.createElement("div"),t.classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.dispatchExternal("pageSizeChanged",this.size),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(e,t,o,i){return this.initialLoad||(this.progressiveLoad&&!o||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),i.page=this.page,this.size&&(i.size=this.size),i}userSetPageToRow(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e),e)?this.setPageToRow(e):Promise.reject()}userSetPageSize(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}scrollVertical(e,t){var o,i,n;t||this.table.dataLoader.loading||(o=this.table.rowManager.getElement(),i=o.scrollHeight-o.clientHeight-e,n=this.table.options.progressiveLoadScrollMargin||2*o.clientHeight,i<n&&this.nextPage().catch((()=>{})))}restOnRenderBefore(e,t){return t||"local"===this.mode&&this.reset(),e}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),e=document.createElement("button"),e.classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(let t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;while(this.pageSizeSelect.firstChild)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((e=>{var t=document.createElement("option");t.value=e,!0===e?this.langBind("pagination|all",(function(e){t.innerHTML=e})):t.innerHTML=e,this.pageSizeSelect.appendChild(t)})),this.pageSizeSelect.value=this.size}}initializePageCounter(){var e=this.table.options.paginationCounter,t=null;e&&(t="function"===typeof e?e:tt.pageCounters[e],t?(this.pageCounter=t,this.pageCounterElement=document.createElement("span"),this.pageCounterElement.classList.add("tabulator-page-counter")):console.warn("Pagination Error - No such page counter found: ",e))}initializePaginator(e){var t,o;e||(this.langBind("pagination|first",(e=>{this.firstBut.innerHTML=e})),this.langBind("pagination|first_title",(e=>{this.firstBut.setAttribute("aria-label",e),this.firstBut.setAttribute("title",e)})),this.langBind("pagination|prev",(e=>{this.prevBut.innerHTML=e})),this.langBind("pagination|prev_title",(e=>{this.prevBut.setAttribute("aria-label",e),this.prevBut.setAttribute("title",e)})),this.langBind("pagination|next",(e=>{this.nextBut.innerHTML=e})),this.langBind("pagination|next_title",(e=>{this.nextBut.setAttribute("aria-label",e),this.nextBut.setAttribute("title",e)})),this.langBind("pagination|last",(e=>{this.lastBut.innerHTML=e})),this.langBind("pagination|last_title",(e=>{this.lastBut.setAttribute("aria-label",e),this.lastBut.setAttribute("title",e)})),this.firstBut.addEventListener("click",(()=>{this.setPage(1)})),this.prevBut.addEventListener("click",(()=>{this.previousPage()})),this.nextBut.addEventListener("click",(()=>{this.nextPage()})),this.lastBut.addEventListener("click",(()=>{this.setPage(this.max)})),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",(e=>{this.pageSizeSelect.setAttribute("aria-label",e),this.pageSizeSelect.setAttribute("title",e),t.innerHTML=e})),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",(e=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)}))),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||(this.table.options.paginationCounter&&(this.table.options.paginationCounterElement?this.table.options.paginationCounterElement instanceof HTMLElement?this.table.options.paginationCounterElement.appendChild(this.pageCounterElement):"string"===typeof this.table.options.paginationCounterElement&&(o=document.querySelector(this.table.options.paginationCounterElement),o?o.appendChild(this.pageCounterElement):console.warn("Pagination Error - Unable to find element matching paginationCounterElement selector:",this.table.options.paginationCounterElement)):this.footerAppend(this.pageCounterElement)),this.footerAppend(this.element)),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setMaxRows(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}reset(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1,this.trackChanges())}setMaxPage(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return e=parseInt(e),e>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}setPageToRow(e){var t=this.displayRows(-1),o=t.indexOf(e);if(o>-1){var i=!0===this.size?1:Math.ceil((o+1)/this.size);return this.setPage(i)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e,this.dispatchExternal("pageSizeChanged",e)),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageCounter(e,t,o){var i;if(this.pageCounter)switch("remote"===this.mode&&(t=this.size,o=(this.page-1)*this.size+1,e=this.remoteRowCountEstimate),i=this.pageCounter.call(this,t,o,this.page,e,this.max),typeof i){case"object":if(i instanceof Node){while(this.pageCounterElement.firstChild)this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);this.pageCounterElement.appendChild(i)}else this.pageCounterElement.innerHTML="",null!=i&&console.warn("Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:",i);break;case"undefined":this.pageCounterElement.innerHTML="";break;default:this.pageCounterElement.innerHTML=i}}_setPageButtons(){let e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),o=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),i=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);while(this.pagesElement.firstChild)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let n=o;n<=i;n++)n>0&&n<=this.max&&this.pagesElement.appendChild(this._generatePageButton(n));this.footerRedraw()}_generatePageButton(e){var t=document.createElement("button");return t.classList.add("tabulator-page"),e==this.page&&t.classList.add("active"),t.setAttribute("type","button"),t.setAttribute("role","button"),this.langBind("pagination|page_title",(o=>{t.setAttribute("aria-label",o+" "+e),t.setAttribute("title",o+" "+e)})),t.setAttribute("data-page",e),t.textContent=e,t.addEventListener("click",(t=>{this.setPage(e)})),t}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(e){return this.size}getMode(){return this.mode}getRows(e){var t,o,i,n,r=0,s=e.filter((e=>"row"===e.type));if("local"==this.mode){t=[],this.setMaxRows(e.length),!0===this.size?(o=0,i=e.length):(o=this.size*(this.page-1),i=o+parseInt(this.size)),this._setPageButtons();for(let s=o;s<i;s++){let o=e[s];o&&(t.push(o),"row"===o.type&&(n||(n=o),r++))}return this._setPageCounter(s.length,r,n?s.indexOf(n)+1:0),t}return this._setPageButtons(),this._setPageCounter(s.length),e.slice(0)}trigger(){var e;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally((()=>{this.dataChanging=!1}));case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(e){var t;if("undefined"===typeof e.last_page&&console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").last_page||"last_page")+"' property"),e.data){if(this.max=parseInt(e.last_page)||1,this.remoteRowCountEstimate="undefined"!==typeof e.last_row?e.last_row:e.last_page*this.size-(this.page==e.last_page?this.size-e.data.length:0),this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e.data,!1,1==this.page):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout((()=>{this.nextPage()}),this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=1===this.page?e.data:this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,1!==this.page,1==this.page),t=this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&this.page<this.max&&setTimeout((()=>{this.nextPage()}));break}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+(this.options("dataReceiveParams").data||"data")+"' property");return e.data}footerRedraw(){var e=this.table.footerManager.containerElement;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}tt.moduleName="page",tt.pageCounters=et;var ot={local:function(e,t){var o=localStorage.getItem(e+"-"+t);return!!o&&JSON.parse(o)},cookie:function(e,t){var o,i,n=document.cookie,r=e+"-"+t,s=n.indexOf(r+"=");return s>-1&&(n=n.slice(s),o=n.indexOf(";"),o>-1&&(n=n.slice(0,o)),i=n.replace(r+"=","")),!!i&&JSON.parse(i)}},it={local:function(e,t,o){localStorage.setItem(e+"-"+t,JSON.stringify(o))},cookie:function(e,t,o){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=e+"-"+t+"="+JSON.stringify(o)+"; expires="+i.toUTCString()}};class nt extends s{constructor(e){super(e),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}initialize(){if(this.table.options.persistence){var e,t=this.table.options.persistenceMode,o=this.table.options.persistenceID;this.mode=!0!==t?t:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"===typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:nt.readers[this.table.options.persistenceReaderFunc]?this.readFunc=nt.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):nt.readers[this.mode]?this.readFunc=nt.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"===typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:nt.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=nt.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):nt.writers[this.mode]?this.writeFunc=nt.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(o||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(e=this.retrieveData("page"),e&&("undefined"===typeof e.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=e.paginationSize),"undefined"===typeof e.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=e.paginationInitialPage))),this.config.group&&(e=this.retrieveData("group"),e&&("undefined"===typeof e.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=e.groupBy),"undefined"===typeof e.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=e.groupStartOpen),"undefined"===typeof e.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=e.groupHeader))),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns"))),this.subscribe("table-built",this.tableBuilt.bind(this),0),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("column-width",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(e){this.config[e]&&this.save(e)}tableBuilt(){var e,t;this.config.sort&&(e=this.load("sort"),!1===!e&&(this.table.options.initialSort=e)),this.config.filter&&(t=this.load("filter"),!1===!t&&(this.table.options.initialFilter=t))}tableRedraw(e){e&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}initializeColumn(e){var t,o;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),o=!0===this.config.columns?Object.keys(t):this.config.columns,o.forEach((e=>{var o=Object.getOwnPropertyDescriptor(t,e),i=t[e];o&&Object.defineProperty(t,e,{set:e=>{i=e,this.defWatcherBlock||this.save("columns"),o.set&&o.set(e)},get:()=>(o.get&&o.get(),i)})})),this.defWatcherBlock=!1)}load(e,t){var o=this.retrieveData(e);return t&&(o=o?this.mergeDefinition(t,o):t),o}retrieveData(e){return!!this.readFunc&&this.readFunc(this.id,e)}mergeDefinition(e,t){var o=[];return t=t||[],t.forEach(((t,i)=>{var n,r=this._findColumn(e,t);r&&(!0===this.config.columns||void 0==this.config.columns?(n=Object.keys(r),n.push("width")):n=this.config.columns,n.forEach((e=>{"columns"!==e&&"undefined"!==typeof t[e]&&(r[e]=t[e])})),r.columns&&(r.columns=this.mergeDefinition(r.columns,t.columns)),o.push(r))})),e.forEach(((e,i)=>{var n=this._findColumn(t,e);n||(o.length>i?o.splice(i,0,e):o.push(e))})),o}_findColumn(e,t){var o=t.columns?"group":t.field?"field":"object";return e.find((function(e){switch(o){case"group":return e.title===t.title&&e.columns.length===t.columns.length;case"field":return e.field===t.field;case"object":return e===t}}))}save(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig();break}this.writeFunc&&this.writeFunc(this.id,e,t)}validateSorters(e){return e.forEach((function(e){e.column=e.field,delete e.field})),e}getGroupConfig(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}getPageConfig(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}parseColumns(e){var t=[],o=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach((e=>{var i,n={},r=e.getDefinition();e.isGroup?(n.title=r.title,n.columns=this.parseColumns(e.getColumns())):(n.field=e.getField(),!0===this.config.columns||void 0==this.config.columns?(i=Object.keys(r),i.push("width"),i.push("visible")):i=this.config.columns,i.forEach((t=>{switch(t){case"width":n.width=e.getWidth();break;case"visible":n.visible=e.visible;break;default:"function"!==typeof r[t]&&-1===o.indexOf(t)&&(n[t]=r[t])}}))),t.push(n)})),t}}nt.moduleName="persistence",nt.moduleInitOrder=-10,nt.readers=ot,nt.writers=it;class rt extends s{constructor(e){super(e),this.columnSubscribers={},this.registerTableOption("rowContextPopup",!1),this.registerTableOption("rowClickPopup",!1),this.registerTableOption("rowDblClickPopup",!1),this.registerTableOption("groupContextPopup",!1),this.registerTableOption("groupClickPopup",!1),this.registerTableOption("groupDblClickPopup",!1),this.registerColumnOption("headerContextPopup"),this.registerColumnOption("headerClickPopup"),this.registerColumnOption("headerDblClickPopup"),this.registerColumnOption("headerPopup"),this.registerColumnOption("headerPopupIcon"),this.registerColumnOption("contextPopup"),this.registerColumnOption("clickPopup"),this.registerColumnOption("dblClickPopup"),this.registerComponentFunction("cell","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("column","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("row","popup",this._componentPopupCall.bind(this)),this.registerComponentFunction("group","popup",this._componentPopupCall.bind(this))}initialize(){this.initializeRowWatchers(),this.initializeGroupWatchers(),this.subscribe("column-init",this.initializeColumn.bind(this))}_componentPopupCall(e,t,o){this.loadPopupEvent(t,null,e,o)}initializeRowWatchers(){this.table.options.rowContextPopup&&(this.subscribe("row-contextmenu",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup)),this.table.on("rowTapHold",this.loadPopupEvent.bind(this,this.table.options.rowContextPopup))),this.table.options.rowClickPopup&&this.subscribe("row-click",this.loadPopupEvent.bind(this,this.table.options.rowClickPopup)),this.table.options.rowDblClickPopup&&this.subscribe("row-dblclick",this.loadPopupEvent.bind(this,this.table.options.rowDblClickPopup))}initializeGroupWatchers(){this.table.options.groupContextPopup&&(this.subscribe("group-contextmenu",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup)),this.table.on("groupTapHold",this.loadPopupEvent.bind(this,this.table.options.groupContextPopup))),this.table.options.groupClickPopup&&this.subscribe("group-click",this.loadPopupEvent.bind(this,this.table.options.groupClickPopup)),this.table.options.groupDblClickPopup&&this.subscribe("group-dblclick",this.loadPopupEvent.bind(this,this.table.options.groupDblClickPopup))}initializeColumn(e){var t=e.definition;t.headerContextPopup&&!this.columnSubscribers.headerContextPopup&&(this.columnSubscribers.headerContextPopup=this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"),this.subscribe("column-contextmenu",this.columnSubscribers.headerContextPopup),this.table.on("headerTapHold",this.loadPopupTableColumnEvent.bind(this,"headerContextPopup"))),t.headerClickPopup&&!this.columnSubscribers.headerClickPopup&&(this.columnSubscribers.headerClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerClickPopup"),this.subscribe("column-click",this.columnSubscribers.headerClickPopup)),t.headerDblClickPopup&&!this.columnSubscribers.headerDblClickPopup&&(this.columnSubscribers.headerDblClickPopup=this.loadPopupTableColumnEvent.bind(this,"headerDblClickPopup"),this.subscribe("column-dblclick",this.columnSubscribers.headerDblClickPopup)),t.headerPopup&&this.initializeColumnHeaderPopup(e),t.contextPopup&&!this.columnSubscribers.contextPopup&&(this.columnSubscribers.contextPopup=this.loadPopupTableCellEvent.bind(this,"contextPopup"),this.subscribe("cell-contextmenu",this.columnSubscribers.contextPopup),this.table.on("cellTapHold",this.loadPopupTableCellEvent.bind(this,"contextPopup"))),t.clickPopup&&!this.columnSubscribers.clickPopup&&(this.columnSubscribers.clickPopup=this.loadPopupTableCellEvent.bind(this,"clickPopup"),this.subscribe("cell-click",this.columnSubscribers.clickPopup)),t.dblClickPopup&&!this.columnSubscribers.dblClickPopup&&(this.columnSubscribers.dblClickPopup=this.loadPopupTableCellEvent.bind(this,"dblClickPopup"),this.subscribe("cell-click",this.columnSubscribers.dblClickPopup))}initializeColumnHeaderPopup(e){var t,o=e.definition.headerPopupIcon;t=document.createElement("span"),t.classList.add("tabulator-header-popup-button"),o?("function"===typeof o&&(o=o(e.getComponent())),o instanceof HTMLElement?t.appendChild(o):t.innerHTML=o):t.innerHTML="&vellip;",t.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault(),this.loadPopupEvent(e.definition.headerPopup,t,e)})),e.titleElement.insertBefore(t,e.titleElement.firstChild)}loadPopupTableCellEvent(e,t,o){o._cell&&(o=o._cell),o.column.definition[e]&&this.loadPopupEvent(o.column.definition[e],t,o)}loadPopupTableColumnEvent(e,t,o){o._column&&(o=o._column),o.definition[e]&&this.loadPopupEvent(o.definition[e],t,o)}loadPopupEvent(e,t,o,i){var n;function r(e){n=e}o._group?o=o._group:o._row&&(o=o._row),e="function"==typeof e?e.call(this.table,t,o.getComponent(),r):e,this.loadPopup(t,o,e,n,i)}loadPopup(e,t,o,i,n){var r,s,a=!(e instanceof MouseEvent);o instanceof HTMLElement?r=o:(r=document.createElement("div"),r.innerHTML=o),r.classList.add("tabulator-popup"),r.addEventListener("click",(e=>{e.stopPropagation()})),a||e.preventDefault(),s=this.popup(r),"function"===typeof i&&s.renderCallback(i),e?s.show(e):s.show(t.getElement(),n||"center"),s.hideOnBlur((()=>{this.dispatchExternal("popupClosed",t.getComponent())})),this.dispatchExternal("popupOpened",t.getComponent())}}rt.moduleName="popup";class st extends s{constructor(e){super(e),this.element=!1,this.manualBlock=!1,this.beforeprintEventHandler=null,this.afterprintEventHandler=null,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(this.beforeprintEventHandler=this.replaceTable.bind(this),this.afterprintEventHandler=this.cleanup.bind(this),window.addEventListener("beforeprint",this.beforeprintEventHandler),window.addEventListener("afterprint",this.afterprintEventHandler),this.subscribe("table-destroy",this.destroy.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}destroy(){this.table.options.printAsHtml&&(window.removeEventListener("beforeprint",this.beforeprintEventHandler),window.removeEventListener("afterprint",this.afterprintEventHandler))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(e,t,o){var i,n,r=window.scrollX,s=window.scrollY,a=document.createElement("div"),l=document.createElement("div"),u=this.table.modules.export.generateTable("undefined"!=typeof o?o:this.table.options.printConfig,"undefined"!=typeof t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),i="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader,"string"==typeof i?a.innerHTML=i:a.appendChild(i),this.element.appendChild(a)),this.element.appendChild(u),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),n="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter,"string"==typeof n?l.innerHTML=n:l.appendChild(n),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,u),window.print(),this.cleanup(),window.scrollTo(r,s),this.manualBlock=!1}}st.moduleName="print";class at extends s{constructor(e){super(e),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this,"cellsave")),this.subscribe("cell-value-save-after",this.unblock.bind(this,"cellsave")),this.subscribe("row-data-save-before",this.block.bind(this,"rowsave")),this.subscribe("row-data-save-after",this.unblock.bind(this,"rowsave")),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(e){var t,o=this;this.currentVersion++,t=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var i,n=Array.from(arguments);return o.blocked||t!==o.currentVersion||(o.block("data-push"),n.forEach((e=>{o.table.rowManager.addRowActual(e,!1)})),i=o.origFuncs.push.apply(e,arguments),o.unblock("data-push")),i}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var i,n=Array.from(arguments);return o.blocked||t!==o.currentVersion||(o.block("data-unshift"),n.forEach((e=>{o.table.rowManager.addRowActual(e,!0)})),i=o.origFuncs.unshift.apply(e,arguments),o.unblock("data-unshift")),i}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var i,n;return o.blocked||t!==o.currentVersion||(o.block("data-shift"),o.data.length&&(i=o.table.rowManager.getRowFromDataObject(o.data[0]),i&&i.deleteActual()),n=o.origFuncs.shift.call(e),o.unblock("data-shift")),n}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var i,n;return o.blocked||t!==o.currentVersion||(o.block("data-pop"),o.data.length&&(i=o.table.rowManager.getRowFromDataObject(o.data[o.data.length-1]),i&&i.deleteActual()),n=o.origFuncs.pop.call(e),o.unblock("data-pop")),n}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var i,n,r=Array.from(arguments),s=r[0]<0?e.length+r[0]:r[0],a=r[1],l=!!r[2]&&r.slice(2);if(!o.blocked&&t===o.currentVersion){if(o.block("data-splice"),l&&(i=!!e[s]&&o.table.rowManager.getRowFromDataObject(e[s]),i?l.forEach((e=>{o.table.rowManager.addRowActual(e,!0,i,!0)})):(l=l.slice().reverse(),l.forEach((e=>{o.table.rowManager.addRowActual(e,!0,!1,!0)})))),0!==a){var u=e.slice(s,"undefined"===typeof r[1]?r[1]:s+a);u.forEach(((e,t)=>{var i=o.table.rowManager.getRowFromDataObject(e);i&&i.deleteActual(t!==u.length-1)}))}(l||0!==a)&&o.table.rowManager.reRenderInPosition(),n=o.origFuncs.splice.apply(e,arguments),o.unblock("data-splice")}return n}})}unwatchData(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(e){var t=e.getData();for(var o in t)this.watchKey(e,t,o);this.table.options.dataTree&&this.watchTreeChildren(e)}watchTreeChildren(e){var t=this,o=e.getData()[this.table.options.dataTreeChildField],i={};o&&(i.push=o.push,Object.defineProperty(o,"push",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-push");var n=i.push.apply(o,arguments);this.rebuildTree(e),t.unblock("tree-push")}return n}}),i.unshift=o.unshift,Object.defineProperty(o,"unshift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-unshift");var n=i.unshift.apply(o,arguments);this.rebuildTree(e),t.unblock("tree-unshift")}return n}}),i.shift=o.shift,Object.defineProperty(o,"shift",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-shift");var n=i.shift.call(o);this.rebuildTree(e),t.unblock("tree-shift")}return n}}),i.pop=o.pop,Object.defineProperty(o,"pop",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-pop");var n=i.pop.call(o);this.rebuildTree(e),t.unblock("tree-pop")}return n}}),i.splice=o.splice,Object.defineProperty(o,"splice",{enumerable:!1,configurable:!0,value:()=>{if(!t.blocked){t.block("tree-splice");var n=i.splice.apply(o,arguments);this.rebuildTree(e),t.unblock("tree-splice")}return n}}))}rebuildTree(e){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}watchKey(e,t,o){var i=this,n=Object.getOwnPropertyDescriptor(t,o),r=t[o],s=this.currentVersion;Object.defineProperty(t,o,{set:t=>{if(r=t,!i.blocked&&s===i.currentVersion){i.block("key");var a={};a[o]=t,e.updateData(a),i.unblock("key")}n.set&&n.set(t)},get:()=>(n.get&&n.get(),r)})}unwatchRow(e){var t=e.getData();for(var o in t)Object.defineProperty(t,o,{value:t[o]})}block(e){this.blocked||(this.blocked=e)}unblock(e){this.blocked===e&&(this.blocked=!1)}}at.moduleName="reactiveData";class lt extends s{constructor(e){super(e),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.latestX=!1,this.handle=null,this.initialNextColumn=null,this.nextColumn=null,this.initialized=!1,this.registerColumnOption("resizable",!0),this.registerTableOption("resizableColumnFit",!1)}initialize(){this.subscribe("column-rendered",this.layoutColumnHeader.bind(this))}initializeEventWatchers(){this.initialized||(this.subscribe("cell-rendered",this.layoutCellHandles.bind(this)),this.subscribe("cell-delete",this.deInitializeComponent.bind(this)),this.subscribe("cell-height",this.resizeHandle.bind(this)),this.subscribe("column-moved",this.columnLayoutUpdated.bind(this)),this.subscribe("column-hide",this.deInitializeColumn.bind(this)),this.subscribe("column-show",this.columnLayoutUpdated.bind(this)),this.subscribe("column-width",this.columnWidthUpdated.bind(this)),this.subscribe("column-delete",this.deInitializeComponent.bind(this)),this.subscribe("column-height",this.resizeHandle.bind(this)),this.initialized=!0)}layoutCellHandles(e){"row"===e.row.type&&(this.deInitializeComponent(e),this.initializeColumn("cell",e,e.column,e.element))}layoutColumnHeader(e){e.definition.resizable&&(this.initializeEventWatchers(),this.deInitializeComponent(e),this.initializeColumn("header",e,e,e.element))}columnLayoutUpdated(e){var t=e.prevColumn();this.reinitializeColumn(e),t&&this.reinitializeColumn(t)}columnWidthUpdated(e){e.modules.frozen&&(this.table.modules.frozenColumns.leftColumns.includes(e)?this.table.modules.frozenColumns.leftColumns.forEach((e=>{this.reinitializeColumn(e)})):this.table.modules.frozenColumns.rightColumns.includes(e)&&this.table.modules.frozenColumns.rightColumns.forEach((e=>{this.reinitializeColumn(e)})))}frozenColumnOffset(e){var t=!1;return e.modules.frozen&&(t=e.modules.frozen.marginValue,"left"===e.modules.frozen.position?t+=e.getWidth()-3:t&&(t-=3)),!1!==t&&t+"px"}reinitializeColumn(e){var t=this.frozenColumnOffset(e);e.cells.forEach((o=>{o.modules.resize&&o.modules.resize.handleEl&&(t&&(o.modules.resize.handleEl.style[e.modules.frozen.position]=t),o.element.after(o.modules.resize.handleEl))})),e.modules.resize&&e.modules.resize.handleEl&&(t&&(e.modules.resize.handleEl.style[e.modules.frozen.position]=t),e.element.after(e.modules.resize.handleEl))}initializeColumn(e,t,o,i){var n=this,r=!1,s=o.definition.resizable,a={},l=o.getLastColumn();if("header"===e&&(r="textarea"==o.definition.formatter||o.definition.variableHeight,a={variableHeight:r}),(!0===s||s==e)&&this._checkResizability(l)){var u=document.createElement("span");u.className="tabulator-col-resize-handle",u.addEventListener("click",(function(e){e.stopPropagation()}));var c=function(e){n.startColumn=o,n.initialNextColumn=n.nextColumn=l.nextColumn(),n._mouseDown(e,l,u)};u.addEventListener("mousedown",c),u.addEventListener("touchstart",c,{passive:!0}),u.addEventListener("dblclick",(e=>{var t=l.getWidth();e.stopPropagation(),l.reinitializeWidth(!0),t!==l.getWidth()&&(n.dispatch("column-resized",l),n.table.externalEvents.dispatch("columnResized",l.getComponent()))})),o.modules.frozen&&(u.style.position="sticky",u.style[o.modules.frozen.position]=this.frozenColumnOffset(o)),a.handleEl=u,i.parentNode&&o.visible&&i.after(u)}t.modules.resize=a}deInitializeColumn(e){this.deInitializeComponent(e),e.cells.forEach((e=>{this.deInitializeComponent(e)}))}deInitializeComponent(e){var t;e.modules.resize&&(t=e.modules.resize.handleEl,t&&t.parentElement&&t.parentElement.removeChild(t))}resizeHandle(e,t){e.modules.resize&&e.modules.resize.handleEl&&(e.modules.resize.handleEl.style.height=t)}_checkResizability(e){return e.definition.resizable}_mouseDown(e,t,o){var i=this;function n(e){var o,n,r="undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX,s=r-i.startX,a=r-i.latestX;if(i.latestX=r,i.table.rtl&&(s=-s,a=-a),o=t.width==t.minWidth||t.width==t.maxWidth,t.setWidth(i.startWidth+s),n=t.width==t.minWidth||t.width==t.maxWidth,a<0&&(i.nextColumn=i.initialNextColumn),i.table.options.resizableColumnFit&&i.nextColumn&&(!o||!n)){let e=i.nextColumn.getWidth();a>0&&e<=i.nextColumn.minWidth&&(i.nextColumn=i.nextColumn.nextColumn()),i.nextColumn&&i.nextColumn.setWidth(i.nextColumn.getWidth()-a)}i.table.columnManager.rerenderColumns(!0),!i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function r(e){i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!1),i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",n),o.removeEventListener("touchmove",n),o.removeEventListener("touchend",r),i.table.element.classList.remove("tabulator-block-select"),i.startWidth!==t.getWidth()&&(i.table.columnManager.verticalAlignHeaders(),i.dispatch("column-resized",t),i.table.externalEvents.dispatch("columnResized",t.getComponent()))}i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!0),i.startX="undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX,i.latestX=i.startX,i.startWidth=t.getWidth(),document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",r),o.addEventListener("touchmove",n,{passive:!0}),o.addEventListener("touchend",r)}}lt.moduleName="resizeColumns";class ut extends s{constructor(e){super(e),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(e){var t=this,o=e.getElement(),i=document.createElement("div");i.className="tabulator-row-resize-handle";var n=document.createElement("div");n.className="tabulator-row-resize-handle prev",i.addEventListener("click",(function(e){e.stopPropagation()}));var r=function(o){t.startRow=e,t._mouseDown(o,e,i)};i.addEventListener("mousedown",r),i.addEventListener("touchstart",r,{passive:!0}),n.addEventListener("click",(function(e){e.stopPropagation()}));var s=function(o){var i=t.table.rowManager.prevDisplayRow(e);i&&(t.startRow=i,t._mouseDown(o,i,n))};n.addEventListener("mousedown",s),n.addEventListener("touchstart",s,{passive:!0}),o.appendChild(i),o.appendChild(n)}_mouseDown(e,t,o){var i=this;function n(e){t.setHeight(i.startHeight+(("undefined"===typeof e.screenY?e.touches[0].screenY:e.screenY)-i.startY))}function r(e){document.body.removeEventListener("mouseup",n),document.body.removeEventListener("mousemove",n),o.removeEventListener("touchmove",n),o.removeEventListener("touchend",r),i.table.element.classList.remove("tabulator-block-select"),i.dispatchExternal("rowResized",t.getComponent())}i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startY="undefined"===typeof e.screenY?e.touches[0].screenY:e.screenY,i.startHeight=t.getHeight(),document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",r),o.addEventListener("touchmove",n,{passive:!0}),o.addEventListener("touchend",r)}}ut.moduleName="resizeRows";class ct extends s{constructor(e){super(e),this.binding=!1,this.visibilityObserver=!1,this.resizeObserver=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.visible=!1,this.initialized=!1,this.initialRedraw=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var e,t=this.table;this.tableHeight=t.element.clientHeight,this.tableWidth=t.element.clientWidth,t.element.parentNode&&(this.containerHeight=t.element.parentNode.clientHeight,this.containerWidth=t.element.parentNode.clientWidth),"undefined"!==typeof IntersectionObserver&&"undefined"!==typeof ResizeObserver&&"virtual"===t.rowManager.getRenderMode()?(this.initializeVisibilityObserver(),this.autoResize=!0,this.resizeObserver=new ResizeObserver((e=>{if(!t.browserMobile||t.browserMobile&&!t.modules.edit.currentCell){var o=Math.floor(e[0].contentRect.height),i=Math.floor(e[0].contentRect.width);this.tableHeight==o&&this.tableWidth==i||(this.tableHeight=o,this.tableWidth=i,t.element.parentNode&&(this.containerHeight=t.element.parentNode.clientHeight,this.containerWidth=t.element.parentNode.clientWidth),this.redrawTable())}})),this.resizeObserver.observe(t.element),e=window.getComputedStyle(t.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((e=>{if(!t.browserMobile||t.browserMobile&&!t.modules.edit.currentCell){var o=Math.floor(e[0].contentRect.height),i=Math.floor(e[0].contentRect.width);this.containerHeight==o&&this.containerWidth==i||(this.containerHeight=o,this.containerWidth=i,this.tableHeight=t.element.clientHeight,this.tableWidth=t.element.clientWidth),this.redrawTable()}})),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!t.browserMobile||t.browserMobile&&!t.modules.edit.currentCell)&&(t.columnManager.rerenderColumns(!0),t.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver((e=>{this.visible=e[0].isIntersecting,this.initialized?this.visible&&(this.redrawTable(this.initialRedraw),this.initialRedraw=!1):(this.initialized=!0,this.initialRedraw=!this.visible)})),this.visibilityObserver.observe(this.table.element)}redrawTable(e){this.initialized&&this.visible&&(this.table.columnManager.rerenderColumns(!0),this.table.redraw(e))}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.resizeObserver&&this.resizeObserver.unobserve(this.table.element),this.visibilityObserver&&this.visibilityObserver.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}ct.moduleName="resizeTable";class dt extends s{constructor(e){super(e),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-data-changed",this.generateCollapsedRowContent.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}initializeResponsivity(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(((t,o)=>{t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=o,e.push(t),t.visible||"collapse"!==this.mode||this.hiddenColumns.push(t))})),e=e.reverse(),e=e.sort(((e,t)=>{var o=t.modules.responsive.order-e.modules.responsive.order;return o||t.modules.responsive.index-e.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();for(let t of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==t.definition.formatter){this.collapseHandleColumn=t;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(e){var t=e.getDefinition();e.modules.responsive={order:"undefined"===typeof t.responsive?1:t.responsive,visible:!1!==t.visible}}initializeRow(e){var t;"calc"!==e.type&&(t=document.createElement("div"),t.classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}layoutRow(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}updateColumnVisibility(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initializeResponsivity())}hideColumn(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}showColumn(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&(t=this.hiddenColumns.indexOf(e),t>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){var e=!0;while(e){let t="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),o=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-t;if(o<0){let t=this.columns[this.index];t?(this.hideColumn(t),this.index++):e=!1}else{let t=this.columns[this.index-1];t&&o>0&&o>=t.getWidth()?(this.showColumn(t),this.index--):e=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var e=this.table.rowManager.getDisplayRows();e.forEach((e=>{this.generateCollapsedRowContent(e)}))}generateCollapsedRowContent(e){var t,o;if(e.modules.responsiveLayout){t=e.modules.responsiveLayout.element;while(t.firstChild)t.removeChild(t.firstChild);o=this.collapseFormatter(this.generateCollapsedRowData(e)),o&&t.appendChild(o)}}generateCollapsedRowData(e){var t,o=e.getData(),i=[];return this.hiddenColumns.forEach((n=>{var r=n.getFieldValue(o);if(n.definition.title&&n.field)if(n.modules.format&&this.table.options.responsiveLayoutCollapseUseFormatters){function s(e){e()}t={value:!1,data:{},getValue:function(){return r},getData:function(){return o},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return n.getComponent()},getTable:()=>this.table},i.push({field:n.field,title:n.definition.title,value:n.modules.format.formatter.call(this.table.modules.format,t,n.modules.format.params,s)})}else i.push({field:n.field,title:n.definition.title,value:r})})),i}formatCollapsedData(e){var t=document.createElement("table");return e.forEach((function(e){var o,i=document.createElement("tr"),n=document.createElement("td"),r=document.createElement("td"),s=document.createElement("strong");n.appendChild(s),this.langBind("columns|"+e.field,(function(t){s.innerHTML=t||e.title})),e.value instanceof Node?(o=document.createElement("div"),o.appendChild(e.value),r.appendChild(o)):r.innerHTML=e.value,i.appendChild(n),i.appendChild(r),t.appendChild(i)}),this),Object.keys(e).length?t:""}}dt.moduleName="responsiveLayout";class pt extends s{constructor(e){super(e),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",(function(e,t){return!0})),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&!this.table.options.selectablePersistence&&this.subscribe("data-refreshing",this.deselectRows.bind(this)))}rowRetrieve(e,t){return"selected"===e?this.selectedRows:t}rowDeleted(e){this._deselectRow(e,!0)}clearSelectionData(e){var t=this.selectedRows.length;this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t&&!0!==e&&this._rowSelectionChanged()}initializeRow(e){var t=this,o=e.getElement(),i=function(){setTimeout((function(){t.selecting=!1}),50),document.body.removeEventListener("mouseup",i)};e.modules.select={selected:!1},t.checkRowSelectability(e)?(o.classList.add("tabulator-selectable"),o.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&("click"===t.table.options.selectableRangeMode?o.addEventListener("click",this.handleComplexRowClick.bind(this,e)):(o.addEventListener("click",(function(o){t.table.modExists("edit")&&t.table.modules.edit.getCurrentCell()||t.table._clearSelection(),t.selecting||t.toggleRow(e)})),o.addEventListener("mousedown",(function(o){if(o.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",i),document.body.addEventListener("keyup",i),t.toggleRow(e),!1})),o.addEventListener("mouseenter",(function(o){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))})),o.addEventListener("mouseout",(function(o){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))}))))):(o.classList.add("tabulator-unselectable"),o.classList.remove("tabulator-selectable"))}handleComplexRowClick(e,t){if(t.shiftKey){this.table._clearSelection(),this.lastClickedRow=this.lastClickedRow||e;var o=this.table.rowManager.getDisplayRowIndex(this.lastClickedRow),i=this.table.rowManager.getDisplayRowIndex(e),n=o<=i?o:i,r=o>=i?o:i,s=this.table.rowManager.getDisplayRows().slice(0),a=s.splice(n,r-n+1);t.ctrlKey||t.metaKey?(a.forEach((t=>{t!==this.lastClickedRow&&(!0===this.table.options.selectable||this.isRowSelected(e)||this.selectedRows.length<this.table.options.selectable)&&this.toggleRow(t)})),this.lastClickedRow=e):(this.deselectRows(void 0,!0),!0!==this.table.options.selectable&&a.length>this.table.options.selectable&&(a=a.slice(0,this.table.options.selectable)),this.selectRows(a)),this.table._clearSelection()}else t.ctrlKey||t.metaKey?(this.toggleRow(e),this.lastClickedRow=e):(this.deselectRows(void 0,!0),this.selectRows(e),this.lastClickedRow=e)}checkRowSelectability(e){return"row"===e.type&&this.table.options.selectableCheck.call(this.table,e.getComponent())}toggleRow(e){this.checkRowSelectability(e)&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}selectRows(e){var t;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach((e=>{this._selectRow(e,!0,!0)})),this._rowSelectionChanged();break;case"string":t=this.table.rowManager.findRow(e),t?(this._selectRow(t,!0,!0),this._rowSelectionChanged()):(t=this.table.rowManager.getRows(e),t.forEach((e=>{this._selectRow(e,!0,!0)})),t.length&&this._rowSelectionChanged());break;default:Array.isArray(e)?(e.forEach((e=>{this._selectRow(e,!0,!0)})),this._rowSelectionChanged()):this._selectRow(e,!1,!0);break}}_selectRow(e,t,o){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!o&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var i=this.table.rowManager.findRow(e);i?-1==this.selectedRows.indexOf(i)&&(i.getElement().classList.add("tabulator-selected"),i.modules.select||(i.modules.select={}),i.modules.select.selected=!0,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!0),this.selectedRows.push(i),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!0),this.dispatchExternal("rowSelected",i.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}isRowSelected(e){return-1!==this.selectedRows.indexOf(e)}deselectRows(e,t){var o,i=this;if("undefined"==typeof e){o=i.selectedRows.length;for(let e=0;e<o;e++)i._deselectRow(i.selectedRows[0],!0);o&&i._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach((function(e){i._deselectRow(e,!0)})),i._rowSelectionChanged(t)):i._deselectRow(e,t)}_deselectRow(e,t){var o,i=this,n=i.table.rowManager.findRow(e);n?(o=i.selectedRows.findIndex((function(e){return e==n})),o>-1&&(n.getElement().classList.remove("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!1,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(o,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!1),this.dispatchExternal("rowDeselected",n.getComponent()),i._rowSelectionChanged(t))):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}getSelectedData(){var e=[];return this.selectedRows.forEach((function(t){e.push(t.getData())})),e}getSelectedRows(){var e=[];return this.selectedRows.forEach((function(t){e.push(t.getComponent())})),e}_rowSelectionChanged(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}registerHeaderSelectCheckbox(e){this.headerCheckboxElement=e}childRowSelection(e,t){var o=this.table.modules.dataTree.getChildren(e,!0);if(t)for(let i of o)this._selectRow(i,!0);else for(let i of o)this._deselectRow(i,!0)}}function ht(e,t,o,i,n,r,s){var a=s.alignEmptyValues,l=s.decimalSeparator,u=s.thousandSeparator,c=0;if(e=String(e),t=String(t),u&&(e=e.split(u).join(""),t=t.split(u).join("")),l&&(e=e.split(l).join("."),t=t.split(l).join(".")),e=parseFloat(e),t=parseFloat(t),isNaN(e))c=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;c=1}return("top"===a&&"desc"===r||"bottom"===a&&"asc"===r)&&(c*=-1),c}function ft(e,t,o,i,n,r,s){var a,l=s.alignEmptyValues,u=0;if(e){if(t){switch(typeof s.locale){case"boolean":s.locale&&(a=this.langLocale());break;case"string":a=s.locale;break}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),a)}u=1}else u=t?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u}function gt(e,t,o,i,n,r,s){var a=window.DateTime||luxon.DateTime,l=s.format||"dd/MM/yyyy HH:mm:ss",u=s.alignEmptyValues,c=0;if("undefined"!=typeof a){if(a.isDateTime(e)||(e="iso"===l?a.fromISO(String(e)):a.fromFormat(String(e),l)),a.isDateTime(t)||(t="iso"===l?a.fromISO(String(t)):a.fromFormat(String(t),l)),e.isValid){if(t.isValid)return e-t;c=1}else c=t.isValid?-1:0;return("top"===u&&"desc"===r||"bottom"===u&&"asc"===r)&&(c*=-1),c}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}function mt(e,t,o,i,n,r,s){return s.format||(s.format="dd/MM/yyyy"),gt.call(this,e,t,o,i,n,r,s)}function vt(e,t,o,i,n,r,s){return s.format||(s.format="HH:mm"),gt.call(this,e,t,o,i,n,r,s)}function yt(e,t,o,i,n,r,s){var a=!0===e||"true"===e||"True"===e||1===e?1:0,l=!0===t||"true"===t||"True"===t||1===t?1:0;return a-l}function Ct(e,t,o,i,n,r,s){var a=s.type||"length",l=s.alignEmptyValues,u=0;function c(e){var t;switch(a){case"length":t=e.length;break;case"sum":t=e.reduce((function(e,t){return e+t}));break;case"max":t=Math.max.apply(null,e);break;case"min":t=Math.min.apply(null,e);break;case"avg":t=e.reduce((function(e,t){return e+t}))/e.length;break}return t}if(Array.isArray(e)){if(Array.isArray(t))return c(t)-c(e);u=1}else u=Array.isArray(t)?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u}function bt(e,t,o,i,n,r,s){var a="undefined"==typeof e?0:1,l="undefined"==typeof t?0:1;return a-l}function wt(e,t,o,i,n,r,s){var a,l,u,c,d,p=0,h=/(\d+)|(\D+)/g,f=/\d/,g=s.alignEmptyValues,m=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if(a=String(e).toLowerCase(),l=String(t).toLowerCase(),a===l)return 0;if(!f.test(a)||!f.test(l))return a>l?1:-1;a=a.match(h),l=l.match(h),d=a.length>l.length?l.length:a.length;while(p<d)if(u=a[p],c=l[p++],u!==c)return isFinite(u)&&isFinite(c)?("0"===u.charAt(0)&&(u="."+u),"0"===c.charAt(0)&&(c="."+c),u-c):u>c?1:-1;return a.length>l.length}m=1}else m=t||0===t?-1:0;return("top"===g&&"desc"===r||"bottom"===g&&"asc"===r)&&(m*=-1),m}pt.moduleName="selectRow";var Et={number:ht,string:ft,date:mt,time:vt,datetime:gt,boolean:yt,array:Ct,exists:bt,alphanum:wt};class St extends s{constructor(e){super(e),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerTableOption("headerSortClickElement","header"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(e,t,o,i){var n=this.getSort();return n.forEach((e=>{delete e.column})),i.sort=n,i}userSetSort(e,t){this.setSort(e,t),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(e){var t,o,i=!1;switch(typeof e.definition.sorter){case"string":St.sorters[e.definition.sorter]?i=St.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":i=e.definition.sorter;break}if(e.modules.sort={sorter:i,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort){switch(t=e.getElement(),t.classList.add("tabulator-sortable"),o=document.createElement("div"),o.classList.add("tabulator-col-sorter"),this.table.options.headerSortClickElement){case"icon":o.classList.add("tabulator-col-sorter-element");break;case"header":t.classList.add("tabulator-col-sorter-element");break;default:t.classList.add("tabulator-col-sorter-element");break}switch(this.table.options.headerSortElement){case"function":break;case"object":o.appendChild(this.table.options.headerSortElement);break;default:o.innerHTML=this.table.options.headerSortElement}e.titleHolderElement.appendChild(o),e.modules.sort.element=o,this.setColumnHeaderSortIcon(e,"none"),("icon"===this.table.options.headerSortClickElement?o:t).addEventListener("click",(t=>{var o="",i=[],n=!1;if(e.modules.sort){if(e.modules.sort.tristate)o="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":o="desc";break;case"desc":o="asc";break;default:o=e.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?(i=this.getSort(),n=i.findIndex((t=>t.field===e.getField())),n>-1?(i[n].dir=o,n=i.splice(n,1)[0],"none"!=o&&i.push(n)):"none"!=o&&i.push({column:e,dir:o}),this.setSort(i)):"none"==o?this.clear():this.setSort(e,o),this.refreshSort()}}))}}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData(null,!1,!1):this.refreshData(!0)}hasChanged(){var e=this.changed;return this.changed=!1,e}getSort(){var e=this,t=[];return e.sortList.forEach((function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})})),t}setSort(e,t){var o=this,i=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach((function(e){var t;t=o.table.columnManager.findColumn(e.column),t?(e.column=t,i.push(e),o.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)})),o.sortList=i,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(e){var t,o,i=this.table.rowManager.activeRows[0],n="string";if(i&&(i=i.getData(),t=e.getField(),t))switch(o=e.getFieldValue(i),typeof o){case"undefined":n="string";break;case"boolean":n="boolean";break;default:isNaN(o)||""===o?o.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(n="alphanum"):n="number";break}return St.sorters[n]}sort(e){var t=this,o=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,i=[],n=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(o.forEach((function(e,o){var n;e.column&&(n=e.column.modules.sort,n&&(n.sorter||(n.sorter=t.findSorter(e.column)),e.params="function"===typeof n.params?n.params(e.column.getComponent(),e.dir):n.params,i.push(e)),t.setColumnHeader(e.column,e.dir))})),i.length&&t._sortItems(e,i)):o.forEach((function(e,o){t.setColumnHeader(e.column,e.dir)})),this.subscribedExternal("dataSorted")&&(e.forEach((e=>{n.push(e.getComponent())})),this.dispatchExternal("dataSorted",t.getSort(),n)),e}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach((e=>{e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"),this.setColumnHeaderSortIcon(e,"none"))}))}setColumnHeader(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort","asc"===t?"ascending":"descending"),this.setColumnHeaderSortIcon(e,t)}setColumnHeaderSortIcon(e,t){var o,i=e.modules.sort.element;if(e.definition.headerSort&&"function"===typeof this.table.options.headerSortElement){while(i.firstChild)i.removeChild(i.firstChild);o=this.table.options.headerSortElement.call(this.table,e.getComponent(),t),"object"===typeof o?i.appendChild(o):i.innerHTML=o}}_sortItems(e,t){var o=t.length-1;e.sort(((e,i)=>{for(var n,r=o;r>=0;r--){let o=t[r];if(n=this._sortRow(e,i,o.column,o.dir,o.params),0!==n)break}return n}))}_sortRow(e,t,o,i,n){var r,s,a="asc"==i?e:t,l="asc"==i?t:e;return e=o.getFieldValue(a.getData()),t=o.getFieldValue(l.getData()),e="undefined"!==typeof e?e:"",t="undefined"!==typeof t?t:"",r=a.getComponent(),s=l.getComponent(),o.modules.sort.sorter.call(this,e,t,r,s,o.getComponent(),i,n)}}St.moduleName="sort",St.sorters=Et;class Rt extends s{constructor(e){super(e),this.tooltipSubscriber=null,this.headerSubscriber=null,this.timeout=null,this.popupInstance=null,this.registerTableOption("tooltipGenerationMode",void 0),this.registerTableOption("tooltipDelay",300),this.registerColumnOption("tooltip"),this.registerColumnOption("headerTooltip")}initialize(){this.deprecatedOptionsCheck(),this.subscribe("column-init",this.initializeColumn.bind(this))}deprecatedOptionsCheck(){this.deprecationCheckMsg("tooltipGenerationMode","This option is no longer needed as tooltips are always generated on hover now")}initializeColumn(e){e.definition.headerTooltip&&!this.headerSubscriber&&(this.headerSubscriber=!0,this.subscribe("column-mousemove",this.mousemoveCheck.bind(this,"headerTooltip")),this.subscribe("column-mouseout",this.mouseoutCheck.bind(this,"headerTooltip"))),e.definition.tooltip&&!this.tooltipSubscriber&&(this.tooltipSubscriber=!0,this.subscribe("cell-mousemove",this.mousemoveCheck.bind(this,"tooltip")),this.subscribe("cell-mouseout",this.mouseoutCheck.bind(this,"tooltip")))}mousemoveCheck(e,t,o){var i="tooltip"===e?o.column.definition.tooltip:o.definition.headerTooltip;i&&(this.clearPopup(),this.timeout=setTimeout(this.loadTooltip.bind(this,t,o,i),this.table.options.tooltipDelay))}mouseoutCheck(e,t,o){this.popupInstance||this.clearPopup()}clearPopup(e,t,o){clearTimeout(this.timeout),this.timeout=null,this.popupInstance&&this.popupInstance.hide()}loadTooltip(e,t,o){var i,n,r;function s(e){n=e}"function"===typeof o&&(o=o(e,t.getComponent(),s)),o instanceof HTMLElement?i=o:(i=document.createElement("div"),!0===o&&(t instanceof E?o=t.value:t.definition.field?this.langBind("columns|"+t.definition.field,(e=>{i.innerHTML=o=e||t.definition.title})):o=t.definition.title),i.innerHTML=o),(o||0===o||!1===o)&&(i.classList.add("tabulator-tooltip"),i.addEventListener("mousemove",(e=>e.preventDefault())),this.popupInstance=this.popup(i),"function"===typeof n&&this.popupInstance.renderCallback(n),r=this.popupInstance.containerEventCoords(e),this.popupInstance.show(r.x+15,r.y+15).hideOnBlur((()=>{this.dispatchExternal("TooltipClosed",t.getComponent()),this.popupInstance=null})),this.dispatchExternal("TooltipOpened",t.getComponent()))}}Rt.moduleName="tooltip";var Ot={integer:function(e,t,o){return""===t||null===t||"undefined"===typeof t||(t=Number(t),!isNaN(t)&&isFinite(t)&&Math.floor(t)===t)},float:function(e,t,o){return""===t||null===t||"undefined"===typeof t||(t=Number(t),!isNaN(t)&&isFinite(t)&&t%1!==0)},numeric:function(e,t,o){return""===t||null===t||"undefined"===typeof t||!isNaN(t)},string:function(e,t,o){return""===t||null===t||"undefined"===typeof t||isNaN(t)},max:function(e,t,o){return""===t||null===t||"undefined"===typeof t||parseFloat(t)<=o},min:function(e,t,o){return""===t||null===t||"undefined"===typeof t||parseFloat(t)>=o},starts:function(e,t,o){return""===t||null===t||"undefined"===typeof t||String(t).toLowerCase().startsWith(String(o).toLowerCase())},ends:function(e,t,o){return""===t||null===t||"undefined"===typeof t||String(t).toLowerCase().endsWith(String(o).toLowerCase())},minLength:function(e,t,o){return""===t||null===t||"undefined"===typeof t||String(t).length>=o},maxLength:function(e,t,o){return""===t||null===t||"undefined"===typeof t||String(t).length<=o},in:function(e,t,o){return""===t||null===t||"undefined"===typeof t||("string"==typeof o&&(o=o.split("|")),o.indexOf(t)>-1)},regex:function(e,t,o){if(""===t||null===t||"undefined"===typeof t)return!0;var i=new RegExp(o);return i.test(t)},unique:function(e,t,o){if(""===t||null===t||"undefined"===typeof t)return!0;var i=!0,n=e.getData(),r=e.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(e){var o=e.getData();o!==n&&t==r.getFieldValue(o)&&(i=!1)})),i},required:function(e,t,o){return""!==t&&null!==t&&"undefined"!==typeof t}};class Tt extends s{constructor(e){super(e),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("edit-success",this.editValidate.bind(this)),this.subscribe("edit-editor-clear",this.editorClear.bind(this)),this.subscribe("edit-edited-clear",this.editedClear.bind(this))}editValidate(e,t,o){var i="manual"===this.table.options.validationMode||this.validate(e.column.modules.validate,e,t);return!0!==i&&setTimeout((()=>{e.getElement().classList.add("tabulator-validation-fail"),this.dispatchExternal("validationFailed",e.getComponent(),t,i)})),i}editorClear(e,t){t&&e.column.modules.validate&&this.cellValidate(e),e.getElement().classList.remove("tabulator-validation-fail")}editedClear(e){e.modules.validate&&(e.modules.validate.invalid=!1)}cellIsValid(e){return e.modules.validate&&e.modules.validate.invalid||!0}cellValidate(e){return this.validate(e.column.modules.validate,e,e.getValue())}columnValidate(e){var t=[];return e.cells.forEach((e=>{!0!==this.cellValidate(e)&&t.push(e.getComponent())})),!t.length||t}rowValidate(e){var t=[];return e.cells.forEach((e=>{!0!==this.cellValidate(e)&&t.push(e.getComponent())})),!t.length||t}userClearCellValidation(e){e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach((e=>{this.clearValidation(e._getSelf())}))}userValidate(e){var t=[];return this.table.rowManager.rows.forEach((e=>{e=e.getComponent();var o=e.validate();!0!==o&&(t=t.concat(o))})),!t.length||t}initializeColumnCheck(e){"undefined"!==typeof e.definition.validator&&this.initializeColumn(e)}initializeColumn(e){var t,o=this,i=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach((e=>{t=o._extractValidator(e),t&&i.push(t)})):(t=this._extractValidator(e.definition.validator),t&&i.push(t)),e.modules.validate=!!i.length&&i)}_extractValidator(e){var t,o,i;switch(typeof e){case"string":return i=e.indexOf(":"),i>-1?(t=e.substring(0,i),o=e.substring(i+1)):t=e,this._buildValidator(t,o);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}_buildValidator(e,t){var o="function"==typeof e?e:Tt.validators[e];return o?{type:"function"==typeof e?"function":e,func:o,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}validate(e,t,o){var i=this,n=[],r=this.invalidCells.indexOf(t);return e&&e.forEach((e=>{e.func.call(i,t.getComponent(),o,e.params)||n.push({type:e.type,parameters:e.params})})),t.modules.validate||(t.modules.validate={}),n.length?(t.modules.validate.invalid=n,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==r&&this.invalidCells.push(t)):(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),r>-1&&this.invalidCells.splice(r,1)),!n.length||n}getInvalidCells(){var e=[];return this.invalidCells.forEach((t=>{e.push(t.getComponent())})),e}clearValidation(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,t=this.invalidCells.indexOf(e),t>-1&&this.invalidCells.splice(t,1))}}Tt.moduleName="validate",Tt.validators=Ot;var _t=Object.freeze({__proto__:null,AccessorModule:l,AjaxModule:m,ClipboardModule:C,ColumnCalcsModule:D,DataTreeModule:A,DownloadModule:G,EditModule:te,ExportModule:ne,FilterModule:se,FormatModule:Pe,FrozenColumnsModule:De,FrozenRowsModule:Ae,GroupRowsModule:xe,HistoryModule:Ie,HtmlTableImportModule:ke,ImportModule:je,InteractionModule:We,KeybindingsModule:Ke,MenuModule:Ye,MoveColumnsModule:qe,MoveRowsModule:Je,MutatorModule:$e,PageModule:tt,PersistenceModule:nt,PopupModule:rt,PrintModule:st,ReactiveDataModule:at,ResizeColumnsModule:lt,ResizeRowsModule:ut,ResizeTableModule:ct,ResponsiveLayoutModule:dt,SelectRowModule:pt,SortModule:St,TooltipModule:Rt,ValidateModule:Tt}),Pt={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,debugInvalidComponentFuncs:!0,debugInitialization:!0,debugDeprecation:!0,height:!1,minHeight:!1,maxHeight:!1,columnHeaderVertAlign:"top",popupContainer:!1,columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,rowHeight:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataLoaderErrorTimeout:3e3,dataSendParams:{},dataReceiveParams:{}};class Dt{constructor(e,t,o={}){this.table=e,this.msgType=t,this.registeredDefaults=Object.assign({},o)}register(e,t){this.registeredDefaults[e]=t}generate(e,t={}){var o=Object.assign({},this.registeredDefaults),i=this.table.options.debugInvalidOptions||!0===t.debugInvalidOptions;Object.assign(o,e);for(let n in t)o.hasOwnProperty(n)||(i&&console.warn("Invalid "+this.msgType+" option:",n),o[n]=t.key);for(let n in o)n in t?o[n]=t[n]:Array.isArray(o[n])?o[n]=Object.assign([],o[n]):"object"===typeof o[n]&&null!==o[n]?o[n]=Object.assign({},o[n]):"undefined"===typeof o[n]&&delete o[n];return o}}class At extends i{constructor(e){super(e),this.elementVertical=e.rowManager.element,this.elementHorizontal=e.columnManager.element,this.tableElement=e.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(e){}renderRows(){}renderColumns(){}rerenderRows(e){e&&e()}rerenderColumns(e,t){}renderRowCells(e){}rerenderRowCells(e,t){}scrollColumns(e,t){}scrollRows(e,t){}resize(){}scrollToRow(e){}scrollToRowNearestTop(e){}visibleRows(e){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(e,t){var o=e.getElement();t%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(e){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(e,t,o){var i=this.rows().indexOf(e),r=e.getElement(),s=0;return new Promise(((a,l)=>{if(i>-1){if("undefined"===typeof o&&(o=this.table.options.scrollToRowIfVisible),!o&&n.elVisible(r)&&(s=n.elOffset(r).top-n.elOffset(this.elementVertical).top,s>0&&s<this.elementVertical.clientHeight-r.offsetHeight))return a(),!1;switch("undefined"===typeof t&&(t=this.table.options.scrollToRowPosition),"nearest"===t&&(t=this.scrollToRowNearestTop(e)?"top":"bottom"),this.scrollToRow(e),t){case"middle":case"center":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop+(r.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-r.offsetTop)/2:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop=this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:this.elementVertical.scrollTop=this.elementVertical.scrollTop-this.elementVertical.clientHeight+r.offsetHeight;break;case"top":this.elementVertical.scrollTop=r.offsetTop;break}a()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")}))}}class Mt extends At{constructor(e){super(e)}renderRowCells(e){e.cells.forEach((t=>{e.element.appendChild(t.getElement()),t.cellRendered()}))}reinitializeColumnWidths(e){e.forEach((function(e){e.reinitializeWidth()}))}}class Lt extends At{constructor(e){super(e),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.windowBuffer=200,this.visibleRows=null,this.initialized=!1,this.isFitData=!1,this.columns=[]}initialize(){this.compatibilityCheck(),this.layoutCheck(),this.vertScrollListen()}compatibilityCheck(){"fitDataTable"==this.options("layout")&&console.warn("Horizontal Virtual DOM is not compatible with fitDataTable layout mode"),this.options("responsiveLayout")&&console.warn("Horizontal Virtual DOM is not compatible with responsive columns"),this.options("rtl")&&console.warn("Horizontal Virtual DOM is not currently compatible with RTL text direction")}layoutCheck(){this.isFitData=this.options("layout").startsWith("fitData")}vertScrollListen(){this.subscribe("scroll-vertical",this.clearVisRowCache.bind(this)),this.subscribe("data-refreshed",this.clearVisRowCache.bind(this))}clearVisRowCache(){this.visibleRows=null}renderColumns(e,t){this.dataChange()}scrollColumns(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.windowBuffer)))}calcWindowBuffer(){var e=this.elementVertical.clientWidth;this.table.columnManager.columnsByIndex.forEach((t=>{if(t.visible){var o=t.getWidth();o>e&&(e=o)}})),this.windowBuffer=2*e}rerenderColumns(e,t){var o={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol},i=0;e&&!this.initialized||(this.clear(),this.calcWindowBuffer(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.windowBuffer,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,this.table.columnManager.columnsByIndex.forEach((e=>{var t,o={};e.visible&&(e.modules.frozen||(t=e.getWidth(),o.leftPos=i,o.rightPos=i+t,o.width=t,this.isFitData&&(o.fitDataCheck=!e.modules.vdomHoz||e.modules.vdomHoz.fitDataCheck),i+t>this.vDomScrollPosLeft&&i<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=i),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=t),this.columns.push(e),e.modules.vdomHoz=o,i+=t))})),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||e&&!this.reinitChanged(o)||this.reinitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft)}renderRowCells(e){this.initialized?this.initializeRow(e):e.cells.forEach((t=>{e.element.appendChild(t.getElement()),t.cellRendered()}))}rerenderRowCells(e,t){this.reinitializeRow(e,t)}reinitializeColumnWidths(e){for(let t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var e,t,o=!1;if(this.isFitData){if(this.table.columnManager.columnsByIndex.forEach((e=>{!e.definition.width&&e.visible&&(o=!0)})),o&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.windowBuffer,e=this.chain("rows-sample",[1],[],(()=>this.table.rowManager.getDisplayRows()))[0],e)){t=e.getElement(),e.generateCells(),this.tableElement.appendChild(t);for(let o=0;o<e.cells.length;o++){let i=e.cells[o];t.appendChild(i.getElement()),i.column.reinitializeWidth()}t.parentNode.removeChild(t),this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(e){var t=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol||(e.cols.forEach(((e,o)=>{e!==this.columns[o]&&(t=!1)})),!t)}reinitializeRows(){var e=this.getVisibleRows(),t=this.table.rowManager.getRows().filter((t=>!e.includes(t)));e.forEach((e=>{this.reinitializeRow(e,!0)})),t.forEach((e=>{e.deinitialize()}))}getVisibleRows(){return this.visibleRows||(this.visibleRows=this.table.rowManager.getVisibleRows()),this.visibleRows}scroll(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,Math.abs(e)>this.windowBuffer/2?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(e,t,o){for(let i=e;i<t;i++){let e=this.columns[i];e.modules.vdomHoz.leftPos+=o,e.modules.vdomHoz.rightPos+=o}}addColRight(){var e=!1,t=!0;while(t){let o=this.columns[this.rightCol+1];o&&o.modules.vdomHoz.leftPos<=this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(o);e.getElement().insertBefore(t.getElement(),e.getCell(this.columns[this.rightCol]).getElement().nextSibling),t.cellRendered()}})),this.fitDataColActualWidthCheck(o),this.rightCol++,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.rightCol=this.rightCol)})),this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=o.getWidth()):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}addColLeft(){var e=!1,t=!0;while(t){let o=this.columns[this.leftCol-1];if(o)if(o.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft){e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(o);e.getElement().insertBefore(t.getElement(),e.getCell(this.columns[this.leftCol]).getElement()),t.cellRendered()}})),this.leftCol--,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.leftCol=this.leftCol)})),this.leftCol<=0?this.vDomPadLeft=0:this.vDomPadLeft-=o.getWidth();let t=this.fitDataColActualWidthCheck(o);t&&(this.scrollLeft=this.elementVertical.scrollLeft=this.elementVertical.scrollLeft+t,this.vDomPadRight-=t)}else t=!1;else t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}removeColRight(){var e=!1,t=!0;while(t){let o=this.columns[this.rightCol];o&&o.modules.vdomHoz.leftPos>this.vDomScrollPosRight?(e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(o);try{e.getElement().removeChild(t.getElement())}catch(i){console.warn("Could not removeColRight",i.message)}}})),this.vDomPadRight+=o.getWidth(),this.rightCol--,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.rightCol=this.rightCol)}))):t=!1}e&&(this.tableElement.style.paddingRight=this.vDomPadRight+"px")}removeColLeft(){var e=!1,t=!0;while(t){let o=this.columns[this.leftCol];o&&o.modules.vdomHoz.rightPos<this.vDomScrollPosLeft?(e=!0,this.getVisibleRows().forEach((e=>{if("group"!==e.type){var t=e.getCell(o);try{e.getElement().removeChild(t.getElement())}catch(i){console.warn("Could not removeColLeft",i.message)}}})),this.vDomPadLeft+=o.getWidth(),this.leftCol++,this.getVisibleRows().forEach((e=>{"group"!==e.type&&(e.modules.vdomHoz.leftCol=this.leftCol)}))):t=!1}e&&(this.tableElement.style.paddingLeft=this.vDomPadLeft+"px")}fitDataColActualWidthCheck(e){var t,o;return e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),t=e.getWidth(),o=t-e.modules.vdomHoz.width,o&&(e.modules.vdomHoz.rightPos+=o,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.columns.indexOf(e)+1,this.columns.length,o)),e.modules.vdomHoz.fitDataCheck=!1),o}initializeRow(e){if("group"!==e.type){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol},this.table.modules.frozenColumns&&this.table.modules.frozenColumns.leftColumns.forEach((t=>{this.appendCell(e,t)}));for(let t=this.leftCol;t<=this.rightCol;t++)this.appendCell(e,this.columns[t]);this.table.modules.frozenColumns&&this.table.modules.frozenColumns.rightColumns.forEach((t=>{this.appendCell(e,t)}))}}appendCell(e,t){if(t&&t.visible){let o=e.getCell(t);e.getElement().appendChild(o.getElement()),o.cellRendered()}}reinitializeRow(e,t){if("group"!==e.type&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){var o=e.getElement();while(o.firstChild)o.removeChild(o.firstChild);this.initializeRow(e)}}}class xt extends i{constructor(e){super(e),this.blockHozScrollEvent=!1,this.headersElement=null,this.contentsElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Dt(this.table,"column definition",R),this.redrawBlock=!1,this.redrawBlockUpdate=null,this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.contentsElement=this.createHeaderContentsElement(),this.element=this.createHeaderElement(),this.contentsElement.insertBefore(this.headersElement,this.contentsElement.firstChild),this.element.insertBefore(this.contentsElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("scrollbar-vertical",this.padVerticalScrollbar.bind(this))}padVerticalScrollbar(e){this.table.rtl?this.headersElement.style.marginLeft=e+"px":this.headersElement.style.marginRight=e+"px"}initializeRenderer(){var e,t={virtual:Lt,basic:Mt};e="string"===typeof this.table.options.renderHorizontal?t[this.table.options.renderHorizontal]:this.table.options.renderHorizontal,e?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",this.table.options.renderHorizontal)}createHeadersElement(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}createHeaderContentsElement(){var e=document.createElement("div");return e.classList.add("tabulator-header-contents"),e.setAttribute("role","rowgroup"),e}createHeaderElement(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}getElement(){return this.element}getContentsElement(){return this.contentsElement}getHeadersElement(){return this.headersElement}scrollHorizontal(e){this.contentsElement.scrollLeft=e,this.scrollLeft=e,this.renderer.scrollColumns(e)}generateColumnsFromRowData(e){var t,o,i=[],n=this.table.options.autoColumnsDefinitions;if(e&&e.length){for(var r in t=e[0],t){let e={field:r,title:r},n=t[r];switch(typeof n){case"undefined":o="string";break;case"boolean":o="boolean";break;case"object":o=Array.isArray(n)?"array":"string";break;default:o=isNaN(n)||""===n?n.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number";break}e.sorter=o,i.push(e)}if(n)switch(typeof n){case"function":this.table.options.columns=n.call(this.table,i);break;case"object":Array.isArray(n)?i.forEach((e=>{var t=n.find((t=>t.field===e.field));t&&Object.assign(e,t)})):i.forEach((e=>{n[e.field]&&Object.assign(e,n[e.field])})),this.table.options.columns=i;break}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}}setColumns(e,t){while(this.headersElement.firstChild)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach(((e,t)=>{this._addColumn(e)})),this._reIndexColumns(),this.dispatch("columns-loaded"),this.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(e,t,o){var i=new O(e,this),n=i.getElement(),r=o?this.findColumnIndex(o):o;if(o&&r>-1){var s=o.getTopColumn(),a=this.columns.indexOf(s),l=s.getElement();t?(this.columns.splice(a,0,i),l.parentNode.insertBefore(n,l)):(this.columns.splice(a+1,0,i),l.parentNode.insertBefore(n,l.nextSibling))}else t?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement()));return i.columnRendered(),i}registerColumnField(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}registerColumnPosition(e){this.columnsByIndex.push(e)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach((function(e){e.reRegisterPosition()}))}verticalAlignHeaders(){var e=0;this.redrawBlock||(this.headersElement.style.height="",this.columns.forEach((e=>{e.clearVerticalAlign()})),this.columns.forEach((t=>{var o=t.getHeight();o>e&&(e=o)})),this.headersElement.style.height=e+"px",this.columns.forEach((t=>{t.verticalAlign(this.table.options.columnHeaderVertAlign,e)})),this.table.rowManager.adjustTableSize())}findColumn(e){var t;if("object"!=typeof e)return this.columnsByField[e]||!1;if(e instanceof O)return e;if(e instanceof S)return e._getSelf()||!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement){t=[],this.columns.forEach((e=>{t.push(e),t=t.concat(e.getColumns(!0))}));let o=t.find((t=>t.element===e));return o||!1}return!1}getColumnByField(e){return this.columnsByField[e]}getColumnsByFieldRoot(e){var t=[];return Object.keys(this.columnsByField).forEach((o=>{var i=o.split(".")[0];i===e&&t.push(this.columnsByField[o])})),t}getColumnByIndex(e){return this.columnsByIndex[e]}getFirstVisibleColumn(){var e=this.columnsByIndex.findIndex((e=>e.visible));return e>-1&&this.columnsByIndex[e]}getColumns(){return this.columns}findColumnIndex(e){return this.columnsByIndex.findIndex((t=>e===t))}getRealColumns(){return this.columnsByIndex}traverse(e){this.columnsByIndex.forEach(((t,o)=>{e(t,o)}))}getDefinitions(e){var t=[];return this.columnsByIndex.forEach((o=>{(!e||e&&o.visible)&&t.push(o.getDefinition())})),t}getDefinitionTree(){var e=[];return this.columns.forEach((t=>{e.push(t.getDefinition(!0))})),e}getComponents(e){var t=[],o=e?this.columns:this.columnsByIndex;return o.forEach((e=>{t.push(e.getComponent())})),t}getWidth(){var e=0;return this.columnsByIndex.forEach((t=>{t.visible&&(e+=t.getWidth())})),e}moveColumn(e,t,o){t.element.parentNode.insertBefore(e.element,t.element),o&&t.element.parentNode.insertBefore(t.element,e.element),this.moveColumnActual(e,t,o),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(e,t,o){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,o):this._moveColumnInArray(this.columns,e,t,o),this._moveColumnInArray(this.columnsByIndex,e,t,o,!0),this.rerenderColumns(!0),this.dispatch("column-moved",e,t,o),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(e,t,o,i,n){var r,s=e.indexOf(t),a=[];s>-1&&(e.splice(s,1),r=e.indexOf(o),r>-1?i&&(r+=1):r=s,e.splice(r,0,t),n&&(a=this.chain("column-moving-rows",[t,o,i],null,[])||[],a=a.concat(this.table.rowManager.rows),a.forEach((function(e){if(e.cells.length){var t=e.cells.splice(s,1)[0];e.cells.splice(r,0,t)}}))))}scrollToColumn(e,t,o){var i=0,n=e.getLeftOffset(),r=0,s=e.getElement();return new Promise(((a,l)=>{if("undefined"===typeof t&&(t=this.table.options.scrollToColumnPosition),"undefined"===typeof o&&(o=this.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":r=-this.element.clientWidth/2;break;case"right":r=s.clientWidth-this.headersElement.clientWidth;break}if(!o&&n>0&&n+s.offsetWidth<this.element.clientWidth)return!1;i=n+r,i=Math.max(Math.min(i,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(i),this.scrollHorizontal(i),a()}else console.warn("Scroll Error - Column not visible"),l("Scroll Error - Column not visible")}))}generateCells(e){var t=[];return this.columnsByIndex.forEach((o=>{t.push(o.generateCell(e))})),t}getFlexBaseWidth(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(o){var i,n,r;o.visible&&(i=o.definition.width||0,n=parseInt(o.minWidth),r="string"==typeof i?i.indexOf("%")>-1?e/100*parseInt(i):parseInt(i):i,t+=r>n?r:n)})),t}addColumn(e,t,o){return new Promise(((i,n)=>{var r=this._addColumn(e,t,o);this._reIndexColumns(),this.dispatch("column-add",e,t,o),"fitColumns"!=this.layoutMode()&&r.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.rerenderColumns(),i(r)}))}deregisterColumn(e){var t,o=e.getField();o&&delete this.columnsByField[o],t=this.columnsByIndex.indexOf(e),t>-1&&this.columnsByIndex.splice(t,1),t=this.columns.indexOf(e),t>-1&&this.columns.splice(t,1),this.verticalAlignHeaders(),this.redraw()}rerenderColumns(e,t){this.redrawBlock?(!1===e||!0===e&&null===this.redrawBlockUpdate)&&(this.redrawBlockUpdate=e):this.renderer.rerenderColumns(e,t)}blockRedraw(){this.redrawBlock=!0,this.redrawBlockUpdate=null}restoreRedraw(){this.redrawBlock=!1,this.verticalAlignHeaders(),this.renderer.rerenderColumns(this.redrawBlockUpdate)}redraw(e){n.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(e),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}class Ft extends At{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){var e=this.tableElement;while(e.firstChild)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}renderRows(){var e=this.tableElement,t=!0;this.rows().forEach(((o,i)=>{this.styleRow(o,i),e.appendChild(o.getElement()),o.initialize(!0),"group"!==o.type&&(t=!1)})),e.style.minWidth=t?this.table.columnManager.getWidth()+"px":""}rerenderRows(e){this.clearRows(),e&&e(),this.renderRows()}scrollToRowNearestTop(e){var t=n.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}scrollToRow(e){var t=e.getElement();this.elementVertical.scrollTop=n.elOffset(t).top-n.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(e){return this.rows()}}class Nt extends At{constructor(e){super(e),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){var e=this.tableElement;while(e.firstChild)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(e){for(var t=this.elementVertical.scrollTop,o=!1,i=!1,n=this.table.rowManager.scrollLeft,r=this.rows(),s=this.vDomTop;s<=this.vDomBottom;s++)if(r[s]){var a=t-r[s].getElement().offsetTop;if(!(!1===i||Math.abs(a)<i))break;i=a,o=s}r.forEach((e=>{e.deinitializeHeight()})),e&&e(),this.rows().length?this._virtualRenderFill(!1===o?this.rows.length-1:o,!0,i||0):(this.clear(),this.table.rowManager.tableEmpty()),this.scrollColumns(n)}scrollColumns(e){this.table.rowManager.scrollHorizontal(e)}scrollRows(e,t){var o=e-this.vDomScrollPosTop,i=e-this.vDomScrollPosBottom,n=2*this.vDomWindowBuffer,r=this.rows();if(this.scrollTop=e,-o>n||i>n){var s=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*r.length)),this.scrollColumns(s)}else t?(o<0&&this._addTopRow(r,-o),i<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(r,-i):this.vDomScrollPosBottom=this.scrollTop)):(i>=0&&this._addBottomRow(r,i),o>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(r,o):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}scrollToRow(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}visibleRows(e){var t=this.elementVertical.scrollTop,o=this.elementVertical.clientHeight+t,i=!1,n=0,r=0,s=this.rows();if(e)n=this.vDomTop,r=this.vDomBottom;else for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a])if(i){if(!(o-s[a].getElement().offsetTop>=0))break;r=a}else if(t-s[a].getElement().offsetTop>=0)n=a;else{if(i=!0,!(o-s[a].getElement().offsetTop>=0))break;r=a}return s.slice(n,r+1)}_virtualRenderFill(e,t,o){var i=this.tableElement,r=this.elementVertical,s=0,a=0,l=0,u=0,c=0,d=this.rows(),p=d.length,h=this.elementVertical.clientHeight;if(e=e||0,o=o||0,e){while(i.firstChild)i.removeChild(i.firstChild);l=(p-e+1)*this.vDomRowHeight,l<h&&(e-=Math.ceil((h-l)/this.vDomRowHeight),e<0&&(e=0)),s=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e),e-=s}else this.clear();if(p&&n.elVisible(this.elementVertical)){this.vDomTop=e,this.vDomBottom=e-1;while((a<=h+this.vDomWindowBuffer||c<this.vDomWindowMinTotalRows)&&this.vDomBottom<p-1){var f=this.vDomBottom+1,g=d[f],m=0;this.styleRow(g,f),i.appendChild(g.getElement()),g.initialize(),g.heightInitialized||g.normalizeHeight(!0),m=g.getHeight(),c<s?u+=m:a+=m,m>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*m),this.vDomBottom++,c++}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+o:this.scrollTop-u,this.vDomBottomPad=this.vDomBottom==p-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-u,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+u)/c),this.vDomBottomPad=this.vDomRowHeight*(p-this.vDomBottom-1),this.vDomScrollHeight=u+a+this.vDomBottomPad-h),i.style.paddingTop=this.vDomTopPad+"px",i.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+u+o-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-h:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-h),this.elementVertical.scrollWidth>this.elementVertical.clientWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-h),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,r.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(e,t){var o=this.tableElement,i=[],n=0,r=this.vDomTop-1,s=0,a=!0;while(a)if(this.vDomTop){let l,u,c=e[r];c&&s<this.vDomMaxRenderChain?(l=c.getHeight()||this.vDomRowHeight,u=c.initialized,t>=l?(this.styleRow(c,r),o.insertBefore(c.getElement(),o.firstChild),c.initialized&&c.heightInitialized||i.push(c),c.initialize(),u||(l=c.getElement().offsetHeight,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l)),t-=l,n+=l,this.vDomTop--,r--,s++):a=!1):a=!1}else a=!1;for(let l of i)l.clearCellHeight();this._quickNormalizeRowHeight(i),n&&(this.vDomTopPad-=n,this.vDomTopPad<0&&(this.vDomTopPad=r*this.vDomRowHeight),r<1&&(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=n)}_removeTopRow(e,t){var o=[],i=0,n=0,r=!0;while(r){let s,a=e[this.vDomTop];a&&n<this.vDomMaxRenderChain?(s=a.getHeight()||this.vDomRowHeight,t>=s?(this.vDomTop++,t-=s,i+=s,o.push(a),n++):r=!1):r=!1}for(let s of o){let e=s.getElement();e.parentNode&&e.parentNode.removeChild(e)}i&&(this.vDomTopPad+=i,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer)}_addBottomRow(e,t){var o=this.tableElement,i=[],n=0,r=this.vDomBottom+1,s=0,a=!0;while(a){let l,u,c=e[r];c&&s<this.vDomMaxRenderChain?(l=c.getHeight()||this.vDomRowHeight,u=c.initialized,t>=l?(this.styleRow(c,r),o.appendChild(c.getElement()),c.initialized&&c.heightInitialized||i.push(c),c.initialize(),u||(l=c.getElement().offsetHeight,l>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*l)),t-=l,n+=l,this.vDomBottom++,r++,s++):a=!1):a=!1}for(let l of i)l.clearCellHeight();this._quickNormalizeRowHeight(i),n&&(this.vDomBottomPad-=n,(this.vDomBottomPad<0||r==e.length-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=n)}_removeBottomRow(e,t){var o=[],i=0,n=0,r=!0;while(r){let s,a=e[this.vDomBottom];a&&n<this.vDomMaxRenderChain?(s=a.getHeight()||this.vDomRowHeight,t>=s?(this.vDomBottom--,t-=s,i+=s,o.push(a),n++):r=!1):r=!1}for(let s of o){let e=s.getElement();e.parentNode&&e.parentNode.removeChild(e)}i&&(this.vDomBottomPad+=i,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i)}_quickNormalizeRowHeight(e){for(let t of e)t.calcHeight();for(let t of e)t.setCellHeight()}}class It extends i{constructor(e){super(e),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.placeholder=null,this.placeholderContents=null,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRenderInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.scrollbarWidth=0,this.renderer=null}createHolderElement(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e}createTableElement(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}initializePlaceholder(){var e=this.table.options.placeholder;if(e){let t=document.createElement("div");if(t.classList.add("tabulator-placeholder"),"string"==typeof e){let o=document.createElement("div");o.classList.add("tabulator-placeholder-contents"),o.innerHTML=e,t.appendChild(o),this.placeholderContents=o}else"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?(t.appendChild(e),this.placeholderContents=e):(console.warn("Invalid placeholder provided, must be string or HTML Element",e),this.el=null);this.placeholder=t}}getElement(){return this.element}getTableElement(){return this.tableElement}initialize(){this.initializePlaceholder(),this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",(()=>{var e=this.element.scrollLeft,t=this.scrollLeft>e,o=this.element.scrollTop,i=this.scrollTop>o;this.scrollLeft!=e&&(this.scrollLeft=e,this.dispatch("scroll-horizontal",e,t),this.dispatchExternal("scrollHorizontal",e,t),this._positionPlaceholder()),this.scrollTop!=o&&(this.scrollTop=o,this.renderer.scrollRows(o,i),this.dispatch("scroll-vertical",o,i),this.dispatchExternal("scrollVertical",o,i))}))}findRow(e){if("object"!=typeof e){if("undefined"==typeof e)return!1;{let t=this.rows.find((t=>t.data[this.table.options.index]==e));return t||!1}}if(e instanceof _)return e;if(e instanceof T)return e._getSelf()||!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement){let t=this.rows.find((t=>t.getElement()===e));return t||!1}return!1}getRowFromDataObject(e){var t=this.rows.find((t=>t.data===e));return t||!1}getRowFromPosition(e){return this.getDisplayRows().find((t=>t.getPosition()===e&&t.isDisplayed()))}scrollToRow(e,t,o){return this.renderer.scrollToRowPosition(e,t,o)}setData(e,t,o){return new Promise(((i,n)=>{t&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(e,!0):this.reRenderInPosition((()=>{this._setDataActual(e)})):(this.table.options.autoColumns&&o&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(e),this.resetScroll(),this._setDataActual(e)),i()}))}_setDataActual(e,t){this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach(((e,t)=>{if(e&&"object"===typeof e){var o=new _(e,this);this.rows.push(o)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)})),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof e,"\nData:     ",e)}_wipeElements(){this.dispatch("rows-wipe"),this.destroy(),this.adjustTableSize(),this.dispatch("rows-wiped")}destroy(){this.rows.forEach((e=>{e.wipe()})),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0}deleteRow(e,t){var o=this.rows.indexOf(e),i=this.activeRows.indexOf(e);i>-1&&this.activeRows.splice(i,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator((t=>{var o=t.indexOf(e);o>-1&&t.splice(o,1)})),t||this.reRenderInPosition(),this.regenerateRowPositions(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this.tableEmpty(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(e,t,o,i){var n=this.addRowActual(e,t,o,i);return n}addRows(e,t,o,i){var n=[];return new Promise(((r,s)=>{t=this.findAddRowPos(t),Array.isArray(e)||(e=[e]),("undefined"==typeof o&&t||"undefined"!==typeof o&&!t)&&e.reverse(),e.forEach(((e,i)=>{var r=this.addRow(e,t,o,!0);n.push(r),this.dispatch("row-added",r,e,t,o)})),this.refreshActiveData(!!i&&"displayPipeline",!1,!0),this.regenerateRowPositions(),n.length&&this._clearPlaceholder(),r(n)}))}findAddRowPos(e){return"undefined"===typeof e&&(e=this.table.options.addRowPos),"pos"===e&&(e=!0),"bottom"===e&&(e=!1),e}addRowActual(e,t,o,i){var n,r,s=e instanceof _?e:new _(e||{},this),a=this.findAddRowPos(t),l=-1;return o||(r=this.chain("row-adding-position",[s,a],null,{index:o,top:a}),o=r.index,a=r.top),"undefined"!==typeof o&&(o=this.findRow(o)),o=this.chain("row-adding-index",[s,o,a],null,o),o&&(l=this.rows.indexOf(o)),o&&l>-1?(n=this.activeRows.indexOf(o),this.displayRowIterator((function(e){var t=e.indexOf(o);t>-1&&e.splice(a?t:t+1,0,s)})),n>-1&&this.activeRows.splice(a?n:n+1,0,s),this.rows.splice(a?l:l+1,0,s)):a?(this.displayRowIterator((function(e){e.unshift(s)})),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator((function(e){e.push(s)})),this.activeRows.push(s),this.rows.push(s)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",s.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),i||this.reRenderInPosition(),s}moveRow(e,t,o){this.dispatch("row-move",e,t,o),this.moveRowActual(e,t,o),this.regenerateRowPositions(),this.dispatch("row-moved",e,t,o),this.dispatchExternal("rowMoved",e.getComponent())}moveRowActual(e,t,o){this.moveRowInArray(this.rows,e,t,o),this.moveRowInArray(this.activeRows,e,t,o),this.displayRowIterator((i=>{this.moveRowInArray(i,e,t,o)})),this.dispatch("row-moving",e,t,o)}moveRowInArray(e,t,o,i){var n,r,s,a;if(t!==o&&(n=e.indexOf(t),n>-1&&(e.splice(n,1),r=e.indexOf(o),r>-1?i?e.splice(r+1,0,t):e.splice(r,0,t):e.splice(n,0,t)),e===this.getDisplayRows())){s=n<r?n:r,a=r>n?r:n+1;for(let t=s;t<=a;t++)e[t]&&this.styleRow(e[t],t)}}clearData(){this.setData([])}getRowIndex(e){return this.findRowIndex(e,this.rows)}getDisplayRowIndex(e){var t=this.getDisplayRows().indexOf(e);return t>-1&&t}nextDisplayRow(e,t){var o=this.getDisplayRowIndex(e),i=!1;return!1!==o&&o<this.displayRowsCount-1&&(i=this.getDisplayRows()[o+1]),!i||i instanceof _&&"row"==i.type?i:this.nextDisplayRow(i,t)}prevDisplayRow(e,t){var o=this.getDisplayRowIndex(e),i=!1;return o&&(i=this.getDisplayRows()[o-1]),!t||!i||i instanceof _&&"row"==i.type?i:this.prevDisplayRow(i,t)}findRowIndex(e,t){var o;return e=this.findRow(e),!!(e&&(o=t.indexOf(e),o>-1))&&o}getData(e,t){var o=[],i=this.getRows(e);return i.forEach((function(e){"row"==e.type&&o.push(e.getData(t||"data"))})),o}getComponents(e){var t=[],o=this.getRows(e);return o.forEach((function(e){t.push(e.getComponent())})),t}getDataCount(e){var t=this.getRows(e);return t.length}scrollHorizontal(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}registerDataPipelineHandler(e,t){"undefined"!==typeof t?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort(((e,t)=>e.priority-t.priority))):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(e,t){"undefined"!==typeof t?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort(((e,t)=>e.priority-t.priority))):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(e,t,o){var i=this.table,r="",s=0,a=["all","dataPipeline","display","displayPipeline","end"];if(!this.table.destroyed){if("function"===typeof e)if(s=this.dataPipeline.findIndex((t=>t.handler===e)),s>-1)r="dataPipeline",t&&(s==this.dataPipeline.length-1?r="display":s++);else{if(s=this.displayPipeline.findIndex((t=>t.handler===e)),!(s>-1))return void console.error("Unable to refresh data, invalid handler provided",e);r="displayPipeline",t&&(s==this.displayPipeline.length-1?r="end":s++)}else r=e||"all",s=0;if(this.redrawBlock)return void((!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===r&&s<this.redrawBlockRestoreConfig.index||a.indexOf(r)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:o,stage:r,index:s}));n.elVisible(this.element)?o?this.reRenderInPosition(this.refreshPipelines.bind(this,e,r,s,o)):(this.refreshPipelines(e,r,s,o),e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),i.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0)):this.refreshPipelines(e,r,s,o),this.dispatch("data-refreshed")}}refreshPipelines(e,t,o,i){switch(this.dispatch("data-refreshing"),e||(this.activeRowsPipeline[0]=this.rows.slice(0)),t){case"all":case"dataPipeline":for(let e=o;e<this.dataPipeline.length;e++){let t=this.dataPipeline[e].handler(this.activeRowsPipeline[e].slice(0));this.activeRowsPipeline[e+1]=t||this.activeRowsPipeline[e].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);case"display":o=0,this.resetDisplayRows();case"displayPipeline":for(let e=o;e<this.displayPipeline.length;e++){let t=this.displayPipeline[e].handler((e?this.getDisplayRows(e-1):this.activeRows).slice(0),i);this.setDisplayRows(t||this.getDisplayRows(e-1).slice(0),e)}case"end":this.regenerateRowPositions()}this.getDisplayRows().length&&this._clearPlaceholder()}regenerateRowPositions(){var e=this.getDisplayRows(),t=1;e.forEach((e=>{"row"===e.type&&(e.setPosition(t),t++)}))}setActiveRows(e){this.activeRows=this.activeRows=Object.assign([],e),this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}setDisplayRows(e,t){this.displayRows[t]=e,t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length)}getDisplayRows(e){return"undefined"==typeof e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}getVisibleRows(e,t){var o=Object.assign([],this.renderer.visibleRows(!t));return e&&(o=this.chain("rows-visible",[t],o,o)),o}displayRowIterator(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(e){var t=[];switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!1,!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}reRenderInPosition(e){this.redrawBlock?e?e():this.redrawBlockRenderInPosition=!0:(this.dispatchExternal("renderStarted"),this.renderer.rerenderRows(e),this.fixedHeight||this.adjustTableSize(),this.scrollBarCheck(),this.dispatchExternal("renderComplete"))}scrollBarCheck(){var e=0;this.element.scrollHeight>this.element.clientHeight&&(e=this.element.offsetWidth-this.element.clientWidth),e!==this.scrollbarWidth&&(this.scrollbarWidth=e,this.dispatch("scrollbar-vertical",e))}initializeRenderer(){var e,t={virtual:Nt,basic:Ft};e="string"===typeof this.table.options.renderVertical?t[this.table.options.renderVertical]:this.table.options.renderVertical,e?(this.renderMode=this.table.options.renderVertical,this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),!this.table.element.clientHeight&&!this.table.options.height||this.table.options.minHeight&&this.table.options.maxHeight?this.fixedHeight=!1:this.fixedHeight=!0):console.error("Unable to find matching renderer:",this.table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.fixedHeight||this.adjustTableSize(),this.layoutRefresh(!0))):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.scrollBarCheck(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}tableEmpty(){this.renderEmptyScroll(),this._showPlaceholder()}_showPlaceholder(){this.placeholder&&(this.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.placeholder),this._positionPlaceholder())}_clearPlaceholder(){this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.tableElement.style.minWidth="",this.tableElement.style.display=""}_positionPlaceholder(){this.placeholder&&this.placeholder.parentNode&&(this.placeholder.style.width=this.table.columnManager.getWidth()+"px",this.placeholderContents.style.width=this.table.rowManager.element.clientWidth+"px",this.placeholderContents.style.marginLeft=this.scrollLeft+"px")}styleRow(e,t){var o=e.getElement();t%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach((function(e){e.normalizeHeight()}))}adjustTableSize(){var e,t=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let o=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(e=isNaN(this.table.options.minHeight)?this.table.options.minHeight:this.table.options.minHeight+"px",this.element.style.minHeight=e||"calc(100% - "+o+"px)",this.element.style.height="calc(100% - "+o+"px)",this.element.style.maxHeight="calc(100% - "+o+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-o+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),this.fixedHeight||t==this.element.clientHeight||(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw()),this.scrollBarCheck()}this._positionPlaceholder()}reinitialize(){this.rows.forEach((function(e){e.reinitialize(!0)}))}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRenderInPosition&&this.reRenderInPosition(),this.redrawBlockRenderInPosition=!1}redraw(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(t))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}class kt extends i{constructor(e){super(e),this.active=!1,this.element=this.createElement(),this.containerElement=this.createContainerElement(),this.external=!1}initialize(){this.initializeElement()}createElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}createContainerElement(){var e=document.createElement("div");return e.classList.add("tabulator-footer-contents"),this.element.appendChild(e),e}initializeElement(){if(this.table.options.footerElement)switch(typeof this.table.options.footerElement){case"string":"<"===this.table.options.footerElement[0]?this.containerElement.innerHTML=this.table.options.footerElement:(this.external=!0,this.containerElement=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement;break}}getElement(){return this.element}append(e){this.activate(),this.containerElement.appendChild(e),this.table.rowManager.adjustTableSize()}prepend(e){this.activate(),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(e){e.parentNode.removeChild(e),this.deactivate()}deactivate(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display=""))}redraw(){this.dispatch("footer-redraw")}}class Gt extends i{constructor(e){super(e),this.el=null,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","mouseup","mousedown","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.pseudoTrackers={row:{subscriber:null,target:null},cell:{subscriber:null,target:null},group:{subscriber:null,target:null},column:{subscriber:null,target:null}},this.pseudoTracking=!1}initialize(){this.el=this.table.element,this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var e={};this.listeners.forEach((t=>{e[t]={handler:null,components:[]}})),this.listeners=e}bindPseudoEvents(){Object.keys(this.pseudoTrackers).forEach((e=>{this.pseudoTrackers[e].subscriber=this.pseudoMouseEnter.bind(this,e),this.subscribe(e+"-mouseover",this.pseudoTrackers[e].subscriber)})),this.pseudoTracking=!0}pseudoMouseEnter(e,t,o){this.pseudoTrackers[e].target!==o&&(this.pseudoTrackers[e].target&&this.dispatch(e+"-mouseleave",t,this.pseudoTrackers[e].target),this.pseudoMouseLeave(e,t),this.pseudoTrackers[e].target=o,this.dispatch(e+"-mouseenter",t,o))}pseudoMouseLeave(e,t){var o=Object.keys(this.pseudoTrackers),i={row:["cell"],cell:["row"]};o=o.filter((t=>{var o=i[e];return t!==e&&(!o||o&&!o.includes(t))})),o.forEach((e=>{var o=this.pseudoTrackers[e].target;this.pseudoTrackers[e].target&&(this.dispatch(e+"-mouseleave",t,o),this.pseudoTrackers[e].target=null)}))}bindSubscriptionWatchers(){var e=Object.keys(this.listeners),t=Object.values(this.componentMap);for(let o of t)for(let t of e){let e=o+"-"+t;this.subscriptionChange(e,this.subscriptionChanged.bind(this,o,t))}this.subscribe("table-destroy",this.clearWatchers.bind(this))}subscriptionChanged(e,t,o){var i=this.listeners[t].components,n=i.indexOf(e),r=!1;o?-1===n&&(i.push(e),r=!0):this.subscribed(e+"-"+t)||n>-1&&(i.splice(n,1),r=!0),"mouseenter"!==t&&"mouseleave"!==t||this.pseudoTracking||this.bindPseudoEvents(),r&&this.updateEventListeners()}updateEventListeners(){for(let e in this.listeners){let t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}track(e,t){var o=t.composedPath&&t.composedPath()||t.path,i=this.findTargets(o);i=this.bindComponents(e,i),this.triggerEvents(e,t,i),!this.pseudoTracking||"mouseover"!=e&&"mouseleave"!=e||Object.keys(i).length||this.pseudoMouseLeave("none",t)}findTargets(e){var t={};let o=Object.keys(this.componentMap);for(let i of e){let e=i.classList?[...i.classList]:[],n=e.filter((e=>this.abortClasses.includes(e)));if(n.length)break;let r=e.filter((e=>o.includes(e)));for(let o of r)t[this.componentMap[o]]||(t[this.componentMap[o]]=i)}return t.group&&t.group===t.row&&delete t.row,t}bindComponents(e,t){var o=Object.keys(t).reverse(),i=this.listeners[e],n={},r={};for(let s of o){let e,o=t[s],a=this.previousTargets[s];if(a&&a.target===o)e=a.component;else switch(s){case"row":case"group":if(i.components.includes("row")||i.components.includes("cell")||i.components.includes("group")){let i=this.table.rowManager.getVisibleRows(!0);e=i.find((e=>e.getElement()===o)),t["row"]&&t["row"].parentNode&&t["row"].parentNode.closest(".tabulator-row")&&(t[s]=!1)}break;case"column":i.components.includes("column")&&(e=this.table.columnManager.findColumn(o));break;case"cell":i.components.includes("cell")&&(n["row"]instanceof _?e=n["row"].findCell(o):t["row"]&&console.warn("Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?"));break}e&&(n[s]=e,r[s]={target:o,component:e})}return this.previousTargets=r,n}triggerEvents(e,t,o){var i=this.listeners[e];for(let n in o)o[n]&&i.components.includes(n)&&this.dispatch(n+"-"+e,t,o[n])}clearWatchers(){for(let e in this.listeners){let t=this.listeners[e];t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}}class Ht{constructor(e){this.table=e,this.bindings={}}bind(e,t,o){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,o):this.bindings[e][t]=o}handle(e,t,o){if(this.bindings[e]&&this.bindings[e][o]&&"function"===typeof this.bindings[e][o].bind)return this.bindings[e][o].bind(null,t);"then"===o||"string"!==typeof o||o.startsWith("_")||this.table.options.debugInvalidComponentFuncs&&console.error("The "+e+" component does not have a "+o+" function, have you checked that you have the correct Tabulator module installed?")}}class Vt extends i{constructor(e){super(e),this.requestOrder=0,this.loading=!1}initialize(){}load(e,t,o,i,n,r){var s=++this.requestOrder;if(this.dispatchExternal("dataLoading",e),!e||0!=e.indexOf("{")&&0!=e.indexOf("[")||(e=JSON.parse(e)),this.confirm("data-loading",[e,t,o,n])){this.loading=!0,n||this.alertLoader(),t=this.chain("data-params",[e,o,n],t||{},t||{}),t=this.mapParams(t,this.table.options.dataSendParams);var a=this.chain("data-load",[e,t,o,n],!1,Promise.resolve([]));return a.then((e=>{Array.isArray(e)||"object"!=typeof e||(e=this.mapParams(e,this.objectInvert(this.table.options.dataReceiveParams)));var t=this.chain("data-loaded",e,null,e);s==this.requestOrder?(this.clearAlert(),!1!==t&&(this.dispatchExternal("dataLoaded",t),this.table.rowManager.setData(t,i,"undefined"===typeof r?!i:r))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")})).catch((e=>{console.error("Data Load Error: ",e),this.dispatchExternal("dataLoadError",e),n||this.alertError(),setTimeout((()=>{this.clearAlert()}),this.table.options.dataLoaderErrorTimeout)})).finally((()=>{this.loading=!1}))}return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,i,"undefined"===typeof r?!i:r),Promise.resolve()}mapParams(e,t){var o={};for(let i in e)o[t.hasOwnProperty(i)?t[i]:i]=e[i];return o}objectInvert(e){var t={};for(let o in e)t[e[o]]=o;return t}blockActiveLoad(){this.requestOrder++}alertLoader(){var e="function"===typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader;e&&this.table.alertManager.alert(this.table.options.dataLoaderLoading||this.langText("data|loading"))}alertError(){this.table.alertManager.alert(this.table.options.dataLoaderError||this.langText("data|error"),"error")}clearAlert(){this.table.alertManager.clear()}}class Bt{constructor(e,t,o){this.table=e,this.events={},this.optionsList=t||{},this.subscriptionNotifiers={},this.dispatch=o?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=o}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var o;if(this.events[e]){if(t){if(o=this.events[e].findIndex((e=>e===t)),!(o>-1))return void console.warn("Cannot remove event, no matching event found:",e,t);this.events[e].splice(o,1)}else delete this.events[e];this._notifySubscriptionChange(e,!1)}else console.warn("Cannot remove event, no events set on:",e)}subscribed(e){return this.events[e]&&this.events[e].length}_notifySubscriptionChange(e,t){var o=this.subscriptionNotifiers[e];o&&o.forEach((e=>{e(t)}))}_dispatch(){var e,t=Array.from(arguments),o=t.shift();return this.events[o]&&this.events[o].forEach(((o,i)=>{let n=o.apply(this.table,t);i||(e=n)})),e}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="ExternalEvent:"+e[0],(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}}class jt{constructor(e){this.events={},this.subscriptionNotifiers={},this.dispatch=e?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=e?this._debugChain.bind(this):this._chain.bind(this),this.confirm=e?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=e}subscriptionChange(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifySubscriptionChange(e,!0)}subscribe(e,t,o=1e4){this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:o}),this.events[e].sort(((e,t)=>e.priority-t.priority)),this._notifySubscriptionChange(e,!0)}unsubscribe(e,t){var o;if(this.events[e]){if(t){if(o=this.events[e].findIndex((e=>e.callback===t)),!(o>-1))return void console.warn("Cannot remove event, no matching event found:",e,t);this.events[e].splice(o,1)}this._notifySubscriptionChange(e,!1)}else console.warn("Cannot remove event, no events set on:",e)}subscribed(e){return this.events[e]&&this.events[e].length}_chain(e,t,o,i){var n=o;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach(((e,o)=>{n=e.callback.apply(this,t.concat([n]))})),n):"function"===typeof i?i():i}_confirm(e,t){var o=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach(((e,i)=>{e.callback.apply(this,t)&&(o=!0)})),o}_notifySubscriptionChange(e,t){var o=this.subscriptionNotifiers[e];o&&o.forEach((e=>{e(t)}))}_dispatch(){var e=Array.from(arguments),t=e.shift();this.events[t]&&this.events[t].forEach((t=>{t.callback.apply(this,e)}))}_debugDispatch(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._dispatch(...arguments)}_debugChain(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._chain(...arguments)}_debugConfirm(){var e=Array.from(arguments),t=e[0];return e[0]="InternalEvent:"+t,(!0===this.debug||this.debug.includes(t))&&console.log(...e),this._confirm(...arguments)}}class Wt extends i{constructor(e){super(e)}_warnUser(){this.options("debugDeprecation")&&console.warn(...arguments)}check(e,t){var o="";return"undefined"===typeof this.options(e)||(o="Deprecated Setup Option - Use of the %c"+e+"%c option is now deprecated",t?(o=o+", Please use the %c"+t+"%c option instead",this._warnUser(o,"font-weight: bold;","font-weight: normal;","font-weight: bold;","font-weight: normal;")):this._warnUser(o,"font-weight: bold;","font-weight: normal;"),!1)}checkMsg(e,t){return"undefined"===typeof this.options(e)||(this._warnUser("%cDeprecated Setup Option - Use of the %c"+e+" %c option is now deprecated, "+t,"font-weight: normal;","font-weight: bold;","font-weight: normal;"),!1)}msg(e){this._warnUser(e)}}class zt{static register(e){zt.tables.push(e)}static deregister(e){var t=zt.tables.indexOf(e);t>-1&&zt.tables.splice(t,1)}static lookupTable(e,t){var o,i,n=[];if("string"===typeof e){if(o=document.querySelectorAll(e),o.length)for(var r=0;r<o.length;r++)i=zt.matchElement(o[r]),i&&n.push(i)}else"undefined"!==typeof HTMLElement&&e instanceof HTMLElement||e instanceof io?(i=zt.matchElement(e),i&&n.push(i)):Array.isArray(e)?e.forEach((function(e){n=n.concat(zt.lookupTable(e))})):t||console.warn("Table Connection Error - Invalid Selector",e);return n}static matchElement(e){return zt.tables.find((function(t){return e instanceof io?t===e:t.element===e}))}}function Ut(e,t){t&&this.table.columnManager.renderer.reinitializeColumnWidths(e),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Kt(e,t){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function Yt(e,t){var o=0,i=this.table.rowManager.element.clientWidth,n=0,r=!1;e.forEach(((e,t)=>{e.widthFixed||e.reinitializeWidth(),(this.table.options.responsiveLayout?e.modules.responsive.visible:e.visible)&&(r=e),e.visible&&(o+=e.getWidth())})),r?(n=i-o+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),n>0?r.setWidth(n):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}function qt(e,t){var o=this.table.rowManager.element.getBoundingClientRect().width,i=0,n=0,r=0,s=0,a=[],l=[],u=0,c=0,d=0;function p(e){var t;return t="string"==typeof e?e.indexOf("%")>-1?o/100*parseInt(e):parseInt(e):e,t}function h(e,t,o,i){var n=[],s=0,a=0,l=0,u=r,c=0,d=0,f=[];function g(e){return o*(e.column.definition.widthGrow||1)}function m(e){return p(e.width)-o*(e.column.definition.widthShrink||0)}return e.forEach((function(e,r){var s=i?m(e):g(e);e.column.minWidth>=s?n.push(e):e.column.maxWidth&&e.column.maxWidth<s?(e.width=e.column.maxWidth,t-=e.column.maxWidth,u-=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1,u&&(o=Math.floor(t/u))):(f.push(e),d+=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)})),n.length?(n.forEach((function(e){s+=i?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth})),a=t-s,l=d?Math.floor(a/d):a,c=h(f,a,l,i)):(c=d?t-Math.floor(t/d)*d:t,f.forEach((function(e){e.width=i?m(e):g(e)}))),c}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(o-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach((function(e){var t,o,n;e.visible&&(t=e.definition.width,o=parseInt(e.minWidth),t?(n=p(t),i+=n>o?n:o,e.definition.widthShrink&&(l.push({column:e,width:n>o?n:o}),u+=e.definition.widthShrink)):(a.push({column:e,width:0}),r+=e.definition.widthGrow||1))})),n=o-i,s=Math.floor(n/r),d=h(a,n,s,!1),a.length&&d>0&&(a[a.length-1].width+=d),a.forEach((function(e){n-=e.width})),c=Math.abs(d)+n,c>0&&u&&(d=h(l,c,Math.floor(c/u),!0)),d&&l.length&&(l[l.length-1].width-=d),a.forEach((function(e){e.column.setWidth(e.width)})),l.forEach((function(e){e.column.setWidth(e.width)}))}zt.tables=[];var Jt={fitData:Ut,fitDataFill:Kt,fitDataTable:Kt,fitDataStretch:Yt,fitColumns:qt};class Xt extends s{constructor(e){super(e,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var e=this.table.options.layout;Xt.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(e){this.dispatch("layout-refreshing"),Xt.modes[this.mode].call(this,this.table.columnManager.columnsByIndex,e),this.dispatch("layout-refreshed")}}Xt.moduleName="layout",Xt.modes=Jt;var $t={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All",counter:{showing:"Showing",of:"of",rows:"rows",pages:"pages"}},headerFilters:{default:"filter column...",columns:{}}}};class Qt extends s{constructor(e){super(e),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=n.deepClone(Qt.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let e in this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(e){this.langList.default.headerFilters.default=e}installLang(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}_setLangProp(e,t){for(let o in t)e[o]&&"object"==typeof e[o]?this._setLangProp(e[o],t[o]):e[o]=t[o]}setLocale(e){function t(e,o){for(var i in e)"object"==typeof e[i]?(o[i]||(o[i]={}),t(e[i],o[i])):o[i]=e[i]}if(e=e||"default",!0===e&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){let t=e.split("-")[0];this.langList[t]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,t),e=t):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=n.deepClone(this.langList.default||{}),"default"!=e&&t(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(e){return this.locale}getLang(e){return e?this.langList[e]:this.lang}getText(e,t){var o=t?e+"|"+t:e,i=o.split("|"),n=this._getLangElement(i,this.locale);return n||""}_getLangElement(e,t){var o=this.lang;return e.forEach((function(e){var t;o&&(t=o[e],o="undefined"!=typeof t&&t)})),o}bind(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}_executeBindings(){for(let e in this.bindings)this.bindings[e].forEach((t=>{t(this.getText(e),this.lang)}))}}Qt.moduleName="localize",Qt.langs=$t;class Zt extends s{constructor(e){super(e)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(e){var t,o=[];return t=zt.lookupTable(e),t.forEach((e=>{this.table!==e&&o.push(e)})),o}send(e,t,o,i){var n=this.getConnections(e);n.forEach((e=>{e.tableComms(this.table.element,t,o,i)})),!n.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}receive(e,t,o,i){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,o,i);console.warn("Inter-table Comms Error - no such module:",t)}}Zt.moduleName="comms";var eo=Object.freeze({__proto__:null,LayoutModule:Xt,LocalizeModule:Qt,CommsModule:Zt});class to{constructor(e,t){this.bindStaticFunctionality(e),this.bindModules(e,eo,!0),t&&this.bindModules(e,t)}bindStaticFunctionality(e){e.moduleBindings={},e.extendModule=function(t,o,i){if(e.moduleBindings[t]){var n=e.moduleBindings[t][o];if(n)if("object"==typeof i)for(let e in i)n[e]=i[e];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",o)}else console.warn("Module Error - module does not exist:",t)},e.registerModule=function(t){Array.isArray(t)||(t=[t]),t.forEach((t=>{e.registerModuleBinding(t)}))},e.registerModuleBinding=function(t){e.moduleBindings[t.moduleName]=t},e.findTable=function(e){var t=zt.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t},e.prototype.bindModules=function(){var t=[],o=[],i=[];for(var n in this.modules={},e.moduleBindings){let r=e.moduleBindings[n],s=new r(this);this.modules[n]=s,r.prototype.moduleCore?this.modulesCore.push(s):r.moduleInitOrder?r.moduleInitOrder<0?t.push(s):o.push(s):i.push(s)}t.sort(((e,t)=>e.moduleInitOrder>t.moduleInitOrder?1:-1)),o.sort(((e,t)=>e.moduleInitOrder>t.moduleInitOrder?1:-1)),this.modulesRegular=t.concat(i.concat(o))}}bindModules(e,t,o){var i=Object.values(t);o&&i.forEach((e=>{e.prototype.moduleCore=!0})),e.registerModule(i)}}class oo extends i{constructor(e){super(e),this.element=this._createAlertElement(),this.msgElement=this._createMsgElement(),this.type=null,this.element.appendChild(this.msgElement)}_createAlertElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert"),e}_createMsgElement(){var e=document.createElement("div");return e.classList.add("tabulator-alert-msg"),e.setAttribute("role","alert"),e}_typeClass(){return"tabulator-alert-state-"+this.type}alert(e,t="msg"){if(e){this.clear(),this.type=t;while(this.msgElement.firstChild)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.add(this._typeClass()),"function"===typeof e&&(e=e()),e instanceof HTMLElement?this.msgElement.appendChild(e):this.msgElement.innerHTML=e,this.table.element.appendChild(this.element)}}clear(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.msgElement.classList.remove(this._typeClass())}}class io{constructor(e,t){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.alertManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Ht(this),this.dataLoader=!1,this.modules={},this.modulesCore=[],this.modulesRegular=[],this.deprecationAdvisor=new Wt(this),this.optionsList=new Dt(this,"table constructor"),this.initialized=!1,this.destroyed=!1,this.initializeElement(e)&&(this.initializeCoreSystems(t),setTimeout((()=>{this._create()}))),zt.register(this)}initializeElement(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"===typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}initializeCoreSystems(e){this.columnManager=new xt(this),this.rowManager=new It(this),this.footerManager=new kt(this),this.dataLoader=new Vt(this),this.alertManager=new oo(this),this.bindModules(),this.options=this.optionsList.generate(io.defaultOptions,e),this._clearObjectPointers(),this._mapDeprecatedFunctionality(),this.externalEvents=new Bt(this,this.options,this.options.debugEventsExternal),this.eventBus=new jt(this.options.debugEventsInternal),this.interactionMonitor=new Gt(this),this.dataLoader.initialize(),this.footerManager.initialize()}_mapDeprecatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),Array.isArray(this.options.data)&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var e,t=this.element,o=this.options;if("TABLE"===t.tagName){this.originalElement=this.element,e=document.createElement("div");var i=t.attributes;for(var n in i)"object"==typeof i[n]&&e.setAttribute(i[n].name,i[n].value);t.parentNode.replaceChild(e,t),this.element=t=e}t.classList.add("tabulator"),t.setAttribute("role","grid");while(t.firstChild)t.removeChild(t.firstChild);o.height&&(o.height=isNaN(o.height)?o.height:o.height+"px",t.style.height=o.height),!1!==o.minHeight&&(o.minHeight=isNaN(o.minHeight)?o.minHeight:o.minHeight+"px",t.style.minHeight=o.minHeight),!1!==o.maxHeight&&(o.maxHeight=isNaN(o.maxHeight)?o.maxHeight:o.maxHeight+"px",t.style.maxHeight=o.maxHeight)}_initializeTable(){var e=this.element,t=this.options;this.interactionMonitor.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore.forEach((e=>{e.initialize()})),e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular.forEach((e=>{e.initialize()})),this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var e=this.element;this.destroyed=!0,zt.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.destroy();while(e.firstChild)e.removeChild(e.firstChild);e.classList.remove("tabulator"),this.externalEvents.dispatch("tableDestroyed")}_detectBrowser(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):e.indexOf("Mac OS")>-1?(this.browser="safari",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.slice(0,4))}initGuard(e,t){var o,i;return this.options.debugInitialization&&!this.initialized&&(e||(o=(new Error).stack.split("\n"),i="Error"==o[0]?o[2]:o[1],e=" "==i[0]?i.trim().split(" ")[1].split(".")[1]:i.trim().split("@")[0]),console.warn("Table Not Initialized - Calling the "+e+" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function."+(t?" "+t:""))),this.initialized}blockRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-blocking"),this.rowManager.blockRedraw(),this.columnManager.blockRedraw(),this.eventBus.dispatch("redraw-blocked")}restoreRedraw(){this.initGuard(),this.eventBus.dispatch("redraw-restoring"),this.rowManager.restoreRedraw(),this.columnManager.restoreRedraw(),this.eventBus.dispatch("redraw-restored")}setData(e,t,o){return this.initGuard(!1,"To set initial data please use the 'data' property in the table constructor."),this.dataLoader.load(e,t,o,!1)}clearData(){this.initGuard(),this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(e){return this.rowManager.getData(e)}getDataCount(e){return this.rowManager.getDataCount(e)}replaceData(e,t,o){return this.initGuard(),this.dataLoader.load(e,t,o,!0,!0)}updateData(e){var t=0;return this.initGuard(),new Promise(((o,i)=>{this.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e&&e.length>0?e.forEach((e=>{var n=this.rowManager.findRow(e[this.options.index]);n?(t++,n.updateData(e).then((()=>{t--,t||o()})).catch((t=>{i("Update Error - Unable to update row",e,t)}))):i("Update Error - Unable to find row",e)})):(console.warn("Update Error - No data provided"),i("Update Error - No data provided"))}))}addData(e,t,o){return this.initGuard(),new Promise(((i,n)=>{this.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e?this.rowManager.addRows(e,t,o).then((e=>{var t=[];e.forEach((function(e){t.push(e.getComponent())})),i(t)})):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))}))}updateOrAddData(e){var t=[],o=0;return this.initGuard(),new Promise(((i,n)=>{this.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e&&e.length>0?e.forEach((e=>{var n=this.rowManager.findRow(e[this.options.index]);o++,n?n.updateData(e).then((()=>{o--,t.push(n.getComponent()),o||i(t)})):this.rowManager.addRows(e).then((e=>{o--,t.push(e[0].getComponent()),o||i(t)}))})):(console.warn("Update Error - No data provided"),n("Update Error - No data provided"))}))}getRow(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}getRowFromPosition(e){var t=this.rowManager.getRowFromPosition(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}deleteRow(e){var t=[];this.initGuard(),Array.isArray(e)||(e=[e]);for(let o of e){let e=this.rowManager.findRow(o,!0);if(!e)return console.error("Delete Error - No matching row found:",o),Promise.reject("Delete Error - No matching row found");t.push(e)}return t.sort(((e,t)=>this.rowManager.rows.indexOf(e)>this.rowManager.rows.indexOf(t)?1:-1)),t.forEach((e=>{e.delete()})),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(e,t,o){return this.initGuard(),"string"===typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,o,!0).then((e=>e[0].getComponent()))}updateOrAddRow(e,t){var o=this.rowManager.findRow(e);return this.initGuard(),"string"===typeof t&&(t=JSON.parse(t)),o?o.updateData(t).then((()=>o.getComponent())):this.rowManager.addRows(t).then((e=>e[0].getComponent()))}updateRow(e,t){var o=this.rowManager.findRow(e);return this.initGuard(),"string"===typeof t&&(t=JSON.parse(t)),o?o.updateData(t).then((()=>Promise.resolve(o.getComponent()))):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}scrollToRow(e,t,o){var i=this.rowManager.findRow(e);return i?this.rowManager.scrollToRow(i,t,o):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}moveRow(e,t,o){var i=this.rowManager.findRow(e);this.initGuard(),i?i.moveToRow(t,o):console.warn("Move Error - No matching row found:",e)}getRows(e){return this.rowManager.getComponents(e)}getRowPosition(e){var t=this.rowManager.findRow(e);return t?t.getPosition():(console.warn("Position Error - No matching row found:",e),!1)}setColumns(e){this.initGuard(!1,"To set initial columns please use the 'columns' property in the table constructor"),this.columnManager.setColumns(e)}getColumns(e){return this.columnManager.getComponents(e)}getColumn(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show()}hideColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide()}toggleColumn(e){var t=this.columnManager.findColumn(e);if(this.initGuard(),!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()}addColumn(e,t,o){var i=this.columnManager.findColumn(o);return this.initGuard(),this.columnManager.addColumn(e,t,i).then((e=>e.getComponent()))}deleteColumn(e){var t=this.columnManager.findColumn(e);return this.initGuard(),t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}updateColumnDefinition(e,t){var o=this.columnManager.findColumn(e);return this.initGuard(),o?o.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}moveColumn(e,t,o){var i=this.columnManager.findColumn(e),n=this.columnManager.findColumn(t);this.initGuard(),i?n?this.columnManager.moveColumn(i,n,o):console.warn("Move Error - No matching column found:",n):console.warn("Move Error - No matching column found:",e)}scrollToColumn(e,t,o){return new Promise(((i,n)=>{var r=this.columnManager.findColumn(e);return r?this.columnManager.scrollToColumn(r,t,o):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))}))}redraw(e){this.initGuard(),this.columnManager.redraw(e),this.rowManager.redraw(e)}setHeight(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(e,t){this.externalEvents.subscribe(e,t)}off(e,t){this.externalEvents.unsubscribe(e,t)}dispatchEvent(){var e=Array.from(arguments);e.shift(),this.externalEvents.dispatch(...arguments)}alert(e,t){this.initGuard(),this.alertManager.alert(e,t)}clearAlert(){this.initGuard(),this.alertManager.clear()}modExists(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)}module(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}io.defaultOptions=Pt,new to(io);class no extends io{}new to(no,_t)},89:function(e,t){"use strict";t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o}},2864:function(e,t,o){"use strict";o.d(t,{w:function(){return I}});o(7658);var i=o(4870),n=o(3396),r=o(7139),s=o(9242),a=function(e,t){var o=(0,i.BK)(e),r=o.collapsed,s=o.relative,a=o.width,l=o.widthCollapsed,u=o.rtl,c=(0,i.iH)(null),d=(0,i.iH)(r.value),p=(0,i.iH)(null),h=(0,i.qj)({item:null,rect:{top:0,height:0,padding:"",maxHeight:0,maxWidth:0},timeout:null}),f=(0,n.Fl)((function(){return h.item})),g=(0,n.Fl)((function(){return h.rect})),m=(0,i.iH)(window.location.pathname+window.location.search+window.location.hash),v=function(e){d.value=e},y=function(e){p.value=e},C=function(e){var t=e.item,o=e.itemEl;w();var i=o.children[0],n=i.getBoundingClientRect(),r=n.top,d=n.bottom,p=n.height,h=c.value.getBoundingClientRect(),f=h.left,g=h.right,m=i.offsetParent.getBoundingClientRect().top,v=window.innerHeight,y=window.innerWidth,C=0,b=y,R=parseInt(a.value)-parseInt(l.value);if(s.value){var O=c.value.parentElement;v=O.clientHeight,y=O.clientWidth,C=O.getBoundingClientRect().top,b=O.getBoundingClientRect().right}var T=u.value?y-(b-f):b-g;E(t),S({top:r-m,height:p,padding:window.getComputedStyle(i).paddingRight,maxWidth:T<=R?T:R,maxHeight:v-(d-C)})},b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;f.value&&(w(),e?E(null):h.timeout=setTimeout((function(){E(null)}),t))},w=function(){h.timeout&&clearTimeout(h.timeout)},E=function(e){h.item=e},S=function(e){var t=e.top,o=e.height,i=e.padding,n=e.maxWidth,r=e.maxHeight;h.rect.top=t,h.rect.height=o,h.rect.padding=i,h.rect.maxWidth=n,h.rect.maxHeight=r},R=function(){var e=window.location.pathname+window.location.search+window.location.hash;m.value=e},O=function(e,o){t.emit("item-click",e,o)};return(0,n.JJ)("vsmProps",e),(0,n.JJ)("getSidebarRef",c),(0,n.JJ)("getIsCollapsed",d),(0,n.JJ)("getActiveShow",p),(0,n.JJ)("getMobileItem",f),(0,n.JJ)("getMobileItemRect",g),(0,n.JJ)("getCurrentRoute",m),(0,n.JJ)("updateIsCollapsed",v),(0,n.JJ)("updateActiveShow",y),(0,n.JJ)("setMobileItem",C),(0,n.JJ)("unsetMobileItem",b),(0,n.JJ)("clearMobileItemTimeout",w),(0,n.JJ)("onRouteChange",R),(0,n.JJ)("emitItemClick",O),{getSidebarRef:c,getIsCollapsed:d,getActiveShow:p,getMobileItem:f,getMobileItemRect:g,getCurrentRoute:m,updateIsCollapsed:v,updateActiveShow:y,setMobileItem:C,unsetMobileItem:b,clearMobileItemTimeout:w,updateCurrentRoute:R,onItemClick:O}},l=function(){return{getSidebarProps:(0,n.f3)("vsmProps"),getSidebarRef:(0,n.f3)("getSidebarRef"),getIsCollapsed:(0,n.f3)("getIsCollapsed"),getActiveShow:(0,n.f3)("getActiveShow"),getMobileItem:(0,n.f3)("getMobileItem"),getMobileItemRect:(0,n.f3)("getMobileItemRect"),getCurrentRoute:(0,n.f3)("getCurrentRoute"),updateIsCollapsed:(0,n.f3)("updateIsCollapsed"),updateActiveShow:(0,n.f3)("updateActiveShow"),setMobileItem:(0,n.f3)("setMobileItem"),unsetMobileItem:(0,n.f3)("unsetMobileItem"),clearMobileItemTimeout:(0,n.f3)("clearMobileItemTimeout"),onRouteChange:(0,n.f3)("onRouteChange"),emitItemClick:(0,n.f3)("emitItemClick")}};function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){p(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function h(e,t){var o=e.matched,i=o.length,n=o[i-1],r=t.matched;if(!n||!r.length)return-1;var s=r.findIndex(v.bind(null,n));if(s>-1)return s;var a=m(o[i-2]);return i>1&&m(n)===a&&r[r.length-1].path!==a?r.findIndex(v.bind(null,o[i-2])):s}function f(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var o in e)if(!y(e[o],t[o]))return!1;return!0}function g(e,t){var o=function(o){var i=t[o],n=e[o];if("string"===typeof i){if(i!==n)return{v:!1}}else if(!Array.isArray(n)||n.length!==i.length||i.some((function(e,t){return e!==n[t]})))return{v:!1}};for(var i in t){var n=o(i);if("object"===d(n))return n.v}return!0}function m(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){return Array.isArray(e)?C(e,t):Array.isArray(t)?C(t,e):e===t}function C(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,o){return e===t[o]})):1===e.length&&e[0]===t}function b(e){var t=(0,n.FN)().appContext.config.globalProperties.$router,o=l(),r=o.getSidebarProps,s=o.getIsCollapsed,a=o.getActiveShow,u=o.getMobileItem,d=o.getMobileItemRect,p=o.getCurrentRoute,m=o.updateActiveShow,v=o.setMobileItem,y=o.unsetMobileItem,C=o.clearMobileItemTimeout,b=o.emitItemClick,w=(0,n.f3)("emitScrollUpdate"),E=(0,i.iH)(!1),S=(0,i.iH)(!1),R=(0,n.Fl)((function(){return T(e.item)||_(e.item.child)})),O=(0,n.Fl)((function(){return T(e.item,!0)})),T=function(e,o){if(!e.href||e.external)return!1;if(t){var i=t.resolve(e.href),n=t.currentRoute.value,r=h(i,n);return o||e.exact?r>-1&&r===n.matched.length-1&&f(n.params,i.params):r>-1&&g(n.params,i.params)}return e.href===p.value},_=function e(t){return!!t&&t.some((function(t){return T(t)||e(t.child)}))},P=function(t){(e.item.href&&!e.item.disabled||(t.preventDefault(),!e.item.disabled))&&(x(t,t.currentTarget.parentElement),j.value&&(e.item.href&&!R.value||(G.value=!G.value)),b(t,e.item))},D=function(t){e.item.disabled||(t.stopPropagation(),S.value=!0)},A=function(e){e.stopPropagation(),S.value=!1},M=function(t){e.item.disabled||(r.disableHover?K.value&&j.value&&C():(C(),x(t,t.currentTarget)))},L=function(){r.disableHover&&!j.value||K.value&&y(!1,r.disableHover?void 0:300)},x=function(t,o){K.value||s.value&&setTimeout((function(){V.value&&(K.value||v({item:e.item,itemEl:o})),"click"!==t.type||j.value||y(!1,V.value?void 0:300)}),0)},F=function(e){e.style.height=e.scrollHeight+"px"},N=function(e){e.style.height="auto",s.value||w()},I=function(e){s.value&&V.value?e.style.display="none":e.style.height=e.scrollHeight+"px"},k=function(){s.value||w()},G=(0,n.Fl)({get:function(){return!!j.value&&(s.value&&V.value?H.value:!!r.showChild||(r.showOneChild&&V.value?e.item.id===a.value:E.value))},set:function(t){r.showOneChild&&V.value&&m(t?e.item.id:null),E.value=t}}),H=(0,n.Fl)((function(){return s.value&&V.value?K.value:S.value})),V=(0,n.Fl)((function(){return 1===e.level})),B=(0,n.Fl)((function(){return s.value?!(!e.item.hidden||void 0!==e.item.hiddenOnCollapse)||!0===e.item.hiddenOnCollapse:!0===e.item.hidden})),j=(0,n.Fl)((function(){return!!(e.item.child&&e.item.child.length>0)})),W=(0,n.Fl)((function(){return["vsm--link","vsm--link_level-".concat(e.level),{"vsm--link_mobile":K.value},{"vsm--link_hover":H.value},{"vsm--link_active":R.value},{"vsm--link_disabled":e.item.disabled},{"vsm--link_open":G.value},e.item.class]})),z=(0,n.Fl)((function(){var t=e.item.href?e.item.href:"#",o=e.item.external?"_blank":"_self",i=e.item.disabled?-1:null,n=O.value?"page":null,r=!!j.value||null,s=j.value?G.value:null;return c({href:t,target:o,tabindex:i,"aria-current":n,"aria-haspopup":r,"aria-expanded":s},e.item.attributes)})),U=(0,n.Fl)((function(){return["vsm--item",{"vsm--item_mobile":K.value}]})),K=(0,n.Fl)((function(){var t;return e.item.id===(null===(t=u.value)||void 0===t?void 0:t.id)})),Y=(0,n.Fl)((function(){return[{position:"absolute"},{top:"".concat(d.value.top+d.value.height,"px")},r.rtl?{right:r.widthCollapsed}:{left:r.widthCollapsed},{width:"".concat(d.value.maxWidth,"px")},{"max-height":"".concat(d.value.maxHeight,"px")},{"overflow-y":"auto"}]})),q=(0,n.Fl)((function(){return[{position:"absolute"},{top:"".concat(d.value.top,"px")},r.rtl?{right:r.widthCollapsed}:{left:r.widthCollapsed},{width:"".concat(d.value.maxWidth,"px")},{height:"".concat(d.value.height,"px")},{"padding-right":"".concat(d.value.padding)},{"padding-left":"".concat(d.value.padding)},{"z-index":"20"}]})),J=(0,n.Fl)((function(){return[{position:"absolute"},{top:"".concat(d.value.top,"px")},r.rtl?{right:"0px"}:{left:"0px"},{width:"".concat(d.value.maxWidth+parseInt(r.widthCollapsed),"px")},{height:"".concat(d.value.height,"px")},{"z-index":"10"}]}));return(0,n.YP)((function(){return R.value}),(function(){R.value&&(G.value=!0)}),{immediate:!0}),{active:R,exactActive:O,show:G,hover:H,isFirstLevel:V,isHidden:B,hasChild:j,linkClass:W,linkAttrs:z,itemClass:U,isMobileItem:K,mobileItemDropdownStyle:Y,mobileItemStyle:q,mobileItemBackgroundStyle:J,onLinkClick:P,onMouseOver:D,onMouseOut:A,onMouseEnter:M,onMouseLeave:L,onExpandEnter:F,onExpandAfterEnter:N,onExpandBeforeLeave:I,onExpandAfterLeave:k}}var w={name:"SidebarMenuLink",inheritAttrs:!1,props:{item:{type:Object,required:!0}},data(){return{router:!1}},computed:{isHyperLink(){return!(this.item.href&&!this.item.external&&this.router)}},mounted(){this.router=!!this.$router}};const E=["href","onClick"];function S(e,t,o,i,s,a){const l=(0,n.up)("router-link");return a.isHyperLink?((0,n.wg)(),(0,n.iD)("a",(0,r.vs)((0,n.dG)({key:0},e.$attrs)),[(0,n.WI)(e.$slots,"default")],16)):((0,n.wg)(),(0,n.j4)(l,{key:1,custom:"",to:e.$attrs.href},{default:(0,n.w5)((({href:t,navigate:o})=>[(0,n._)("a",(0,n.dG)(e.$attrs,{href:t,onClick:o}),[(0,n.WI)(e.$slots,"default")],16,E)])),_:3},8,["to"]))}w.render=S,w.__file="src/components/SidebarMenuLink.vue";var R={name:"SidebarMenuIcon",props:{icon:{type:[String,Object],default:""}}};function O(e,t,o,i,s,a){return(0,n.wg)(),(0,n.j4)((0,n.LL)(o.icon.element?o.icon.element:"i"),(0,n.dG)({class:["vsm--icon","string"===typeof o.icon||o.icon instanceof String?o.icon:o.icon.class],"aria-hidden":"true"},o.icon.attributes),{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.icon.text),1)])),_:1},16,["class"])}R.render=O,R.__file="src/components/SidebarMenuIcon.vue";var T={name:"SidebarMenuBadge",props:{badge:{type:Object,default:()=>{}}}};function _(e,t,o,i,s,a){return(0,n.wg)(),(0,n.j4)((0,n.LL)(o.badge.element?o.badge.element:"span"),(0,n.dG)({class:["vsm--badge",o.badge.class]},o.badge.attributes),{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.badge.text),1)])),_:1},16,["class"])}T.render=_,T.__file="src/components/SidebarMenuBadge.vue";var P={name:"SidebarMenuItem",components:{SidebarMenuLink:w,SidebarMenuIcon:R,SidebarMenuBadge:T},props:{item:{type:Object,required:!0},level:{type:Number,default:1}},setup(e){const{getSidebarProps:t,getIsCollapsed:o}=l(),{linkComponentName:n}=(0,i.BK)(t),{active:r,exactActive:s,show:a,hover:u,isFirstLevel:c,isHidden:d,hasChild:p,linkClass:h,linkAttrs:f,itemClass:g,isMobileItem:m,mobileItemStyle:v,mobileItemDropdownStyle:y,mobileItemBackgroundStyle:C,onLinkClick:w,onMouseOver:E,onMouseOut:S,onMouseEnter:R,onMouseLeave:O,onExpandEnter:T,onExpandAfterEnter:_,onExpandBeforeLeave:P,onExpandAfterLeave:D}=b(e);return{isCollapsed:o,linkComponentName:n,active:r,exactActive:s,isMobileItem:m,mobileItemStyle:v,mobileItemDropdownStyle:y,mobileItemBackgroundStyle:C,show:a,hover:u,isFirstLevel:c,isHidden:d,hasChild:p,linkClass:h,linkAttrs:f,itemClass:g,onLinkClick:w,onMouseOver:E,onMouseOut:S,onMouseEnter:R,onMouseLeave:O,onExpandEnter:T,onExpandAfterEnter:_,onExpandBeforeLeave:P,onExpandAfterLeave:D}}};const D={key:0},A={class:"vsm--dropdown"};function M(e,t,o,i,a,l){const u=(0,n.up)("sidebar-menu-icon"),c=(0,n.up)("sidebar-menu-badge"),d=(0,n.up)("sidebar-menu-item",!0);return o.item.component&&!i.isHidden?((0,n.wg)(),(0,n.iD)("li",D,[((0,n.wg)(),(0,n.j4)((0,n.LL)(o.item.component),(0,r.vs)((0,n.F4)(o.item.props)),null,16))])):o.item.header&&!i.isHidden?((0,n.wg)(),(0,n.iD)("li",(0,n.dG)({key:1,class:["vsm--header",o.item.class]},o.item.attributes),(0,r.zw)(o.item.header),17)):i.isHidden?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("li",(0,n.dG)({key:2,class:i.itemClass,onMouseover:t[0]||(t[0]=(...e)=>i.onMouseOver&&i.onMouseOver(...e)),onMouseout:t[1]||(t[1]=(...e)=>i.onMouseOut&&i.onMouseOut(...e))},(0,n.mx)(i.isCollapsed&&i.isFirstLevel?{mouseenter:i.onMouseEnter,mouseleave:i.onMouseLeave}:{},!0)),[((0,n.wg)(),(0,n.j4)((0,n.LL)(i.linkComponentName?i.linkComponentName:"SidebarMenuLink"),(0,n.dG)({item:o.item,class:i.linkClass},i.linkAttrs,{onClick:i.onLinkClick}),{default:(0,n.w5)((()=>[i.isCollapsed&&i.isFirstLevel?((0,n.wg)(),(0,n.j4)(s.uT,{key:0,name:"slide-animation"},{default:(0,n.w5)((()=>[i.hover?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"vsm--mobile-bg",style:(0,r.j5)(i.mobileItemBackgroundStyle)},null,4)):(0,n.kq)("v-if",!0)])),_:1})):(0,n.kq)("v-if",!0),o.item.icon?((0,n.wg)(),(0,n.j4)(u,{key:1,icon:o.item.icon},null,8,["icon"])):(0,n.kq)("v-if",!0),(0,n._)("div",{class:(0,r.C_)(["vsm--title",i.isCollapsed&&i.isFirstLevel&&!i.isMobileItem&&"vsm--title_hidden"]),style:(0,r.j5)(i.isMobileItem&&i.mobileItemStyle)},[(0,n._)("span",null,(0,r.zw)(o.item.title),1),o.item.badge?((0,n.wg)(),(0,n.j4)(c,{key:0,badge:o.item.badge},null,8,["badge"])):(0,n.kq)("v-if",!0),i.hasChild?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,r.C_)(["vsm--arrow",{"vsm--arrow_open":i.show}])},[(0,n.WI)(e.$slots,"dropdown-icon",(0,r.vs)((0,n.F4)({isOpen:i.show})))],2)):(0,n.kq)("v-if",!0)],6)])),_:3},16,["item","class","onClick"])),i.hasChild?((0,n.wg)(),(0,n.j4)(s.uT,{key:0,appear:i.isMobileItem,name:"expand",onEnter:i.onExpandEnter,onAfterEnter:i.onExpandAfterEnter,onBeforeLeave:i.onExpandBeforeLeave,onAfterLeave:i.onExpandAfterLeave},{default:(0,n.w5)((()=>[i.show?((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,r.C_)(["vsm--child",i.isMobileItem&&"vsm--child_mobile"]),style:(0,r.j5)(i.isMobileItem&&i.mobileItemDropdownStyle)},[(0,n._)("ul",A,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.item.child,(t=>((0,n.wg)(),(0,n.j4)(d,{key:t.id,item:t,level:o.level+1},{"dropdown-icon":(0,n.w5)((({isOpen:t})=>[(0,n.WI)(e.$slots,"dropdown-icon",(0,r.vs)((0,n.F4)({isOpen:t})))])),_:2},1032,["item","level"])))),128))])],6)):(0,n.kq)("v-if",!0)])),_:3},8,["appear","onEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])):(0,n.kq)("v-if",!0)],16))}P.render=M,P.__file="src/components/SidebarMenuItem.vue";var L={name:"SidebarMenuScroll",setup(){const{getIsCollapsed:e}=l(),t=(0,i.iH)(null),o=(0,i.iH)(null),r=(0,i.iH)(null);let s=0,a=!1;const u=()=>{t.value&&(0,n.Y3)((()=>{g()}))},c=()=>{requestAnimationFrame(u)},d=e=>{const t=Math.abs(o.value.getBoundingClientRect().y-e.clientY),i=r.value.offsetHeight/2;m(t-i)},p=e=>{e.stopImmediatePropagation(),a=!0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",f),s=r.value.offsetHeight-(e.clientY-r.value.getBoundingClientRect().y)},h=e=>{if(!a)return;const t=e.clientY-o.value.getBoundingClientRect().y,i=r.value.offsetHeight-s;m(t-i)},f=e=>{a=!1,s=0,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",f)},g=()=>{const e=100*t.value.clientHeight/t.value.scrollHeight,o=e<100?e:0,i=100*t.value.scrollTop/t.value.clientHeight||0;r.value.style.height=`${o}%`,r.value.style.transform=`translateY(${i}%)`},m=e=>{const i=100*e/o.value.offsetHeight;t.value.scrollTop=i*t.value.scrollHeight/100};return(0,n.YP)((()=>e.value),(()=>{u()})),(0,n.bv)((()=>{u(),window.addEventListener("resize",u)})),(0,n.Ah)((()=>{window.removeEventListener("resize",u)})),(0,n.JJ)("emitScrollUpdate",u),{scrollRef:t,scrollBarRef:o,scrollThumbRef:r,onScroll:c,onClick:d,onMouseDown:p}}};const x={class:"vsm--scroll-wrapper"},F={class:"vsm--scroll-overflow"};function N(e,t,o,i,r,s){return(0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("div",F,[(0,n._)("div",{ref:"scrollRef",class:"vsm--scroll",onScroll:t[0]||(t[0]=(...e)=>i.onScroll&&i.onScroll(...e))},[(0,n.WI)(e.$slots,"default")],544),(0,n._)("div",{ref:"scrollBarRef",class:"vsm--scroll-bar",onMousedown:t[2]||(t[2]=(...e)=>i.onClick&&i.onClick(...e))},[(0,n._)("div",{ref:"scrollThumbRef",class:"vsm--scroll-thumb",onMousedown:t[1]||(t[1]=(...e)=>i.onMouseDown&&i.onMouseDown(...e))},null,544)],544)])])}L.render=N,L.__file="src/components/SidebarMenuScroll.vue";var I={name:"SidebarMenu",components:{SidebarMenuItem:P,SidebarMenuScroll:L},props:{menu:{type:Array,required:!0},collapsed:{type:Boolean,default:!1},width:{type:String,default:"290px"},widthCollapsed:{type:String,default:"65px"},showChild:{type:Boolean,default:!1},theme:{type:String,default:""},showOneChild:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},relative:{type:Boolean,default:!1},hideToggle:{type:Boolean,default:!1},disableHover:{type:Boolean,default:!1},linkComponentName:{type:String,default:void 0}},emits:{"item-click"(e,t){return!(!e||!t)},"update:collapsed"(e){return!("boolean"!==typeof e)}},setup(e,t){const{getSidebarRef:o,getIsCollapsed:i,updateIsCollapsed:r,unsetMobileItem:s,updateCurrentRoute:l}=a(e,t),u=(0,n.Fl)((()=>{let t=0;function o(e){function i(){return""+(Date.now()+""+t++)}return e.map((e=>({id:i(),...e,...e.child&&{child:o(e.child)}})))}return o(e.menu)})),c=(0,n.Fl)((()=>i.value?e.widthCollapsed:e.width)),d=(0,n.Fl)((()=>[i.value?"vsm_collapsed":"vsm_expanded",e.theme?`vsm_${e.theme}`:"",e.rtl?"vsm_rtl":"",e.relative?"vsm_relative":""])),p=()=>{s(),r(!i.value),t.emit("update:collapsed",i.value)};(0,n.YP)((()=>e.collapsed),(e=>{s(),r(e)}));const h=(0,n.FN)().appContext.config.globalProperties.$router;return h||((0,n.bv)((()=>{window.addEventListener("hashchange",l)})),(0,n.Ah)((()=>{window.removeEventListener("hashchange",l)}))),{sidebarMenuRef:o,isCollapsed:i,computedMenu:u,sidebarWidth:c,sidebarClass:d,onToggleClick:p,onRouteChange:l}}};const k=(0,n._)("span",{class:"vsm--arrow_default"},null,-1),G=(0,n._)("span",{class:"vsm--toggle-btn_default"},null,-1);function H(e,t,o,i,s,a){const l=(0,n.up)("sidebar-menu-item"),u=(0,n.up)("sidebar-menu-scroll");return(0,n.wg)(),(0,n.iD)("div",{ref:"sidebarMenuRef",class:(0,r.C_)(["v-sidebar-menu",i.sidebarClass]),style:(0,r.j5)({"max-width":i.sidebarWidth})},[(0,n.WI)(e.$slots,"header"),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n._)("ul",{class:"vsm--menu",style:(0,r.j5)({width:i.sidebarWidth})},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.computedMenu,(t=>((0,n.wg)(),(0,n.j4)(l,{key:t.id,item:t},{"dropdown-icon":(0,n.w5)((({isOpen:t})=>[(0,n.WI)(e.$slots,"dropdown-icon",(0,r.vs)((0,n.F4)({isOpen:t})),(()=>[k]))])),_:2},1032,["item"])))),128))],4)])),_:3}),(0,n.WI)(e.$slots,"footer"),o.hideToggle?(0,n.kq)("v-if",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"vsm--toggle-btn",onClick:t[0]||(t[0]=(...e)=>i.onToggleClick&&i.onToggleClick(...e))},[(0,n.WI)(e.$slots,"toggle-icon",{},(()=>[G]))]))],6)}I.render=H,I.__file="src/components/SidebarMenu.vue"},6943:function(e,t,o){"use strict";o.d(t,{Z:function(){return xt}});o(7658);function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:n}=Object.prototype,{getPrototypeOf:r}=Object,s=(e=>t=>{const o=n.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),a=e=>(e=e.toLowerCase(),t=>s(t)===e),l=e=>t=>typeof t===e,{isArray:u}=Array,c=l("undefined");function d(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const p=a("ArrayBuffer");function h(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t}const f=l("string"),g=l("function"),m=l("number"),v=e=>null!==e&&"object"===typeof e,y=e=>!0===e||!1===e,C=e=>{if("object"!==s(e))return!1;const t=r(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=a("Date"),w=a("File"),E=a("Blob"),S=a("FileList"),R=e=>v(e)&&g(e.pipe),O=e=>{const t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||n.call(e)===t||g(e.toString)&&e.toString()===t)},T=a("URLSearchParams"),_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function P(e,t,{allOwnKeys:o=!1}={}){if(null===e||"undefined"===typeof e)return;let i,n;if("object"!==typeof e&&(e=[e]),u(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const n=o?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let s;for(i=0;i<r;i++)s=n[i],t.call(null,e[s],s,e)}}function D(e,t){t=t.toLowerCase();const o=Object.keys(e);let i,n=o.length;while(n-- >0)if(i=o[n],t===i.toLowerCase())return i;return null}const A=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),M=e=>!c(e)&&e!==A;function L(){const{caseless:e}=M(this)&&this||{},t={},o=(o,i)=>{const n=e&&D(t,i)||i;C(t[n])&&C(o)?t[n]=L(t[n],o):C(o)?t[n]=L({},o):u(o)?t[n]=o.slice():t[n]=o};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&P(arguments[i],o);return t}const x=(e,t,o,{allOwnKeys:n}={})=>(P(t,((t,n)=>{o&&g(t)?e[n]=i(t,o):e[n]=t}),{allOwnKeys:n}),e),F=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),N=(e,t,o,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},I=(e,t,o,i)=>{let n,s,a;const l={};if(t=t||{},null==e)return t;do{n=Object.getOwnPropertyNames(e),s=n.length;while(s-- >0)a=n[s],i&&!i(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==o&&r(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},k=(e,t,o)=>{e=String(e),(void 0===o||o>e.length)&&(o=e.length),o-=t.length;const i=e.indexOf(t,o);return-1!==i&&i===o},G=e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!m(t))return null;const o=new Array(t);while(t-- >0)o[t]=e[t];return o},H=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&r(Uint8Array)),V=(e,t)=>{const o=e&&e[Symbol.iterator],i=o.call(e);let n;while((n=i.next())&&!n.done){const o=n.value;t.call(e,o[0],o[1])}},B=(e,t)=>{let o;const i=[];while(null!==(o=e.exec(t)))i.push(o);return i},j=a("HTMLFormElement"),W=e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,o){return t.toUpperCase()+o})),z=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),U=a("RegExp"),K=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),i={};P(o,((o,n)=>{!1!==t(o,n,e)&&(i[n]=o)})),Object.defineProperties(e,i)},Y=e=>{K(e,((t,o)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(o))return!1;const i=e[o];g(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")}))}))},q=(e,t)=>{const o={},i=e=>{e.forEach((e=>{o[e]=!0}))};return u(e)?i(e):i(String(e).split(t)),o},J=()=>{},X=(e,t)=>(e=+e,Number.isFinite(e)?e:t),$=e=>{const t=new Array(10),o=(e,i)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const n=u(e)?[]:{};return P(e,((e,t)=>{const r=o(e,i+1);!c(r)&&(n[t]=r)})),t[i]=void 0,n}}return e};return o(e,0)};var Q={isArray:u,isArrayBuffer:p,isBuffer:d,isFormData:O,isArrayBufferView:h,isString:f,isNumber:m,isBoolean:y,isObject:v,isPlainObject:C,isUndefined:c,isDate:b,isFile:w,isBlob:E,isRegExp:U,isFunction:g,isStream:R,isURLSearchParams:T,isTypedArray:H,isFileList:S,forEach:P,merge:L,extend:x,trim:_,stripBOM:F,inherits:N,toFlatObject:I,kindOf:s,kindOfTest:a,endsWith:k,toArray:G,forEachEntry:V,matchAll:B,isHTMLForm:j,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:K,freezeMethods:Y,toObjectSet:q,toCamelCase:W,noop:J,toFiniteNumber:X,findKey:D,global:A,isContextDefined:M,toJSONObject:$};o(541);function Z(e,t,o,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),i&&(this.request=i),n&&(this.response=n)}Q.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ee=Z.prototype,te={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{te[e]={value:e}})),Object.defineProperties(Z,te),Object.defineProperty(ee,"isAxiosError",{value:!0}),Z.from=(e,t,o,i,n,r)=>{const s=Object.create(ee);return Q.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Z.call(s,e.message,t,o,i,n),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};var oe=Z,ie=o(6237),ne=ie;function re(e){return Q.isPlainObject(e)||Q.isArray(e)}function se(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function ae(e,t,o){return e?e.concat(t).map((function(e,t){return e=se(e),!o&&t?"["+e+"]":e})).join(o?".":""):t}function le(e){return Q.isArray(e)&&!e.some(re)}const ue=Q.toFlatObject(Q,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ce(e){return e&&Q.isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator]}function de(e,t,o){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new(ne||FormData),o=Q.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Q.isUndefined(t[e])}));const i=o.metaTokens,n=o.visitor||c,r=o.dots,s=o.indexes,a=o.Blob||"undefined"!==typeof Blob&&Blob,l=a&&ce(t);if(!Q.isFunction(n))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(Q.isDate(e))return e.toISOString();if(!l&&Q.isBlob(e))throw new oe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(e)||Q.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,o,n){let a=e;if(e&&!n&&"object"===typeof e)if(Q.endsWith(o,"{}"))o=i?o:o.slice(0,-2),e=JSON.stringify(e);else if(Q.isArray(e)&&le(e)||Q.isFileList(e)||Q.endsWith(o,"[]")&&(a=Q.toArray(e)))return o=se(o),a.forEach((function(e,i){!Q.isUndefined(e)&&null!==e&&t.append(!0===s?ae([o],i,r):null===s?o:o+"[]",u(e))})),!1;return!!re(e)||(t.append(ae(n,o,r),u(e)),!1)}const d=[],p=Object.assign(ue,{defaultVisitor:c,convertValue:u,isVisitable:re});function h(e,o){if(!Q.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+o.join("."));d.push(e),Q.forEach(e,(function(e,i){const r=!(Q.isUndefined(e)||null===e)&&n.call(t,e,Q.isString(i)?i.trim():i,o,p);!0===r&&h(e,o?o.concat(i):[i])})),d.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return h(e),t}var pe=de;function he(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function fe(e,t){this._pairs=[],e&&pe(e,this,t)}const ge=fe.prototype;ge.append=function(e,t){this._pairs.push([e,t])},ge.toString=function(e){const t=e?function(t){return e.call(this,t,he)}:he;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var me=fe;function ve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ye(e,t,o){if(!t)return e;const i=o&&o.encode||ve,n=o&&o.serialize;let r;if(r=n?n(t,o):Q.isURLSearchParams(t)?t.toString():new me(t,o).toString(i),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}class Ce{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!o&&o.synchronous,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var be=Ce,we={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ee="undefined"!==typeof URLSearchParams?URLSearchParams:me,Se=FormData;const Re=(()=>{let e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)})(),Oe=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var Te={isBrowser:!0,classes:{URLSearchParams:Ee,FormData:Se,Blob:Blob},isStandardBrowserEnv:Re,isStandardBrowserWebWorkerEnv:Oe,protocols:["http","https","file","blob","url","data"]};function _e(e,t){return pe(e,new Te.classes.URLSearchParams,Object.assign({visitor:function(e,t,o,i){return Te.isNode&&Q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Pe(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function De(e){const t={},o=Object.keys(e);let i;const n=o.length;let r;for(i=0;i<n;i++)r=o[i],t[r]=e[r];return t}function Ae(e){function t(e,o,i,n){let r=e[n++];const s=Number.isFinite(+r),a=n>=e.length;if(r=!r&&Q.isArray(i)?i.length:r,a)return Q.hasOwnProp(i,r)?i[r]=[i[r],o]:i[r]=o,!s;i[r]&&Q.isObject(i[r])||(i[r]=[]);const l=t(e,o,i[r],n);return l&&Q.isArray(i[r])&&(i[r]=De(i[r])),!s}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const o={};return Q.forEachEntry(e,((e,i)=>{t(Pe(e),i,o,0)})),o}return null}var Me=Ae;const Le={"Content-Type":void 0};function xe(e,t,o){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(o||JSON.stringify)(e)}const Fe={transitional:we,adapter:["xhr","http"],transformRequest:[function(e,t){const o=t.getContentType()||"",i=o.indexOf("application/json")>-1,n=Q.isObject(e);n&&Q.isHTMLForm(e)&&(e=new FormData(e));const r=Q.isFormData(e);if(r)return i&&i?JSON.stringify(Me(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return _e(e,this.formSerializer).toString();if((s=Q.isFileList(e))||o.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return pe(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||i?(t.setContentType("application/json",!1),xe(e)):e}],transformResponse:[function(e){const t=this.transitional||Fe.transitional,o=t&&t.forcedJSONParsing,i="json"===this.responseType;if(e&&Q.isString(e)&&(o&&!this.responseType||i)){const o=t&&t.silentJSONParsing,r=!o&&i;try{return JSON.parse(e)}catch(n){if(r){if("SyntaxError"===n.name)throw oe.from(n,oe.ERR_BAD_RESPONSE,this,null,this.response);throw n}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Te.classes.FormData,Blob:Te.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Q.forEach(["delete","get","head"],(function(e){Fe.headers[e]={}})),Q.forEach(["post","put","patch"],(function(e){Fe.headers[e]=Q.merge(Le)}));var Ne=Fe;const Ie=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ke=e=>{const t={};let o,i,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),o=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!o||t[o]&&Ie[o]||("set-cookie"===o?t[o]?t[o].push(i):t[o]=[i]:t[o]=t[o]?t[o]+", "+i:i)})),t};const Ge=Symbol("internals");function He(e){return e&&String(e).trim().toLowerCase()}function Ve(e){return!1===e||null==e?e:Q.isArray(e)?e.map(Ve):String(e)}function Be(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;while(i=o.exec(e))t[i[1]]=i[2];return t}function je(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function We(e,t,o,i){return Q.isFunction(i)?i.call(this,t,o):Q.isString(t)?Q.isString(i)?-1!==t.indexOf(i):Q.isRegExp(i)?i.test(t):void 0:void 0}function ze(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,o)=>t.toUpperCase()+o))}function Ue(e,t){const o=Q.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+o,{value:function(e,o,n){return this[i].call(this,t,e,o,n)},configurable:!0})}))}class Ke{constructor(e){e&&this.set(e)}set(e,t,o){const i=this;function n(e,t,o){const n=He(t);if(!n)throw new Error("header name must be a non-empty string");const r=Q.findKey(i,n);(!r||void 0===i[r]||!0===o||void 0===o&&!1!==i[r])&&(i[r||t]=Ve(e))}const r=(e,t)=>Q.forEach(e,((e,o)=>n(e,o,t)));return Q.isPlainObject(e)||e instanceof this.constructor?r(e,t):Q.isString(e)&&(e=e.trim())&&!je(e)?r(ke(e),t):null!=e&&n(t,e,o),this}get(e,t){if(e=He(e),e){const o=Q.findKey(this,e);if(o){const e=this[o];if(!t)return e;if(!0===t)return Be(e);if(Q.isFunction(t))return t.call(this,e,o);if(Q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=He(e),e){const o=Q.findKey(this,e);return!(!o||t&&!We(this,this[o],o,t))}return!1}delete(e,t){const o=this;let i=!1;function n(e){if(e=He(e),e){const n=Q.findKey(o,e);!n||t&&!We(o,o[n],n,t)||(delete o[n],i=!0)}}return Q.isArray(e)?e.forEach(n):n(e),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,o={};return Q.forEach(this,((i,n)=>{const r=Q.findKey(o,n);if(r)return t[r]=Ve(i),void delete t[n];const s=e?ze(n):String(n).trim();s!==n&&delete t[n],t[s]=Ve(i),o[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,((o,i)=>{null!=o&&!1!==o&&(t[i]=e&&Q.isArray(o)?o.join(", "):o)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const o=new this(e);return t.forEach((e=>o.set(e))),o}static accessor(e){const t=this[Ge]=this[Ge]={accessors:{}},o=t.accessors,i=this.prototype;function n(e){const t=He(e);o[t]||(Ue(i,e),o[t]=!0)}return Q.isArray(e)?e.forEach(n):n(e),this}}Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),Q.freezeMethods(Ke.prototype),Q.freezeMethods(Ke);var Ye=Ke;function qe(e,t){const o=this||Ne,i=t||o,n=Ye.from(i.headers);let r=i.data;return Q.forEach(e,(function(e){r=e.call(o,r,n.normalize(),t?t.status:void 0)})),n.normalize(),r}function Je(e){return!(!e||!e.__CANCEL__)}function Xe(e,t,o){oe.call(this,null==e?"canceled":e,oe.ERR_CANCELED,t,o),this.name="CanceledError"}Q.inherits(Xe,oe,{__CANCEL__:!0});var $e=Xe,Qe=null;o(2801);function Ze(e,t,o){const i=o.config.validateStatus;o.status&&i&&!i(o.status)?t(new oe("Request failed with status code "+o.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o)):e(o)}var et=Te.isStandardBrowserEnv?function(){return{write:function(e,t,o,i,n,r){const s=[];s.push(e+"="+encodeURIComponent(t)),Q.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),Q.isString(i)&&s.push("path="+i),Q.isString(n)&&s.push("domain="+n),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ot(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function it(e,t){return e&&!tt(t)?ot(e,t):t}var nt=Te.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let o;function i(o){let i=o;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return o=i(window.location.href),function(e){const t=Q.isString(e)?i(e):e;return t.protocol===o.protocol&&t.host===o.host}}():function(){return function(){return!0}}();function rt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function st(e,t){e=e||10;const o=new Array(e),i=new Array(e);let n,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=i[s];n||(n=l),o[r]=a,i[r]=l;let c=s,d=0;while(c!==r)d+=o[c++],c%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-n<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}}var at=st;function lt(e,t){let o=0;const i=at(50,250);return n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,a=r-o,l=i(a),u=r<=s;o=r;const c={loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&u?(s-r)/l:void 0,event:n};c[t?"download":"upload"]=!0,e(c)}}const ut="undefined"!==typeof XMLHttpRequest;var ct=ut&&function(e){return new Promise((function(t,o){let i=e.data;const n=Ye.from(e.headers).normalize(),r=e.responseType;let s;function a(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Q.isFormData(i)&&(Te.isStandardBrowserEnv||Te.isStandardBrowserWebWorkerEnv)&&n.setContentType(!1);let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",o=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(t+":"+o))}const u=it(e.baseURL,e.url);function c(){if(!l)return;const i=Ye.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),n=r&&"text"!==r&&"json"!==r?l.response:l.responseText,s={data:n,status:l.status,statusText:l.statusText,headers:i,config:e,request:l};Ze((function(e){t(e),a()}),(function(e){o(e),a()}),s),l=null}if(l.open(e.method.toUpperCase(),ye(u,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=c:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(c)},l.onabort=function(){l&&(o(new oe("Request aborted",oe.ECONNABORTED,e,l)),l=null)},l.onerror=function(){o(new oe("Network Error",oe.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const i=e.transitional||we;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),o(new oe(t,i.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,l)),l=null},Te.isStandardBrowserEnv){const t=(e.withCredentials||nt(u))&&e.xsrfCookieName&&et.read(e.xsrfCookieName);t&&n.set(e.xsrfHeaderName,t)}void 0===i&&n.setContentType(null),"setRequestHeader"in l&&Q.forEach(n.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),Q.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),r&&"json"!==r&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",lt(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",lt(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(o(!t||t.type?new $e(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const d=rt(u);d&&-1===Te.protocols.indexOf(d)?o(new oe("Unsupported protocol "+d+":",oe.ERR_BAD_REQUEST,e)):l.send(i||null)}))};const dt={http:Qe,xhr:ct};Q.forEach(dt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(o){}Object.defineProperty(e,"adapterName",{value:t})}}));var pt={getAdapter:e=>{e=Q.isArray(e)?e:[e];const{length:t}=e;let o,i;for(let n=0;n<t;n++)if(o=e[n],i=Q.isString(o)?dt[o.toLowerCase()]:o)break;if(!i){if(!1===i)throw new oe(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(Q.hasOwnProp(dt,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`)}if(!Q.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:dt};function ht(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $e(null,e)}function ft(e){ht(e),e.headers=Ye.from(e.headers),e.data=qe.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=pt.getAdapter(e.adapter||Ne.adapter);return t(e).then((function(t){return ht(e),t.data=qe.call(e,e.transformResponse,t),t.headers=Ye.from(t.headers),t}),(function(t){return Je(t)||(ht(e),t&&t.response&&(t.response.data=qe.call(e,e.transformResponse,t.response),t.response.headers=Ye.from(t.response.headers))),Promise.reject(t)}))}const gt=e=>e instanceof Ye?e.toJSON():e;function mt(e,t){t=t||{};const o={};function i(e,t,o){return Q.isPlainObject(e)&&Q.isPlainObject(t)?Q.merge.call({caseless:o},e,t):Q.isPlainObject(t)?Q.merge({},t):Q.isArray(t)?t.slice():t}function n(e,t,o){return Q.isUndefined(t)?Q.isUndefined(e)?void 0:i(void 0,e,o):i(e,t,o)}function r(e,t){if(!Q.isUndefined(t))return i(void 0,t)}function s(e,t){return Q.isUndefined(t)?Q.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(o,n,r){return r in t?i(o,n):r in e?i(void 0,o):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>n(gt(e),gt(t),!0)};return Q.forEach(Object.keys(e).concat(Object.keys(t)),(function(i){const r=l[i]||n,s=r(e[i],t[i],i);Q.isUndefined(s)&&r!==a||(o[i]=s)})),o}const vt="1.2.2",yt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{yt[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}}));const Ct={};function bt(e,t,o){if("object"!==typeof e)throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;while(n-- >0){const r=i[n],s=t[r];if(s){const t=e[r],o=void 0===t||s(t,r,e);if(!0!==o)throw new oe("option "+r+" must be "+o,oe.ERR_BAD_OPTION_VALUE)}else if(!0!==o)throw new oe("Unknown option "+r,oe.ERR_BAD_OPTION)}}yt.transitional=function(e,t,o){function i(e,t){return"[Axios v"+vt+"] Transitional option '"+e+"'"+t+(o?". "+o:"")}return(o,n,r)=>{if(!1===e)throw new oe(i(n," has been removed"+(t?" in "+t:"")),oe.ERR_DEPRECATED);return t&&!Ct[n]&&(Ct[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(o,n,r)}};var wt={assertOptions:bt,validators:yt};const Et=wt.validators;class St{constructor(e){this.defaults=e,this.interceptors={request:new be,response:new be}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=mt(this.defaults,t);const{transitional:o,paramsSerializer:i,headers:n}=t;let r;void 0!==o&&wt.assertOptions(o,{silentJSONParsing:Et.transitional(Et.boolean),forcedJSONParsing:Et.transitional(Et.boolean),clarifyTimeoutError:Et.transitional(Et.boolean)},!1),void 0!==i&&wt.assertOptions(i,{encode:Et.function,serialize:Et.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),r=n&&Q.merge(n.common,n[t.method]),r&&Q.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=Ye.concat(r,n);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!a){const e=[ft.bind(this),void 0];e.unshift.apply(e,s),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);while(d<c)u=u.then(e[d++],e[d++]);return u}c=s.length;let p=t;d=0;while(d<c){const e=s[d++],t=s[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{u=ft.call(this,p)}catch(h){return Promise.reject(h)}d=0,c=l.length;while(d<c)u=u.then(l[d++],l[d++]);return u}getUri(e){e=mt(this.defaults,e);const t=it(e.baseURL,e.url);return ye(t,e.params,e.paramsSerializer)}}Q.forEach(["delete","get","head","options"],(function(e){St.prototype[e]=function(t,o){return this.request(mt(o||{},{method:e,url:t,data:(o||{}).data}))}})),Q.forEach(["post","put","patch"],(function(e){function t(t){return function(o,i,n){return this.request(mt(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}St.prototype[e]=t(),St.prototype[e+"Form"]=t(!0)}));var Rt=St;class Ot{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const o=this;this.promise.then((e=>{if(!o._listeners)return;let t=o._listeners.length;while(t-- >0)o._listeners[t](e);o._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{o.subscribe(e),t=e})).then(e);return i.cancel=function(){o.unsubscribe(t)},i},e((function(e,i,n){o.reason||(o.reason=new $e(e,i,n),t(o.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new Ot((function(t){e=t}));return{token:t,cancel:e}}}var Tt=Ot;function _t(e){return function(t){return e.apply(null,t)}}function Pt(e){return Q.isObject(e)&&!0===e.isAxiosError}const Dt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Dt).forEach((([e,t])=>{Dt[t]=e}));var At=Dt;function Mt(e){const t=new Rt(e),o=i(Rt.prototype.request,t);return Q.extend(o,Rt.prototype,t,{allOwnKeys:!0}),Q.extend(o,t,null,{allOwnKeys:!0}),o.create=function(t){return Mt(mt(e,t))},o}const Lt=Mt(Ne);Lt.Axios=Rt,Lt.CanceledError=$e,Lt.CancelToken=Tt,Lt.isCancel=Je,Lt.VERSION=vt,Lt.toFormData=pe,Lt.AxiosError=oe,Lt.Cancel=Lt.CanceledError,Lt.all=function(e){return Promise.all(e)},Lt.spread=_t,Lt.isAxiosError=Pt,Lt.mergeConfig=mt,Lt.AxiosHeaders=Ye,Lt.formToJSON=e=>Me(Q.isHTMLForm(e)?new FormData(e):e),Lt.HttpStatusCode=At,Lt.default=Lt;var xt=Lt},2483:function(e,t,o){"use strict";o.d(t,{PO:function(){return H},p7:function(){return tt}});o(7658),o(541);var i=o(3396),n=o(4870);
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const r="undefined"!==typeof window;function s(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const a=Object.assign;function l(e,t){const o={};for(const i in t){const n=t[i];o[i]=c(n)?n.map(e):e(n)}return o}const u=()=>{},c=Array.isArray;const d=/\/$/,p=e=>e.replace(d,"");function h(e,t,o="/"){let i,n={},r="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),n=e(r)),a>-1&&(i=i||t.slice(0,a),s=t.slice(a,t.length)),i=w(null!=i?i:t,o),{fullPath:i+(r&&"?")+r+s,path:i,query:n,hash:s}}function f(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function g(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function m(e,t,o){const i=t.matched.length-1,n=o.matched.length-1;return i>-1&&i===n&&v(t.matched[i],o.matched[n])&&y(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!C(e[o],t[o]))return!1;return!0}function C(e,t){return c(e)?b(e,t):c(t)?b(t,e):e===t}function b(e,t){return c(t)?e.length===t.length&&e.every(((e,o)=>e===t[o])):1===e.length&&e[0]===t}function w(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),i=e.split("/");let n,r,s=o.length-1;for(n=0;n<i.length;n++)if(r=i[n],"."!==r){if(".."!==r)break;s>1&&s--}return o.slice(0,s).join("/")+"/"+i.slice(n-(n===i.length?1:0)).join("/")}var E,S;(function(e){e["pop"]="pop",e["push"]="push"})(E||(E={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(S||(S={}));function R(e){if(!e)if(r){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),p(e)}const O=/^[^#]+#/;function T(e,t){return e.replace(O,"#")+t}function _(e,t){const o=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-o.left-(t.left||0),top:i.top-o.top-(t.top||0)}}const P=()=>({left:window.pageXOffset,top:window.pageYOffset});function D(e){let t;if("el"in e){const o=e.el,i="string"===typeof o&&o.startsWith("#");0;const n="string"===typeof o?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!n)return;t=_(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function A(e,t){const o=history.state?history.state.position-t:-1;return o+e}const M=new Map;function L(e,t){M.set(e,t)}function x(e){const t=M.get(e);return M.delete(e),t}let F=()=>location.protocol+"//"+location.host;function N(e,t){const{pathname:o,search:i,hash:n}=t,r=e.indexOf("#");if(r>-1){let t=n.includes(e.slice(r))?e.slice(r).length:1,o=n.slice(t);return"/"!==o[0]&&(o="/"+o),g(o,"")}const s=g(o,e);return s+i+n}function I(e,t,o,i){let n=[],r=[],s=null;const l=({state:r})=>{const a=N(e,location),l=o.value,u=t.value;let c=0;if(r){if(o.value=a,t.value=r,s&&s===l)return void(s=null);c=u?r.position-u.position:0}else i(a);n.forEach((e=>{e(o.value,l,{delta:c,type:E.pop,direction:c?c>0?S.forward:S.back:S.unknown})}))};function u(){s=o.value}function c(e){n.push(e);const t=()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)};return r.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(a({},e.state,{scroll:P()}),"")}function p(){for(const e of r)e();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:c,destroy:p}}function k(e,t,o,i=!1,n=!1){return{back:e,current:t,forward:o,replaced:i,position:window.history.length,scroll:n?P():null}}function G(e){const{history:t,location:o}=window,i={value:N(e,o)},n={value:t.state};function r(i,r,s){const a=e.indexOf("#"),l=a>-1?(o.host&&document.querySelector("base")?e:e.slice(a))+i:F()+e+i;try{t[s?"replaceState":"pushState"](r,"",l),n.value=r}catch(u){console.error(u),o[s?"replace":"assign"](l)}}function s(e,o){const s=a({},t.state,k(n.value.back,e,n.value.forward,!0),o,{position:n.value.position});r(e,s,!0),i.value=e}function l(e,o){const s=a({},n.value,t.state,{forward:e,scroll:P()});r(s.current,s,!0);const l=a({},k(i.value,e,null),{position:s.position+1},o);r(e,l,!1),i.value=e}return n.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:n,push:l,replace:s}}function H(e){e=R(e);const t=G(e),o=I(e,t.state,t.location,t.replace);function i(e,t=!0){t||o.pauseListeners(),history.go(e)}const n=a({location:"",base:e,go:i,createHref:T.bind(null,e)},t,o);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function V(e){return"string"===typeof e||e&&"object"===typeof e}function B(e){return"string"===typeof e||"symbol"===typeof e}const j={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},W=Symbol("");var z;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(z||(z={}));function U(e,t){return a(new Error,{type:e,[W]:!0},t)}function K(e,t){return e instanceof Error&&W in e&&(null==t||!!(e.type&t))}const Y="[^/]+?",q={sensitive:!1,strict:!1,start:!0,end:!0},J=/[.+*?^${}()[\]/\\]/g;function X(e,t){const o=a({},q,t),i=[];let n=o.start?"^":"";const r=[];for(const a of e){const e=a.length?[]:[90];o.strict&&!a.length&&(n+="/");for(let t=0;t<a.length;t++){const i=a[t];let s=40+(o.sensitive?.25:0);if(0===i.type)t||(n+="/"),n+=i.value.replace(J,"\\$&"),s+=40;else if(1===i.type){const{value:e,repeatable:o,optional:l,regexp:u}=i;r.push({name:e,repeatable:o,optional:l});const c=u||Y;if(c!==Y){s+=10;try{new RegExp(`(${c})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+d.message)}}let p=o?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;t||(p=l&&a.length<2?`(?:/${p})`:"/"+p),l&&(p+="?"),n+=p,s+=20,l&&(s+=-8),o&&(s+=-20),".*"===c&&(s+=-50)}e.push(s)}i.push(e)}if(o.strict&&o.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}o.strict||(n+="/?"),o.end?n+="$":o.strict&&(n+="(?:/|$)");const s=new RegExp(n,o.sensitive?"":"i");function l(e){const t=e.match(s),o={};if(!t)return null;for(let i=1;i<t.length;i++){const e=t[i]||"",n=r[i-1];o[n.name]=e&&n.repeatable?e.split("/"):e}return o}function u(t){let o="",i=!1;for(const n of e){i&&o.endsWith("/")||(o+="/"),i=!1;for(const e of n)if(0===e.type)o+=e.value;else if(1===e.type){const{value:r,repeatable:s,optional:a}=e,l=r in t?t[r]:"";if(c(l)&&!s)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${r}"`);n.length<2&&(o.endsWith("/")?o=o.slice(0,-1):i=!0)}o+=u}}return o||"/"}return{re:s,score:i,keys:r,parse:l,stringify:u}}function $(e,t){let o=0;while(o<e.length&&o<t.length){const i=t[o]-e[o];if(i)return i;o++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Q(e,t){let o=0;const i=e.score,n=t.score;while(o<i.length&&o<n.length){const e=$(i[o],n[o]);if(e)return e;o++}if(1===Math.abs(n.length-i.length)){if(Z(i))return 1;if(Z(n))return-1}return n.length-i.length}function Z(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function oe(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${o})/"${u}": ${e}`)}let o=0,i=o;const n=[];let r;function s(){r&&n.push(r),r=[]}let a,l=0,u="",c="";function d(){u&&(0===o?r.push({type:0,value:u}):1===o||2===o||3===o?(r.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function p(){u+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===o)switch(o){case 0:"/"===a?(u&&d(),s()):":"===a?(d(),o=1):p();break;case 4:p(),o=i;break;case 1:"("===a?o=2:te.test(a)?p():(d(),o=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:o=3:c+=a;break;case 3:d(),o=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:t("Unknown state");break}else i=o,o=4;return 2===o&&t(`Unfinished custom RegExp for param "${u}"`),d(),s(),n}function ie(e,t,o){const i=X(oe(e.path),o);const n=a(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf===!t.record.aliasOf&&t.children.push(n),n}function ne(e,t){const o=[],i=new Map;function n(e){return i.get(e)}function r(e,o,i){const n=!i,l=se(e);l.aliasOf=i&&i.record;const d=ce(t,e),p=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)p.push(a({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l}))}let h,f;for(const t of p){const{path:a}=t;if(o&&"/"!==a[0]){const e=o.record.path,i="/"===e[e.length-1]?"":"/";t.path=o.record.path+(a&&i+a)}if(h=ie(t,o,d),i?i.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),n&&e.name&&!le(h)&&s(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],h,i&&i.children[t])}i=i||h,(h.record.components&&Object.keys(h.record.components).length||h.record.name||h.record.redirect)&&c(h)}return f?()=>{s(f)}:u}function s(e){if(B(e)){const t=i.get(e);t&&(i.delete(e),o.splice(o.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=o.indexOf(e);t>-1&&(o.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function l(){return o}function c(e){let t=0;while(t<o.length&&Q(e,o[t])>=0&&(e.record.path!==o[t].record.path||!de(e,o[t])))t++;o.splice(t,0,e),e.record.name&&!le(e)&&i.set(e.record.name,e)}function d(e,t){let n,r,s,l={};if("name"in e&&e.name){if(n=i.get(e.name),!n)throw U(1,{location:e});0,s=n.record.name,l=a(re(t.params,n.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&re(e.params,n.keys.map((e=>e.name)))),r=n.stringify(l)}else if("path"in e)r=e.path,n=o.find((e=>e.re.test(r))),n&&(l=n.parse(r),s=n.record.name);else{if(n=t.name?i.get(t.name):o.find((e=>e.re.test(t.path))),!n)throw U(1,{location:e,currentLocation:t});s=n.record.name,l=a({},t.params,e.params),r=n.stringify(l)}const u=[];let c=n;while(c)u.unshift(c.record),c=c.parent;return{name:s,path:r,params:l,matched:u,meta:ue(u)}}return t=ce({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:d,removeRoute:s,getRoutes:l,getRecordMatcher:n}}function re(e,t){const o={};for(const i of t)i in e&&(o[i]=e[i]);return o}function se(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ae(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ae(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const i in e.components)t[i]="boolean"===typeof o?o:o[i];return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ue(e){return e.reduce(((e,t)=>a(e,t.meta)),{})}function ce(e,t){const o={};for(const i in e)o[i]=i in t?t[i]:e[i];return o}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const pe=/#/g,he=/&/g,fe=/\//g,ge=/=/g,me=/\?/g,ve=/\+/g,ye=/%5B/g,Ce=/%5D/g,be=/%5E/g,we=/%60/g,Ee=/%7B/g,Se=/%7C/g,Re=/%7D/g,Oe=/%20/g;function Te(e){return encodeURI(""+e).replace(Se,"|").replace(ye,"[").replace(Ce,"]")}function _e(e){return Te(e).replace(Ee,"{").replace(Re,"}").replace(be,"^")}function Pe(e){return Te(e).replace(ve,"%2B").replace(Oe,"+").replace(pe,"%23").replace(he,"%26").replace(we,"`").replace(Ee,"{").replace(Re,"}").replace(be,"^")}function De(e){return Pe(e).replace(ge,"%3D")}function Ae(e){return Te(e).replace(pe,"%23").replace(me,"%3F")}function Me(e){return null==e?"":Ae(e).replace(fe,"%2F")}function Le(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function xe(e){const t={};if(""===e||"?"===e)return t;const o="?"===e[0],i=(o?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const e=i[n].replace(ve," "),o=e.indexOf("="),r=Le(o<0?e:e.slice(0,o)),s=o<0?null:Le(e.slice(o+1));if(r in t){let e=t[r];c(e)||(e=t[r]=[e]),e.push(s)}else t[r]=s}return t}function Fe(e){let t="";for(let o in e){const i=e[o];if(o=De(o),null==i){void 0!==i&&(t+=(t.length?"&":"")+o);continue}const n=c(i)?i.map((e=>e&&Pe(e))):[i&&Pe(i)];n.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+o,null!=e&&(t+="="+e))}))}return t}function Ne(e){const t={};for(const o in e){const i=e[o];void 0!==i&&(t[o]=c(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}const Ie=Symbol(""),ke=Symbol(""),Ge=Symbol(""),He=Symbol(""),Ve=Symbol("");function Be(){let e=[];function t(t){return e.push(t),()=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)}}function o(){e=[]}return{add:t,list:()=>e,reset:o}}function je(e,t,o,i,n){const r=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise(((s,a)=>{const l=e=>{!1===e?a(U(4,{from:o,to:t})):e instanceof Error?a(e):V(e)?a(U(2,{from:t,to:e})):(r&&i.enterCallbacks[n]===r&&"function"===typeof e&&r.push(e),s())},u=e.call(i&&i.instances[n],t,o,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch((e=>a(e)))}))}function We(e,t,o,i){const n=[];for(const r of e){0;for(const e in r.components){let a=r.components[e];if("beforeRouteEnter"===t||r.instances[e])if(ze(a)){const s=a.__vccOpts||a,l=s[t];l&&n.push(je(l,o,i,r,e))}else{let l=a();0,n.push((()=>l.then((n=>{if(!n)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${r.path}"`));const a=s(n)?n.default:n;r.components[e]=a;const l=a.__vccOpts||a,u=l[t];return u&&je(u,o,i,r,e)()}))))}}}return n}function ze(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ue(e){const t=(0,i.f3)(Ge),o=(0,i.f3)(He),r=(0,i.Fl)((()=>t.resolve((0,n.SU)(e.to)))),s=(0,i.Fl)((()=>{const{matched:e}=r.value,{length:t}=e,i=e[t-1],n=o.matched;if(!i||!n.length)return-1;const s=n.findIndex(v.bind(null,i));if(s>-1)return s;const a=Xe(e[t-2]);return t>1&&Xe(i)===a&&n[n.length-1].path!==a?n.findIndex(v.bind(null,e[t-2])):s})),a=(0,i.Fl)((()=>s.value>-1&&Je(o.params,r.value.params))),l=(0,i.Fl)((()=>s.value>-1&&s.value===o.matched.length-1&&y(o.params,r.value.params)));function c(o={}){return qe(o)?t[(0,n.SU)(e.replace)?"replace":"push"]((0,n.SU)(e.to)).catch(u):Promise.resolve()}return{route:r,href:(0,i.Fl)((()=>r.value.href)),isActive:a,isExactActive:l,navigate:c}}const Ke=(0,i.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ue,setup(e,{slots:t}){const o=(0,n.qj)(Ue(e)),{options:r}=(0,i.f3)(Ge),s=(0,i.Fl)((()=>({[$e(e.activeClass,r.linkActiveClass,"router-link-active")]:o.isActive,[$e(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive})));return()=>{const n=t.default&&t.default(o);return e.custom?n:(0,i.h)("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:s.value},n)}}}),Ye=Ke;function qe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Je(e,t){for(const o in t){const i=t[o],n=e[o];if("string"===typeof i){if(i!==n)return!1}else if(!c(n)||n.length!==i.length||i.some(((e,t)=>e!==n[t])))return!1}return!0}function Xe(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $e=(e,t,o)=>null!=e?e:null!=t?t:o,Qe=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const r=(0,i.f3)(Ve),s=(0,i.Fl)((()=>e.route||r.value)),l=(0,i.f3)(ke,0),u=(0,i.Fl)((()=>{let e=(0,n.SU)(l);const{matched:t}=s.value;let o;while((o=t[e])&&!o.components)e++;return e})),c=(0,i.Fl)((()=>s.value.matched[u.value]));(0,i.JJ)(ke,(0,i.Fl)((()=>u.value+1))),(0,i.JJ)(Ie,c),(0,i.JJ)(Ve,s);const d=(0,n.iH)();return(0,i.YP)((()=>[d.value,c.value,e.name]),(([e,t,o],[i,n,r])=>{t&&(t.instances[o]=e,n&&n!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=n.leaveGuards),t.updateGuards.size||(t.updateGuards=n.updateGuards))),!e||!t||n&&v(t,n)&&i||(t.enterCallbacks[o]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const n=s.value,r=e.name,l=c.value,u=l&&l.components[r];if(!u)return Ze(o.default,{Component:u,route:n});const p=l.props[r],h=p?!0===p?n.params:"function"===typeof p?p(n):p:null,f=e=>{e.component.isUnmounted&&(l.instances[r]=null)},g=(0,i.h)(u,a({},h,t,{onVnodeUnmounted:f,ref:d}));return Ze(o.default,{Component:g,route:n})||g}}});function Ze(e,t){if(!e)return null;const o=e(t);return 1===o.length?o[0]:o}const et=Qe;function tt(e){const t=ne(e.routes,e),o=e.parseQuery||xe,s=e.stringifyQuery||Fe,d=e.history;const p=Be(),g=Be(),v=Be(),y=(0,n.XI)(j);let C=j;r&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=l.bind(null,(e=>""+e)),w=l.bind(null,Me),S=l.bind(null,Le);function R(e,o){let i,n;return B(e)?(i=t.getRecordMatcher(e),n=o):n=e,t.addRoute(n,i)}function O(e){const o=t.getRecordMatcher(e);o&&t.removeRoute(o)}function T(){return t.getRoutes().map((e=>e.record))}function _(e){return!!t.getRecordMatcher(e)}function M(e,i){if(i=a({},i||y.value),"string"===typeof e){const n=h(o,e,i.path),r=t.resolve({path:n.path},i),s=d.createHref(n.fullPath);return a(n,r,{params:S(r.params),hash:Le(n.hash),redirectedFrom:void 0,href:s})}let n;if("path"in e)n=a({},e,{path:h(o,e.path,i.path).path});else{const t=a({},e.params);for(const e in t)null==t[e]&&delete t[e];n=a({},e,{params:w(e.params)}),i.params=w(i.params)}const r=t.resolve(n,i),l=e.hash||"";r.params=b(S(r.params));const u=f(s,a({},e,{hash:_e(l),path:r.path})),c=d.createHref(u);return a({fullPath:u,hash:l,query:s===Fe?Ne(e.query):e.query||{}},r,{redirectedFrom:void 0,href:c})}function F(e){return"string"===typeof e?h(o,e,y.value.path):a({},e)}function N(e,t){if(C!==e)return U(8,{from:t,to:e})}function I(e){return H(e)}function k(e){return I(a(F(e),{replace:!0}))}function G(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:o}=t;let i="function"===typeof o?o(e):o;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=F(i):{path:i},i.params={}),a({query:e.query,hash:e.hash,params:"path"in i?{}:e.params},i)}}function H(e,t){const o=C=M(e),i=y.value,n=e.state,r=e.force,l=!0===e.replace,u=G(o);if(u)return H(a(F(u),{state:"object"===typeof u?a({},n,u.state):n,force:r,replace:l}),t||o);const c=o;let d;return c.redirectedFrom=t,!r&&m(s,i,o)&&(d=U(16,{to:c,from:i}),oe(i,i,!0,!1)),(d?Promise.resolve(d):W(c,i)).catch((e=>K(e)?K(e,2)?e:te(e):Z(e,c,i))).then((e=>{if(e){if(K(e,2))return H(a({replace:l},F(e.to),{state:"object"===typeof e.to?a({},n,e.to.state):n,force:r}),t||c)}else e=Y(c,i,!0,l,n);return z(c,i,e),e}))}function V(e,t){const o=N(e,t);return o?Promise.reject(o):Promise.resolve()}function W(e,t){let o;const[i,n,r]=it(e,t);o=We(i.reverse(),"beforeRouteLeave",e,t);for(const a of i)a.leaveGuards.forEach((i=>{o.push(je(i,e,t))}));const s=V.bind(null,e,t);return o.push(s),ot(o).then((()=>{o=[];for(const i of p.list())o.push(je(i,e,t));return o.push(s),ot(o)})).then((()=>{o=We(n,"beforeRouteUpdate",e,t);for(const i of n)i.updateGuards.forEach((i=>{o.push(je(i,e,t))}));return o.push(s),ot(o)})).then((()=>{o=[];for(const i of e.matched)if(i.beforeEnter&&!t.matched.includes(i))if(c(i.beforeEnter))for(const n of i.beforeEnter)o.push(je(n,e,t));else o.push(je(i.beforeEnter,e,t));return o.push(s),ot(o)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),o=We(r,"beforeRouteEnter",e,t),o.push(s),ot(o)))).then((()=>{o=[];for(const i of g.list())o.push(je(i,e,t));return o.push(s),ot(o)})).catch((e=>K(e,8)?e:Promise.reject(e)))}function z(e,t,o){for(const i of v.list())i(e,t,o)}function Y(e,t,o,i,n){const s=N(e,t);if(s)return s;const l=t===j,u=r?history.state:{};o&&(i||l?d.replace(e.fullPath,a({scroll:l&&u&&u.scroll},n)):d.push(e.fullPath,n)),y.value=e,oe(e,t,o,l),te()}let q;function J(){q||(q=d.listen(((e,t,o)=>{if(!ae.listening)return;const i=M(e),n=G(i);if(n)return void H(a(n,{replace:!0}),i).catch(u);C=i;const s=y.value;r&&L(A(s.fullPath,o.delta),P()),W(i,s).catch((e=>K(e,12)?e:K(e,2)?(H(e.to,i).then((e=>{K(e,20)&&!o.delta&&o.type===E.pop&&d.go(-1,!1)})).catch(u),Promise.reject()):(o.delta&&d.go(-o.delta,!1),Z(e,i,s)))).then((e=>{e=e||Y(i,s,!1),e&&(o.delta&&!K(e,8)?d.go(-o.delta,!1):o.type===E.pop&&K(e,20)&&d.go(-1,!1)),z(i,s,e)})).catch(u)})))}let X,$=Be(),Q=Be();function Z(e,t,o){te(e);const i=Q.list();return i.length?i.forEach((i=>i(e,t,o))):console.error(e),Promise.reject(e)}function ee(){return X&&y.value!==j?Promise.resolve():new Promise(((e,t)=>{$.add([e,t])}))}function te(e){return X||(X=!e,J(),$.list().forEach((([t,o])=>e?o(e):t())),$.reset()),e}function oe(t,o,n,s){const{scrollBehavior:a}=e;if(!r||!a)return Promise.resolve();const l=!n&&x(A(t.fullPath,0))||(s||!n)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>a(t,o,l))).then((e=>e&&D(e))).catch((e=>Z(e,t,o)))}const ie=e=>d.go(e);let re;const se=new Set,ae={currentRoute:y,listening:!0,addRoute:R,removeRoute:O,hasRoute:_,getRoutes:T,resolve:M,options:e,push:I,replace:k,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:p.add,beforeResolve:g.add,afterEach:v.add,onError:Q.add,isReady:ee,install(e){const t=this;e.component("RouterLink",Ye),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,n.SU)(y)}),r&&!re&&y.value===j&&(re=!0,I(d.location).catch((e=>{0})));const o={};for(const n in j)o[n]=(0,i.Fl)((()=>y.value[n]));e.provide(Ge,t),e.provide(He,(0,n.qj)(o)),e.provide(Ve,y);const s=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(C=j,q&&q(),q=null,y.value=j,re=!1,X=!1),s()}}};return ae}function ot(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function it(e,t){const o=[],i=[],n=[],r=Math.max(t.matched.length,e.matched.length);for(let s=0;s<r;s++){const r=t.matched[s];r&&(e.matched.find((e=>v(e,r)))?i.push(r):o.push(r));const a=e.matched[s];a&&(t.matched.find((e=>v(e,a)))||n.push(a))}return[o,i,n]}}}]);
//# sourceMappingURL=chunk-vendors.c88ab097.js.map